/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@distube";
exports.ids = ["vendor-chunks/@distube"];
exports.modules = {

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/agent.js":
/*!******************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/agent.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const { ProxyAgent } = __webpack_require__(/*! undici */ \"(rsc)/./node_modules/undici/index.js\");\nconst { HttpsProxyAgent } = __webpack_require__(/*! https-proxy-agent */ \"(rsc)/./node_modules/https-proxy-agent/dist/index.js\");\nconst { Cookie, CookieJar, canonicalDomain } = __webpack_require__(/*! tough-cookie */ \"(rsc)/./node_modules/tough-cookie/lib/cookie.js\");\nconst { CookieAgent, CookieClient } = __webpack_require__(/*! http-cookie-agent/undici */ \"(rsc)/./node_modules/http-cookie-agent/undici/index.js\");\n\nconst convertSameSite = sameSite => {\n  switch (sameSite) {\n    case \"strict\":\n      return \"strict\";\n    case \"lax\":\n      return \"lax\";\n    case \"no_restriction\":\n    case \"unspecified\":\n    default:\n      return \"none\";\n  }\n};\n\nconst convertCookie = cookie =>\n  cookie instanceof Cookie\n    ? cookie\n    : new Cookie({\n        key: cookie.name,\n        value: cookie.value,\n        expires: typeof cookie.expirationDate === \"number\" ? new Date(cookie.expirationDate * 1000) : \"Infinity\",\n        domain: canonicalDomain(cookie.domain),\n        path: cookie.path,\n        secure: cookie.secure,\n        httpOnly: cookie.httpOnly,\n        sameSite: convertSameSite(cookie.sameSite),\n        hostOnly: cookie.hostOnly,\n      });\n\nconst addCookies = (exports.addCookies = (jar, cookies) => {\n  if (!cookies || !Array.isArray(cookies)) {\n    throw new Error(\"cookies must be an array\");\n  }\n  if (!cookies.some(c => c.name === \"SOCS\")) {\n    cookies.push({\n      domain: \".youtube.com\",\n      hostOnly: false,\n      httpOnly: false,\n      name: \"SOCS\",\n      path: \"/\",\n      sameSite: \"lax\",\n      secure: true,\n      session: false,\n      value: \"CAI\",\n    });\n  }\n  for (const cookie of cookies) {\n    jar.setCookieSync(convertCookie(cookie), \"https://www.youtube.com\");\n  }\n});\n\nexports.addCookiesFromString = (jar, cookies) => {\n  if (!cookies || typeof cookies !== \"string\") {\n    throw new Error(\"cookies must be a string\");\n  }\n  return addCookies(\n    jar,\n    cookies\n      .split(\";\")\n      .map(c => Cookie.parse(c))\n      .filter(Boolean),\n  );\n};\n\nconst createAgent = (exports.createAgent = (cookies = [], opts = {}) => {\n  const options = Object.assign({}, opts);\n  if (!options.cookies) {\n    const jar = new CookieJar();\n    addCookies(jar, cookies);\n    options.cookies = { jar };\n  }\n  return {\n    dispatcher: new CookieAgent(options),\n    localAddress: options.localAddress,\n    jar: options.cookies.jar,\n  };\n});\n\nexports.createProxyAgent = (options, cookies = []) => {\n  if (!cookies) cookies = [];\n  if (typeof options === \"string\") options = { uri: options };\n  if (options.factory) throw new Error(\"Cannot use factory with createProxyAgent\");\n  const jar = new CookieJar();\n  addCookies(jar, cookies);\n  const proxyOptions = Object.assign(\n    {\n      factory: (origin, opts) => {\n        const o = Object.assign({ cookies: { jar } }, opts);\n        return new CookieClient(origin, o);\n      },\n    },\n    options,\n  );\n\n  // ProxyAgent type that node httplibrary supports\n  const agent = new HttpsProxyAgent(options.uri);\n\n  // ProxyAgent type that undici supports\n  const dispatcher = new ProxyAgent(proxyOptions);\n\n  return { dispatcher, agent, jar, localAddress: options.localAddress };\n};\n\nexports.defaultAgent = createAgent();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi9hZ2VudC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxRQUFRLGFBQWEsRUFBRSxtQkFBTyxDQUFDLG9EQUFRO0FBQ3ZDLFFBQVEsa0JBQWtCLEVBQUUsbUJBQU8sQ0FBQywrRUFBbUI7QUFDdkQsUUFBUSxxQ0FBcUMsRUFBRSxtQkFBTyxDQUFDLHFFQUFjO0FBQ3JFLFFBQVEsNEJBQTRCLEVBQUUsbUJBQU8sQ0FBQyx3RkFBMEI7O0FBRXhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVAsb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixtQkFBbUIsMkJBQTJCO0FBQ25FLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCx3QkFBd0I7QUFDeEI7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFdBQVcsT0FBTztBQUNwRDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsV0FBVztBQUNYOztBQUVBLG9CQUFvQiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCdXJha1xcRG9jdW1lbnRzXFxHaXRIdWJcXHlvdXR1YmUtZG93bmxvYWRlclxcbm9kZV9tb2R1bGVzXFxAZGlzdHViZVxceXRkbC1jb3JlXFxsaWJcXGFnZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHsgUHJveHlBZ2VudCB9ID0gcmVxdWlyZShcInVuZGljaVwiKTtcbmNvbnN0IHsgSHR0cHNQcm94eUFnZW50IH0gPSByZXF1aXJlKFwiaHR0cHMtcHJveHktYWdlbnRcIik7XG5jb25zdCB7IENvb2tpZSwgQ29va2llSmFyLCBjYW5vbmljYWxEb21haW4gfSA9IHJlcXVpcmUoXCJ0b3VnaC1jb29raWVcIik7XG5jb25zdCB7IENvb2tpZUFnZW50LCBDb29raWVDbGllbnQgfSA9IHJlcXVpcmUoXCJodHRwLWNvb2tpZS1hZ2VudC91bmRpY2lcIik7XG5cbmNvbnN0IGNvbnZlcnRTYW1lU2l0ZSA9IHNhbWVTaXRlID0+IHtcbiAgc3dpdGNoIChzYW1lU2l0ZSkge1xuICAgIGNhc2UgXCJzdHJpY3RcIjpcbiAgICAgIHJldHVybiBcInN0cmljdFwiO1xuICAgIGNhc2UgXCJsYXhcIjpcbiAgICAgIHJldHVybiBcImxheFwiO1xuICAgIGNhc2UgXCJub19yZXN0cmljdGlvblwiOlxuICAgIGNhc2UgXCJ1bnNwZWNpZmllZFwiOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJub25lXCI7XG4gIH1cbn07XG5cbmNvbnN0IGNvbnZlcnRDb29raWUgPSBjb29raWUgPT5cbiAgY29va2llIGluc3RhbmNlb2YgQ29va2llXG4gICAgPyBjb29raWVcbiAgICA6IG5ldyBDb29raWUoe1xuICAgICAgICBrZXk6IGNvb2tpZS5uYW1lLFxuICAgICAgICB2YWx1ZTogY29va2llLnZhbHVlLFxuICAgICAgICBleHBpcmVzOiB0eXBlb2YgY29va2llLmV4cGlyYXRpb25EYXRlID09PSBcIm51bWJlclwiID8gbmV3IERhdGUoY29va2llLmV4cGlyYXRpb25EYXRlICogMTAwMCkgOiBcIkluZmluaXR5XCIsXG4gICAgICAgIGRvbWFpbjogY2Fub25pY2FsRG9tYWluKGNvb2tpZS5kb21haW4pLFxuICAgICAgICBwYXRoOiBjb29raWUucGF0aCxcbiAgICAgICAgc2VjdXJlOiBjb29raWUuc2VjdXJlLFxuICAgICAgICBodHRwT25seTogY29va2llLmh0dHBPbmx5LFxuICAgICAgICBzYW1lU2l0ZTogY29udmVydFNhbWVTaXRlKGNvb2tpZS5zYW1lU2l0ZSksXG4gICAgICAgIGhvc3RPbmx5OiBjb29raWUuaG9zdE9ubHksXG4gICAgICB9KTtcblxuY29uc3QgYWRkQ29va2llcyA9IChleHBvcnRzLmFkZENvb2tpZXMgPSAoamFyLCBjb29raWVzKSA9PiB7XG4gIGlmICghY29va2llcyB8fCAhQXJyYXkuaXNBcnJheShjb29raWVzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNvb2tpZXMgbXVzdCBiZSBhbiBhcnJheVwiKTtcbiAgfVxuICBpZiAoIWNvb2tpZXMuc29tZShjID0+IGMubmFtZSA9PT0gXCJTT0NTXCIpKSB7XG4gICAgY29va2llcy5wdXNoKHtcbiAgICAgIGRvbWFpbjogXCIueW91dHViZS5jb21cIixcbiAgICAgIGhvc3RPbmx5OiBmYWxzZSxcbiAgICAgIGh0dHBPbmx5OiBmYWxzZSxcbiAgICAgIG5hbWU6IFwiU09DU1wiLFxuICAgICAgcGF0aDogXCIvXCIsXG4gICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAgIHNlY3VyZTogdHJ1ZSxcbiAgICAgIHNlc3Npb246IGZhbHNlLFxuICAgICAgdmFsdWU6IFwiQ0FJXCIsXG4gICAgfSk7XG4gIH1cbiAgZm9yIChjb25zdCBjb29raWUgb2YgY29va2llcykge1xuICAgIGphci5zZXRDb29raWVTeW5jKGNvbnZlcnRDb29raWUoY29va2llKSwgXCJodHRwczovL3d3dy55b3V0dWJlLmNvbVwiKTtcbiAgfVxufSk7XG5cbmV4cG9ydHMuYWRkQ29va2llc0Zyb21TdHJpbmcgPSAoamFyLCBjb29raWVzKSA9PiB7XG4gIGlmICghY29va2llcyB8fCB0eXBlb2YgY29va2llcyAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNvb2tpZXMgbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgfVxuICByZXR1cm4gYWRkQ29va2llcyhcbiAgICBqYXIsXG4gICAgY29va2llc1xuICAgICAgLnNwbGl0KFwiO1wiKVxuICAgICAgLm1hcChjID0+IENvb2tpZS5wYXJzZShjKSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbiksXG4gICk7XG59O1xuXG5jb25zdCBjcmVhdGVBZ2VudCA9IChleHBvcnRzLmNyZWF0ZUFnZW50ID0gKGNvb2tpZXMgPSBbXSwgb3B0cyA9IHt9KSA9PiB7XG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRzKTtcbiAgaWYgKCFvcHRpb25zLmNvb2tpZXMpIHtcbiAgICBjb25zdCBqYXIgPSBuZXcgQ29va2llSmFyKCk7XG4gICAgYWRkQ29va2llcyhqYXIsIGNvb2tpZXMpO1xuICAgIG9wdGlvbnMuY29va2llcyA9IHsgamFyIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkaXNwYXRjaGVyOiBuZXcgQ29va2llQWdlbnQob3B0aW9ucyksXG4gICAgbG9jYWxBZGRyZXNzOiBvcHRpb25zLmxvY2FsQWRkcmVzcyxcbiAgICBqYXI6IG9wdGlvbnMuY29va2llcy5qYXIsXG4gIH07XG59KTtcblxuZXhwb3J0cy5jcmVhdGVQcm94eUFnZW50ID0gKG9wdGlvbnMsIGNvb2tpZXMgPSBbXSkgPT4ge1xuICBpZiAoIWNvb2tpZXMpIGNvb2tpZXMgPSBbXTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSBvcHRpb25zID0geyB1cmk6IG9wdGlvbnMgfTtcbiAgaWYgKG9wdGlvbnMuZmFjdG9yeSkgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBmYWN0b3J5IHdpdGggY3JlYXRlUHJveHlBZ2VudFwiKTtcbiAgY29uc3QgamFyID0gbmV3IENvb2tpZUphcigpO1xuICBhZGRDb29raWVzKGphciwgY29va2llcyk7XG4gIGNvbnN0IHByb3h5T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAge1xuICAgICAgZmFjdG9yeTogKG9yaWdpbiwgb3B0cykgPT4ge1xuICAgICAgICBjb25zdCBvID0gT2JqZWN0LmFzc2lnbih7IGNvb2tpZXM6IHsgamFyIH0gfSwgb3B0cyk7XG4gICAgICAgIHJldHVybiBuZXcgQ29va2llQ2xpZW50KG9yaWdpbiwgbyk7XG4gICAgICB9LFxuICAgIH0sXG4gICAgb3B0aW9ucyxcbiAgKTtcblxuICAvLyBQcm94eUFnZW50IHR5cGUgdGhhdCBub2RlIGh0dHBsaWJyYXJ5IHN1cHBvcnRzXG4gIGNvbnN0IGFnZW50ID0gbmV3IEh0dHBzUHJveHlBZ2VudChvcHRpb25zLnVyaSk7XG5cbiAgLy8gUHJveHlBZ2VudCB0eXBlIHRoYXQgdW5kaWNpIHN1cHBvcnRzXG4gIGNvbnN0IGRpc3BhdGNoZXIgPSBuZXcgUHJveHlBZ2VudChwcm94eU9wdGlvbnMpO1xuXG4gIHJldHVybiB7IGRpc3BhdGNoZXIsIGFnZW50LCBqYXIsIGxvY2FsQWRkcmVzczogb3B0aW9ucy5sb2NhbEFkZHJlc3MgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdEFnZW50ID0gY3JlYXRlQWdlbnQoKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/agent.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/cache.js":
/*!******************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/cache.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const { setTimeout } = __webpack_require__(/*! timers */ \"timers\");\n\n// A cache that expires.\nmodule.exports = class Cache extends Map {\n  constructor(timeout = 1000) {\n    super();\n    this.timeout = timeout;\n  }\n  set(key, value) {\n    if (this.has(key)) {\n      clearTimeout(super.get(key).tid);\n    }\n    super.set(key, {\n      tid: setTimeout(this.delete.bind(this, key), this.timeout).unref(),\n      value,\n    });\n  }\n  get(key) {\n    let entry = super.get(key);\n    if (entry) {\n      return entry.value;\n    }\n    return null;\n  }\n  getOrSet(key, fn) {\n    if (this.has(key)) {\n      return this.get(key);\n    } else {\n      let value = fn();\n      this.set(key, value);\n      (async () => {\n        try {\n          await value;\n        } catch (err) {\n          this.delete(key);\n        }\n      })();\n      return value;\n    }\n  }\n  delete(key) {\n    let entry = super.get(key);\n    if (entry) {\n      clearTimeout(entry.tid);\n      super.delete(key);\n    }\n  }\n  clear() {\n    for (let entry of this.values()) {\n      clearTimeout(entry.tid);\n    }\n    super.clear();\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi9jYWNoZS5qcyIsIm1hcHBpbmdzIjoiQUFBQSxRQUFRLGFBQWEsRUFBRSxtQkFBTyxDQUFDLHNCQUFROztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJ1cmFrXFxEb2N1bWVudHNcXEdpdEh1YlxceW91dHViZS1kb3dubG9hZGVyXFxub2RlX21vZHVsZXNcXEBkaXN0dWJlXFx5dGRsLWNvcmVcXGxpYlxcY2FjaGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBzZXRUaW1lb3V0IH0gPSByZXF1aXJlKFwidGltZXJzXCIpO1xuXG4vLyBBIGNhY2hlIHRoYXQgZXhwaXJlcy5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQ2FjaGUgZXh0ZW5kcyBNYXAge1xuICBjb25zdHJ1Y3Rvcih0aW1lb3V0ID0gMTAwMCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy50aW1lb3V0ID0gdGltZW91dDtcbiAgfVxuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLmhhcyhrZXkpKSB7XG4gICAgICBjbGVhclRpbWVvdXQoc3VwZXIuZ2V0KGtleSkudGlkKTtcbiAgICB9XG4gICAgc3VwZXIuc2V0KGtleSwge1xuICAgICAgdGlkOiBzZXRUaW1lb3V0KHRoaXMuZGVsZXRlLmJpbmQodGhpcywga2V5KSwgdGhpcy50aW1lb3V0KS51bnJlZigpLFxuICAgICAgdmFsdWUsXG4gICAgfSk7XG4gIH1cbiAgZ2V0KGtleSkge1xuICAgIGxldCBlbnRyeSA9IHN1cGVyLmdldChrZXkpO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBnZXRPclNldChrZXksIGZuKSB7XG4gICAgaWYgKHRoaXMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgdmFsdWUgPSBmbigpO1xuICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHZhbHVlO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuICBkZWxldGUoa2V5KSB7XG4gICAgbGV0IGVudHJ5ID0gc3VwZXIuZ2V0KGtleSk7XG4gICAgaWYgKGVudHJ5KSB7XG4gICAgICBjbGVhclRpbWVvdXQoZW50cnkudGlkKTtcbiAgICAgIHN1cGVyLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfVxuICBjbGVhcigpIHtcbiAgICBmb3IgKGxldCBlbnRyeSBvZiB0aGlzLnZhbHVlcygpKSB7XG4gICAgICBjbGVhclRpbWVvdXQoZW50cnkudGlkKTtcbiAgICB9XG4gICAgc3VwZXIuY2xlYXIoKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/cache.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/format-utils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/format-utils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/utils.js\");\nconst FORMATS = __webpack_require__(/*! ./formats */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/formats.js\");\n\n// Use these to help sort formats, higher index is better.\nconst audioEncodingRanks = [\"mp4a\", \"mp3\", \"vorbis\", \"aac\", \"opus\", \"flac\"];\nconst videoEncodingRanks = [\"mp4v\", \"avc1\", \"Sorenson H.283\", \"MPEG-4 Visual\", \"VP8\", \"VP9\", \"H.264\"];\n\nconst getVideoBitrate = format => format.bitrate || 0;\nconst getVideoEncodingRank = format =>\n  videoEncodingRanks.findIndex(enc => format.codecs && format.codecs.includes(enc));\nconst getAudioBitrate = format => format.audioBitrate || 0;\nconst getAudioEncodingRank = format =>\n  audioEncodingRanks.findIndex(enc => format.codecs && format.codecs.includes(enc));\n\n/**\n * Sort formats by a list of functions.\n *\n * @param {Object} a\n * @param {Object} b\n * @param {Array.<Function>} sortBy\n * @returns {number}\n */\nconst sortFormatsBy = (a, b, sortBy) => {\n  let res = 0;\n  for (let fn of sortBy) {\n    res = fn(b) - fn(a);\n    if (res !== 0) {\n      break;\n    }\n  }\n  return res;\n};\n\nconst sortFormatsByVideo = (a, b) =>\n  sortFormatsBy(a, b, [format => parseInt(format.qualityLabel), getVideoBitrate, getVideoEncodingRank]);\n\nconst sortFormatsByAudio = (a, b) => sortFormatsBy(a, b, [getAudioBitrate, getAudioEncodingRank]);\n\n/**\n * Sort formats from highest quality to lowest.\n *\n * @param {Object} a\n * @param {Object} b\n * @returns {number}\n */\nexports.sortFormats = (a, b) =>\n  sortFormatsBy(a, b, [\n    // Formats with both video and audio are ranked highest.\n    format => +!!format.isHLS,\n    format => +!!format.isDashMPD,\n    format => +(format.contentLength > 0),\n    format => +(format.hasVideo && format.hasAudio),\n    format => +format.hasVideo,\n    format => parseInt(format.qualityLabel) || 0,\n    getVideoBitrate,\n    getAudioBitrate,\n    getVideoEncodingRank,\n    getAudioEncodingRank,\n  ]);\n\n/**\n * Choose a format depending on the given options.\n *\n * @param {Array.<Object>} formats\n * @param {Object} options\n * @returns {Object}\n * @throws {Error} when no format matches the filter/format rules\n */\nexports.chooseFormat = (formats, options) => {\n  if (typeof options.format === \"object\") {\n    if (!options.format.url) {\n      throw Error(\"Invalid format given, did you use `ytdl.getInfo()`?\");\n    }\n    return options.format;\n  }\n\n  if (options.filter) {\n    formats = exports.filterFormats(formats, options.filter);\n  }\n\n  // We currently only support HLS-Formats for livestreams\n  // So we (now) remove all non-HLS streams\n  if (formats.some(fmt => fmt.isHLS)) {\n    formats = formats.filter(fmt => fmt.isHLS || !fmt.isLive);\n  }\n\n  let format;\n  const quality = options.quality || \"highest\";\n  switch (quality) {\n    case \"highest\":\n      format = formats[0];\n      break;\n\n    case \"lowest\":\n      format = formats[formats.length - 1];\n      break;\n\n    case \"highestaudio\": {\n      formats = exports.filterFormats(formats, \"audio\");\n      formats.sort(sortFormatsByAudio);\n      // Filter for only the best audio format\n      const bestAudioFormat = formats[0];\n      formats = formats.filter(f => sortFormatsByAudio(bestAudioFormat, f) === 0);\n      // Check for the worst video quality for the best audio quality and pick according\n      // This does not loose default sorting of video encoding and bitrate\n      const worstVideoQuality = formats.map(f => parseInt(f.qualityLabel) || 0).sort((a, b) => a - b)[0];\n      format = formats.find(f => (parseInt(f.qualityLabel) || 0) === worstVideoQuality);\n      break;\n    }\n\n    case \"lowestaudio\":\n      formats = exports.filterFormats(formats, \"audio\");\n      formats.sort(sortFormatsByAudio);\n      format = formats[formats.length - 1];\n      break;\n\n    case \"highestvideo\": {\n      formats = exports.filterFormats(formats, \"video\");\n      formats.sort(sortFormatsByVideo);\n      // Filter for only the best video format\n      const bestVideoFormat = formats[0];\n      formats = formats.filter(f => sortFormatsByVideo(bestVideoFormat, f) === 0);\n      // Check for the worst audio quality for the best video quality and pick according\n      // This does not loose default sorting of audio encoding and bitrate\n      const worstAudioQuality = formats.map(f => f.audioBitrate || 0).sort((a, b) => a - b)[0];\n      format = formats.find(f => (f.audioBitrate || 0) === worstAudioQuality);\n      break;\n    }\n\n    case \"lowestvideo\":\n      formats = exports.filterFormats(formats, \"video\");\n      formats.sort(sortFormatsByVideo);\n      format = formats[formats.length - 1];\n      break;\n\n    default:\n      format = getFormatByQuality(quality, formats);\n      break;\n  }\n\n  if (!format) {\n    throw Error(`No such format found: ${quality}`);\n  }\n  return format;\n};\n\n/**\n * Gets a format based on quality or array of quality's\n *\n * @param {string|[string]} quality\n * @param {[Object]} formats\n * @returns {Object}\n */\nconst getFormatByQuality = (quality, formats) => {\n  let getFormat = itag => formats.find(format => `${format.itag}` === `${itag}`);\n  if (Array.isArray(quality)) {\n    return getFormat(quality.find(q => getFormat(q)));\n  } else {\n    return getFormat(quality);\n  }\n};\n\n/**\n * @param {Array.<Object>} formats\n * @param {Function} filter\n * @returns {Array.<Object>}\n */\nexports.filterFormats = (formats, filter) => {\n  let fn;\n  switch (filter) {\n    case \"videoandaudio\":\n    case \"audioandvideo\":\n      fn = format => format.hasVideo && format.hasAudio;\n      break;\n\n    case \"video\":\n      fn = format => format.hasVideo;\n      break;\n\n    case \"videoonly\":\n      fn = format => format.hasVideo && !format.hasAudio;\n      break;\n\n    case \"audio\":\n      fn = format => format.hasAudio;\n      break;\n\n    case \"audioonly\":\n      fn = format => !format.hasVideo && format.hasAudio;\n      break;\n\n    default:\n      if (typeof filter === \"function\") {\n        fn = filter;\n      } else {\n        throw TypeError(`Given filter (${filter}) is not supported`);\n      }\n  }\n  return formats.filter(format => !!format.url && fn(format));\n};\n\n/**\n * @param {Object} format\n * @returns {Object}\n */\nexports.addFormatMeta = format => {\n  format = Object.assign({}, FORMATS[format.itag], format);\n  format.hasVideo = !!format.qualityLabel;\n  format.hasAudio = !!format.audioBitrate;\n  format.container = format.mimeType ? format.mimeType.split(\";\")[0].split(\"/\")[1] : null;\n  format.codecs = format.mimeType ? utils.between(format.mimeType, 'codecs=\"', '\"') : null;\n  format.videoCodec = format.hasVideo && format.codecs ? format.codecs.split(\", \")[0] : null;\n  format.audioCodec = format.hasAudio && format.codecs ? format.codecs.split(\", \").slice(-1)[0] : null;\n  format.isLive = /\\bsource[/=]yt_live_broadcast\\b/.test(format.url);\n  format.isHLS = /\\/manifest\\/hls_(variant|playlist)\\//.test(format.url);\n  format.isDashMPD = /\\/manifest\\/dash\\//.test(format.url);\n  return format;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi9mb3JtYXQtdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQUEsY0FBYyxtQkFBTyxDQUFDLHFFQUFTO0FBQy9CLGdCQUFnQixtQkFBTyxDQUFDLHlFQUFXOztBQUVuQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxrQkFBa0I7QUFDN0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiLFlBQVksT0FBTztBQUNuQjtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QyxRQUFRO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLFVBQVU7QUFDckIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxvREFBb0QsWUFBWSxTQUFTLEtBQUs7QUFDOUU7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQixXQUFXLFVBQVU7QUFDckIsYUFBYTtBQUNiO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHlDQUF5QyxPQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBLHFCQUFxQjtBQUNyQiwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJ1cmFrXFxEb2N1bWVudHNcXEdpdEh1YlxceW91dHViZS1kb3dubG9hZGVyXFxub2RlX21vZHVsZXNcXEBkaXN0dWJlXFx5dGRsLWNvcmVcXGxpYlxcZm9ybWF0LXV0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBGT1JNQVRTID0gcmVxdWlyZShcIi4vZm9ybWF0c1wiKTtcblxuLy8gVXNlIHRoZXNlIHRvIGhlbHAgc29ydCBmb3JtYXRzLCBoaWdoZXIgaW5kZXggaXMgYmV0dGVyLlxuY29uc3QgYXVkaW9FbmNvZGluZ1JhbmtzID0gW1wibXA0YVwiLCBcIm1wM1wiLCBcInZvcmJpc1wiLCBcImFhY1wiLCBcIm9wdXNcIiwgXCJmbGFjXCJdO1xuY29uc3QgdmlkZW9FbmNvZGluZ1JhbmtzID0gW1wibXA0dlwiLCBcImF2YzFcIiwgXCJTb3JlbnNvbiBILjI4M1wiLCBcIk1QRUctNCBWaXN1YWxcIiwgXCJWUDhcIiwgXCJWUDlcIiwgXCJILjI2NFwiXTtcblxuY29uc3QgZ2V0VmlkZW9CaXRyYXRlID0gZm9ybWF0ID0+IGZvcm1hdC5iaXRyYXRlIHx8IDA7XG5jb25zdCBnZXRWaWRlb0VuY29kaW5nUmFuayA9IGZvcm1hdCA9PlxuICB2aWRlb0VuY29kaW5nUmFua3MuZmluZEluZGV4KGVuYyA9PiBmb3JtYXQuY29kZWNzICYmIGZvcm1hdC5jb2RlY3MuaW5jbHVkZXMoZW5jKSk7XG5jb25zdCBnZXRBdWRpb0JpdHJhdGUgPSBmb3JtYXQgPT4gZm9ybWF0LmF1ZGlvQml0cmF0ZSB8fCAwO1xuY29uc3QgZ2V0QXVkaW9FbmNvZGluZ1JhbmsgPSBmb3JtYXQgPT5cbiAgYXVkaW9FbmNvZGluZ1JhbmtzLmZpbmRJbmRleChlbmMgPT4gZm9ybWF0LmNvZGVjcyAmJiBmb3JtYXQuY29kZWNzLmluY2x1ZGVzKGVuYykpO1xuXG4vKipcbiAqIFNvcnQgZm9ybWF0cyBieSBhIGxpc3Qgb2YgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhXG4gKiBAcGFyYW0ge09iamVjdH0gYlxuICogQHBhcmFtIHtBcnJheS48RnVuY3Rpb24+fSBzb3J0QnlcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmNvbnN0IHNvcnRGb3JtYXRzQnkgPSAoYSwgYiwgc29ydEJ5KSA9PiB7XG4gIGxldCByZXMgPSAwO1xuICBmb3IgKGxldCBmbiBvZiBzb3J0QnkpIHtcbiAgICByZXMgPSBmbihiKSAtIGZuKGEpO1xuICAgIGlmIChyZXMgIT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuY29uc3Qgc29ydEZvcm1hdHNCeVZpZGVvID0gKGEsIGIpID0+XG4gIHNvcnRGb3JtYXRzQnkoYSwgYiwgW2Zvcm1hdCA9PiBwYXJzZUludChmb3JtYXQucXVhbGl0eUxhYmVsKSwgZ2V0VmlkZW9CaXRyYXRlLCBnZXRWaWRlb0VuY29kaW5nUmFua10pO1xuXG5jb25zdCBzb3J0Rm9ybWF0c0J5QXVkaW8gPSAoYSwgYikgPT4gc29ydEZvcm1hdHNCeShhLCBiLCBbZ2V0QXVkaW9CaXRyYXRlLCBnZXRBdWRpb0VuY29kaW5nUmFua10pO1xuXG4vKipcbiAqIFNvcnQgZm9ybWF0cyBmcm9tIGhpZ2hlc3QgcXVhbGl0eSB0byBsb3dlc3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBiXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnRzLnNvcnRGb3JtYXRzID0gKGEsIGIpID0+XG4gIHNvcnRGb3JtYXRzQnkoYSwgYiwgW1xuICAgIC8vIEZvcm1hdHMgd2l0aCBib3RoIHZpZGVvIGFuZCBhdWRpbyBhcmUgcmFua2VkIGhpZ2hlc3QuXG4gICAgZm9ybWF0ID0+ICshIWZvcm1hdC5pc0hMUyxcbiAgICBmb3JtYXQgPT4gKyEhZm9ybWF0LmlzRGFzaE1QRCxcbiAgICBmb3JtYXQgPT4gKyhmb3JtYXQuY29udGVudExlbmd0aCA+IDApLFxuICAgIGZvcm1hdCA9PiArKGZvcm1hdC5oYXNWaWRlbyAmJiBmb3JtYXQuaGFzQXVkaW8pLFxuICAgIGZvcm1hdCA9PiArZm9ybWF0Lmhhc1ZpZGVvLFxuICAgIGZvcm1hdCA9PiBwYXJzZUludChmb3JtYXQucXVhbGl0eUxhYmVsKSB8fCAwLFxuICAgIGdldFZpZGVvQml0cmF0ZSxcbiAgICBnZXRBdWRpb0JpdHJhdGUsXG4gICAgZ2V0VmlkZW9FbmNvZGluZ1JhbmssXG4gICAgZ2V0QXVkaW9FbmNvZGluZ1JhbmssXG4gIF0pO1xuXG4vKipcbiAqIENob29zZSBhIGZvcm1hdCBkZXBlbmRpbmcgb24gdGhlIGdpdmVuIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gZm9ybWF0c1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiBAdGhyb3dzIHtFcnJvcn0gd2hlbiBubyBmb3JtYXQgbWF0Y2hlcyB0aGUgZmlsdGVyL2Zvcm1hdCBydWxlc1xuICovXG5leHBvcnRzLmNob29zZUZvcm1hdCA9IChmb3JtYXRzLCBvcHRpb25zKSA9PiB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5mb3JtYXQgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoIW9wdGlvbnMuZm9ybWF0LnVybCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGZvcm1hdCBnaXZlbiwgZGlkIHlvdSB1c2UgYHl0ZGwuZ2V0SW5mbygpYD9cIik7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLmZvcm1hdDtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmZpbHRlcikge1xuICAgIGZvcm1hdHMgPSBleHBvcnRzLmZpbHRlckZvcm1hdHMoZm9ybWF0cywgb3B0aW9ucy5maWx0ZXIpO1xuICB9XG5cbiAgLy8gV2UgY3VycmVudGx5IG9ubHkgc3VwcG9ydCBITFMtRm9ybWF0cyBmb3IgbGl2ZXN0cmVhbXNcbiAgLy8gU28gd2UgKG5vdykgcmVtb3ZlIGFsbCBub24tSExTIHN0cmVhbXNcbiAgaWYgKGZvcm1hdHMuc29tZShmbXQgPT4gZm10LmlzSExTKSkge1xuICAgIGZvcm1hdHMgPSBmb3JtYXRzLmZpbHRlcihmbXQgPT4gZm10LmlzSExTIHx8ICFmbXQuaXNMaXZlKTtcbiAgfVxuXG4gIGxldCBmb3JtYXQ7XG4gIGNvbnN0IHF1YWxpdHkgPSBvcHRpb25zLnF1YWxpdHkgfHwgXCJoaWdoZXN0XCI7XG4gIHN3aXRjaCAocXVhbGl0eSkge1xuICAgIGNhc2UgXCJoaWdoZXN0XCI6XG4gICAgICBmb3JtYXQgPSBmb3JtYXRzWzBdO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFwibG93ZXN0XCI6XG4gICAgICBmb3JtYXQgPSBmb3JtYXRzW2Zvcm1hdHMubGVuZ3RoIC0gMV07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgXCJoaWdoZXN0YXVkaW9cIjoge1xuICAgICAgZm9ybWF0cyA9IGV4cG9ydHMuZmlsdGVyRm9ybWF0cyhmb3JtYXRzLCBcImF1ZGlvXCIpO1xuICAgICAgZm9ybWF0cy5zb3J0KHNvcnRGb3JtYXRzQnlBdWRpbyk7XG4gICAgICAvLyBGaWx0ZXIgZm9yIG9ubHkgdGhlIGJlc3QgYXVkaW8gZm9ybWF0XG4gICAgICBjb25zdCBiZXN0QXVkaW9Gb3JtYXQgPSBmb3JtYXRzWzBdO1xuICAgICAgZm9ybWF0cyA9IGZvcm1hdHMuZmlsdGVyKGYgPT4gc29ydEZvcm1hdHNCeUF1ZGlvKGJlc3RBdWRpb0Zvcm1hdCwgZikgPT09IDApO1xuICAgICAgLy8gQ2hlY2sgZm9yIHRoZSB3b3JzdCB2aWRlbyBxdWFsaXR5IGZvciB0aGUgYmVzdCBhdWRpbyBxdWFsaXR5IGFuZCBwaWNrIGFjY29yZGluZ1xuICAgICAgLy8gVGhpcyBkb2VzIG5vdCBsb29zZSBkZWZhdWx0IHNvcnRpbmcgb2YgdmlkZW8gZW5jb2RpbmcgYW5kIGJpdHJhdGVcbiAgICAgIGNvbnN0IHdvcnN0VmlkZW9RdWFsaXR5ID0gZm9ybWF0cy5tYXAoZiA9PiBwYXJzZUludChmLnF1YWxpdHlMYWJlbCkgfHwgMCkuc29ydCgoYSwgYikgPT4gYSAtIGIpWzBdO1xuICAgICAgZm9ybWF0ID0gZm9ybWF0cy5maW5kKGYgPT4gKHBhcnNlSW50KGYucXVhbGl0eUxhYmVsKSB8fCAwKSA9PT0gd29yc3RWaWRlb1F1YWxpdHkpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2FzZSBcImxvd2VzdGF1ZGlvXCI6XG4gICAgICBmb3JtYXRzID0gZXhwb3J0cy5maWx0ZXJGb3JtYXRzKGZvcm1hdHMsIFwiYXVkaW9cIik7XG4gICAgICBmb3JtYXRzLnNvcnQoc29ydEZvcm1hdHNCeUF1ZGlvKTtcbiAgICAgIGZvcm1hdCA9IGZvcm1hdHNbZm9ybWF0cy5sZW5ndGggLSAxXTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcImhpZ2hlc3R2aWRlb1wiOiB7XG4gICAgICBmb3JtYXRzID0gZXhwb3J0cy5maWx0ZXJGb3JtYXRzKGZvcm1hdHMsIFwidmlkZW9cIik7XG4gICAgICBmb3JtYXRzLnNvcnQoc29ydEZvcm1hdHNCeVZpZGVvKTtcbiAgICAgIC8vIEZpbHRlciBmb3Igb25seSB0aGUgYmVzdCB2aWRlbyBmb3JtYXRcbiAgICAgIGNvbnN0IGJlc3RWaWRlb0Zvcm1hdCA9IGZvcm1hdHNbMF07XG4gICAgICBmb3JtYXRzID0gZm9ybWF0cy5maWx0ZXIoZiA9PiBzb3J0Rm9ybWF0c0J5VmlkZW8oYmVzdFZpZGVvRm9ybWF0LCBmKSA9PT0gMCk7XG4gICAgICAvLyBDaGVjayBmb3IgdGhlIHdvcnN0IGF1ZGlvIHF1YWxpdHkgZm9yIHRoZSBiZXN0IHZpZGVvIHF1YWxpdHkgYW5kIHBpY2sgYWNjb3JkaW5nXG4gICAgICAvLyBUaGlzIGRvZXMgbm90IGxvb3NlIGRlZmF1bHQgc29ydGluZyBvZiBhdWRpbyBlbmNvZGluZyBhbmQgYml0cmF0ZVxuICAgICAgY29uc3Qgd29yc3RBdWRpb1F1YWxpdHkgPSBmb3JtYXRzLm1hcChmID0+IGYuYXVkaW9CaXRyYXRlIHx8IDApLnNvcnQoKGEsIGIpID0+IGEgLSBiKVswXTtcbiAgICAgIGZvcm1hdCA9IGZvcm1hdHMuZmluZChmID0+IChmLmF1ZGlvQml0cmF0ZSB8fCAwKSA9PT0gd29yc3RBdWRpb1F1YWxpdHkpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY2FzZSBcImxvd2VzdHZpZGVvXCI6XG4gICAgICBmb3JtYXRzID0gZXhwb3J0cy5maWx0ZXJGb3JtYXRzKGZvcm1hdHMsIFwidmlkZW9cIik7XG4gICAgICBmb3JtYXRzLnNvcnQoc29ydEZvcm1hdHNCeVZpZGVvKTtcbiAgICAgIGZvcm1hdCA9IGZvcm1hdHNbZm9ybWF0cy5sZW5ndGggLSAxXTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGZvcm1hdCA9IGdldEZvcm1hdEJ5UXVhbGl0eShxdWFsaXR5LCBmb3JtYXRzKTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgaWYgKCFmb3JtYXQpIHtcbiAgICB0aHJvdyBFcnJvcihgTm8gc3VjaCBmb3JtYXQgZm91bmQ6ICR7cXVhbGl0eX1gKTtcbiAgfVxuICByZXR1cm4gZm9ybWF0O1xufTtcblxuLyoqXG4gKiBHZXRzIGEgZm9ybWF0IGJhc2VkIG9uIHF1YWxpdHkgb3IgYXJyYXkgb2YgcXVhbGl0eSdzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8W3N0cmluZ119IHF1YWxpdHlcbiAqIEBwYXJhbSB7W09iamVjdF19IGZvcm1hdHNcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmNvbnN0IGdldEZvcm1hdEJ5UXVhbGl0eSA9IChxdWFsaXR5LCBmb3JtYXRzKSA9PiB7XG4gIGxldCBnZXRGb3JtYXQgPSBpdGFnID0+IGZvcm1hdHMuZmluZChmb3JtYXQgPT4gYCR7Zm9ybWF0Lml0YWd9YCA9PT0gYCR7aXRhZ31gKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkocXVhbGl0eSkpIHtcbiAgICByZXR1cm4gZ2V0Rm9ybWF0KHF1YWxpdHkuZmluZChxID0+IGdldEZvcm1hdChxKSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRGb3JtYXQocXVhbGl0eSk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gZm9ybWF0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyXG4gKiBAcmV0dXJucyB7QXJyYXkuPE9iamVjdD59XG4gKi9cbmV4cG9ydHMuZmlsdGVyRm9ybWF0cyA9IChmb3JtYXRzLCBmaWx0ZXIpID0+IHtcbiAgbGV0IGZuO1xuICBzd2l0Y2ggKGZpbHRlcikge1xuICAgIGNhc2UgXCJ2aWRlb2FuZGF1ZGlvXCI6XG4gICAgY2FzZSBcImF1ZGlvYW5kdmlkZW9cIjpcbiAgICAgIGZuID0gZm9ybWF0ID0+IGZvcm1hdC5oYXNWaWRlbyAmJiBmb3JtYXQuaGFzQXVkaW87XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgZm4gPSBmb3JtYXQgPT4gZm9ybWF0Lmhhc1ZpZGVvO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFwidmlkZW9vbmx5XCI6XG4gICAgICBmbiA9IGZvcm1hdCA9PiBmb3JtYXQuaGFzVmlkZW8gJiYgIWZvcm1hdC5oYXNBdWRpbztcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBcImF1ZGlvXCI6XG4gICAgICBmbiA9IGZvcm1hdCA9PiBmb3JtYXQuaGFzQXVkaW87XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgXCJhdWRpb29ubHlcIjpcbiAgICAgIGZuID0gZm9ybWF0ID0+ICFmb3JtYXQuaGFzVmlkZW8gJiYgZm9ybWF0Lmhhc0F1ZGlvO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBmbiA9IGZpbHRlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcihgR2l2ZW4gZmlsdGVyICgke2ZpbHRlcn0pIGlzIG5vdCBzdXBwb3J0ZWRgKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gZm9ybWF0cy5maWx0ZXIoZm9ybWF0ID0+ICEhZm9ybWF0LnVybCAmJiBmbihmb3JtYXQpKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IGZvcm1hdFxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZXhwb3J0cy5hZGRGb3JtYXRNZXRhID0gZm9ybWF0ID0+IHtcbiAgZm9ybWF0ID0gT2JqZWN0LmFzc2lnbih7fSwgRk9STUFUU1tmb3JtYXQuaXRhZ10sIGZvcm1hdCk7XG4gIGZvcm1hdC5oYXNWaWRlbyA9ICEhZm9ybWF0LnF1YWxpdHlMYWJlbDtcbiAgZm9ybWF0Lmhhc0F1ZGlvID0gISFmb3JtYXQuYXVkaW9CaXRyYXRlO1xuICBmb3JtYXQuY29udGFpbmVyID0gZm9ybWF0Lm1pbWVUeXBlID8gZm9ybWF0Lm1pbWVUeXBlLnNwbGl0KFwiO1wiKVswXS5zcGxpdChcIi9cIilbMV0gOiBudWxsO1xuICBmb3JtYXQuY29kZWNzID0gZm9ybWF0Lm1pbWVUeXBlID8gdXRpbHMuYmV0d2Vlbihmb3JtYXQubWltZVR5cGUsICdjb2RlY3M9XCInLCAnXCInKSA6IG51bGw7XG4gIGZvcm1hdC52aWRlb0NvZGVjID0gZm9ybWF0Lmhhc1ZpZGVvICYmIGZvcm1hdC5jb2RlY3MgPyBmb3JtYXQuY29kZWNzLnNwbGl0KFwiLCBcIilbMF0gOiBudWxsO1xuICBmb3JtYXQuYXVkaW9Db2RlYyA9IGZvcm1hdC5oYXNBdWRpbyAmJiBmb3JtYXQuY29kZWNzID8gZm9ybWF0LmNvZGVjcy5zcGxpdChcIiwgXCIpLnNsaWNlKC0xKVswXSA6IG51bGw7XG4gIGZvcm1hdC5pc0xpdmUgPSAvXFxic291cmNlWy89XXl0X2xpdmVfYnJvYWRjYXN0XFxiLy50ZXN0KGZvcm1hdC51cmwpO1xuICBmb3JtYXQuaXNITFMgPSAvXFwvbWFuaWZlc3RcXC9obHNfKHZhcmlhbnR8cGxheWxpc3QpXFwvLy50ZXN0KGZvcm1hdC51cmwpO1xuICBmb3JtYXQuaXNEYXNoTVBEID0gL1xcL21hbmlmZXN0XFwvZGFzaFxcLy8udGVzdChmb3JtYXQudXJsKTtcbiAgcmV0dXJuIGZvcm1hdDtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/format-utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/formats.js":
/*!********************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/formats.js ***!
  \********************************************************/
/***/ ((module) => {

eval("/**\n * http://en.wikipedia.org/wiki/YouTube#Quality_and_formats\n */\nmodule.exports = {\n  5: {\n    mimeType: 'video/flv; codecs=\"Sorenson H.283, mp3\"',\n    qualityLabel: \"240p\",\n    bitrate: 250000,\n    audioBitrate: 64,\n  },\n\n  6: {\n    mimeType: 'video/flv; codecs=\"Sorenson H.263, mp3\"',\n    qualityLabel: \"270p\",\n    bitrate: 800000,\n    audioBitrate: 64,\n  },\n\n  13: {\n    mimeType: 'video/3gp; codecs=\"MPEG-4 Visual, aac\"',\n    qualityLabel: null,\n    bitrate: 500000,\n    audioBitrate: null,\n  },\n\n  17: {\n    mimeType: 'video/3gp; codecs=\"MPEG-4 Visual, aac\"',\n    qualityLabel: \"144p\",\n    bitrate: 50000,\n    audioBitrate: 24,\n  },\n\n  18: {\n    mimeType: 'video/mp4; codecs=\"H.264, aac\"',\n    qualityLabel: \"360p\",\n    bitrate: 500000,\n    audioBitrate: 96,\n  },\n\n  22: {\n    mimeType: 'video/mp4; codecs=\"H.264, aac\"',\n    qualityLabel: \"720p\",\n    bitrate: 2000000,\n    audioBitrate: 192,\n  },\n\n  34: {\n    mimeType: 'video/flv; codecs=\"H.264, aac\"',\n    qualityLabel: \"360p\",\n    bitrate: 500000,\n    audioBitrate: 128,\n  },\n\n  35: {\n    mimeType: 'video/flv; codecs=\"H.264, aac\"',\n    qualityLabel: \"480p\",\n    bitrate: 800000,\n    audioBitrate: 128,\n  },\n\n  36: {\n    mimeType: 'video/3gp; codecs=\"MPEG-4 Visual, aac\"',\n    qualityLabel: \"240p\",\n    bitrate: 175000,\n    audioBitrate: 32,\n  },\n\n  37: {\n    mimeType: 'video/mp4; codecs=\"H.264, aac\"',\n    qualityLabel: \"1080p\",\n    bitrate: 3000000,\n    audioBitrate: 192,\n  },\n\n  38: {\n    mimeType: 'video/mp4; codecs=\"H.264, aac\"',\n    qualityLabel: \"3072p\",\n    bitrate: 3500000,\n    audioBitrate: 192,\n  },\n\n  43: {\n    mimeType: 'video/webm; codecs=\"VP8, vorbis\"',\n    qualityLabel: \"360p\",\n    bitrate: 500000,\n    audioBitrate: 128,\n  },\n\n  44: {\n    mimeType: 'video/webm; codecs=\"VP8, vorbis\"',\n    qualityLabel: \"480p\",\n    bitrate: 1000000,\n    audioBitrate: 128,\n  },\n\n  45: {\n    mimeType: 'video/webm; codecs=\"VP8, vorbis\"',\n    qualityLabel: \"720p\",\n    bitrate: 2000000,\n    audioBitrate: 192,\n  },\n\n  46: {\n    mimeType: 'audio/webm; codecs=\"vp8, vorbis\"',\n    qualityLabel: \"1080p\",\n    bitrate: null,\n    audioBitrate: 192,\n  },\n\n  82: {\n    mimeType: 'video/mp4; codecs=\"H.264, aac\"',\n    qualityLabel: \"360p\",\n    bitrate: 500000,\n    audioBitrate: 96,\n  },\n\n  83: {\n    mimeType: 'video/mp4; codecs=\"H.264, aac\"',\n    qualityLabel: \"240p\",\n    bitrate: 500000,\n    audioBitrate: 96,\n  },\n\n  84: {\n    mimeType: 'video/mp4; codecs=\"H.264, aac\"',\n    qualityLabel: \"720p\",\n    bitrate: 2000000,\n    audioBitrate: 192,\n  },\n\n  85: {\n    mimeType: 'video/mp4; codecs=\"H.264, aac\"',\n    qualityLabel: \"1080p\",\n    bitrate: 3000000,\n    audioBitrate: 192,\n  },\n\n  91: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"144p\",\n    bitrate: 100000,\n    audioBitrate: 48,\n  },\n\n  92: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"240p\",\n    bitrate: 150000,\n    audioBitrate: 48,\n  },\n\n  93: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"360p\",\n    bitrate: 500000,\n    audioBitrate: 128,\n  },\n\n  94: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"480p\",\n    bitrate: 800000,\n    audioBitrate: 128,\n  },\n\n  95: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"720p\",\n    bitrate: 1500000,\n    audioBitrate: 256,\n  },\n\n  96: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"1080p\",\n    bitrate: 2500000,\n    audioBitrate: 256,\n  },\n\n  100: {\n    mimeType: 'audio/webm; codecs=\"VP8, vorbis\"',\n    qualityLabel: \"360p\",\n    bitrate: null,\n    audioBitrate: 128,\n  },\n\n  101: {\n    mimeType: 'audio/webm; codecs=\"VP8, vorbis\"',\n    qualityLabel: \"360p\",\n    bitrate: null,\n    audioBitrate: 192,\n  },\n\n  102: {\n    mimeType: 'audio/webm; codecs=\"VP8, vorbis\"',\n    qualityLabel: \"720p\",\n    bitrate: null,\n    audioBitrate: 192,\n  },\n\n  120: {\n    mimeType: 'video/flv; codecs=\"H.264, aac\"',\n    qualityLabel: \"720p\",\n    bitrate: 2000000,\n    audioBitrate: 128,\n  },\n\n  127: {\n    mimeType: 'audio/ts; codecs=\"aac\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 96,\n  },\n\n  128: {\n    mimeType: 'audio/ts; codecs=\"aac\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 96,\n  },\n\n  132: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"240p\",\n    bitrate: 150000,\n    audioBitrate: 48,\n  },\n\n  133: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"240p\",\n    bitrate: 200000,\n    audioBitrate: null,\n  },\n\n  134: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"360p\",\n    bitrate: 300000,\n    audioBitrate: null,\n  },\n\n  135: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"480p\",\n    bitrate: 500000,\n    audioBitrate: null,\n  },\n\n  136: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"720p\",\n    bitrate: 1000000,\n    audioBitrate: null,\n  },\n\n  137: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"1080p\",\n    bitrate: 2500000,\n    audioBitrate: null,\n  },\n\n  138: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"4320p\",\n    bitrate: 13500000,\n    audioBitrate: null,\n  },\n\n  139: {\n    mimeType: 'audio/mp4; codecs=\"aac\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 48,\n  },\n\n  140: {\n    mimeType: 'audio/m4a; codecs=\"aac\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 128,\n  },\n\n  141: {\n    mimeType: 'audio/mp4; codecs=\"aac\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 256,\n  },\n\n  151: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"720p\",\n    bitrate: 50000,\n    audioBitrate: 24,\n  },\n\n  160: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"144p\",\n    bitrate: 100000,\n    audioBitrate: null,\n  },\n\n  171: {\n    mimeType: 'audio/webm; codecs=\"vorbis\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 128,\n  },\n\n  172: {\n    mimeType: 'audio/webm; codecs=\"vorbis\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 192,\n  },\n\n  231: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"480p\",\n    bitrate: 500000,\n    audioBitrate: null,\n  },\n\n  232: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"720p\",\n    bitrate: 800000,\n    audioBitrate: null,\n  },\n\n  242: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"240p\",\n    bitrate: 100000,\n    audioBitrate: null,\n  },\n\n  243: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"360p\",\n    bitrate: 250000,\n    audioBitrate: null,\n  },\n\n  244: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"480p\",\n    bitrate: 500000,\n    audioBitrate: null,\n  },\n\n  247: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"720p\",\n    bitrate: 700000,\n    audioBitrate: null,\n  },\n\n  248: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"1080p\",\n    bitrate: 1500000,\n    audioBitrate: null,\n  },\n\n  249: {\n    mimeType: 'audio/webm; codecs=\"opus\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 48,\n  },\n\n  250: {\n    mimeType: 'audio/webm; codecs=\"opus\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 64,\n  },\n\n  251: {\n    mimeType: 'audio/webm; codecs=\"opus\"',\n    qualityLabel: null,\n    bitrate: null,\n    audioBitrate: 160,\n  },\n\n  264: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"1440p\",\n    bitrate: 4000000,\n    audioBitrate: null,\n  },\n\n  266: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"2160p\",\n    bitrate: 12500000,\n    audioBitrate: null,\n  },\n\n  270: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"1080p\",\n    bitrate: 2500000,\n    audioBitrate: null,\n  },\n\n  271: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"1440p\",\n    bitrate: 9000000,\n    audioBitrate: null,\n  },\n\n  272: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"4320p\",\n    bitrate: 20000000,\n    audioBitrate: null,\n  },\n\n  278: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"144p 30fps\",\n    bitrate: 80000,\n    audioBitrate: null,\n  },\n\n  298: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"720p\",\n    bitrate: 3000000,\n    audioBitrate: null,\n  },\n\n  299: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"1080p\",\n    bitrate: 5500000,\n    audioBitrate: null,\n  },\n\n  300: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"720p\",\n    bitrate: 1318000,\n    audioBitrate: 48,\n  },\n\n  301: {\n    mimeType: 'video/ts; codecs=\"H.264, aac\"',\n    qualityLabel: \"1080p\",\n    bitrate: 3000000,\n    audioBitrate: 128,\n  },\n\n  302: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"720p HFR\",\n    bitrate: 2500000,\n    audioBitrate: null,\n  },\n\n  303: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"1080p HFR\",\n    bitrate: 5000000,\n    audioBitrate: null,\n  },\n\n  308: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"1440p HFR\",\n    bitrate: 10000000,\n    audioBitrate: null,\n  },\n\n  311: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"720p\",\n    bitrate: 1250000,\n    audioBitrate: null,\n  },\n\n  312: {\n    mimeType: 'video/mp4; codecs=\"H.264\"',\n    qualityLabel: \"1080p\",\n    bitrate: 2500000,\n    audioBitrate: null,\n  },\n\n  313: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"2160p\",\n    bitrate: 13000000,\n    audioBitrate: null,\n  },\n\n  315: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"2160p HFR\",\n    bitrate: 20000000,\n    audioBitrate: null,\n  },\n\n  330: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"144p HDR, HFR\",\n    bitrate: 80000,\n    audioBitrate: null,\n  },\n\n  331: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"240p HDR, HFR\",\n    bitrate: 100000,\n    audioBitrate: null,\n  },\n\n  332: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"360p HDR, HFR\",\n    bitrate: 250000,\n    audioBitrate: null,\n  },\n\n  333: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"240p HDR, HFR\",\n    bitrate: 500000,\n    audioBitrate: null,\n  },\n\n  334: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"720p HDR, HFR\",\n    bitrate: 1000000,\n    audioBitrate: null,\n  },\n\n  335: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"1080p HDR, HFR\",\n    bitrate: 1500000,\n    audioBitrate: null,\n  },\n\n  336: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"1440p HDR, HFR\",\n    bitrate: 5000000,\n    audioBitrate: null,\n  },\n\n  337: {\n    mimeType: 'video/webm; codecs=\"VP9\"',\n    qualityLabel: \"2160p HDR, HFR\",\n    bitrate: 12000000,\n    audioBitrate: null,\n  },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi9mb3JtYXRzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQnVyYWtcXERvY3VtZW50c1xcR2l0SHViXFx5b3V0dWJlLWRvd25sb2FkZXJcXG5vZGVfbW9kdWxlc1xcQGRpc3R1YmVcXHl0ZGwtY29yZVxcbGliXFxmb3JtYXRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Zb3VUdWJlI1F1YWxpdHlfYW5kX2Zvcm1hdHNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIDU6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL2ZsdjsgY29kZWNzPVwiU29yZW5zb24gSC4yODMsIG1wM1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMjQwcFwiLFxuICAgIGJpdHJhdGU6IDI1MDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDY0LFxuICB9LFxuXG4gIDY6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL2ZsdjsgY29kZWNzPVwiU29yZW5zb24gSC4yNjMsIG1wM1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMjcwcFwiLFxuICAgIGJpdHJhdGU6IDgwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDY0LFxuICB9LFxuXG4gIDEzOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby8zZ3A7IGNvZGVjcz1cIk1QRUctNCBWaXN1YWwsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IG51bGwsXG4gICAgYml0cmF0ZTogNTAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAxNzoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vM2dwOyBjb2RlY3M9XCJNUEVHLTQgVmlzdWFsLCBhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjE0NHBcIixcbiAgICBiaXRyYXRlOiA1MDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDI0LFxuICB9LFxuXG4gIDE4OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cIkguMjY0LCBhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjM2MHBcIixcbiAgICBiaXRyYXRlOiA1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiA5NixcbiAgfSxcblxuICAyMjoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJILjI2NCwgYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI3MjBwXCIsXG4gICAgYml0cmF0ZTogMjAwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDE5MixcbiAgfSxcblxuICAzNDoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vZmx2OyBjb2RlY3M9XCJILjI2NCwgYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIzNjBwXCIsXG4gICAgYml0cmF0ZTogNTAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogMTI4LFxuICB9LFxuXG4gIDM1OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby9mbHY7IGNvZGVjcz1cIkguMjY0LCBhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjQ4MHBcIixcbiAgICBiaXRyYXRlOiA4MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiAxMjgsXG4gIH0sXG5cbiAgMzY6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvLzNncDsgY29kZWNzPVwiTVBFRy00IFZpc3VhbCwgYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIyNDBwXCIsXG4gICAgYml0cmF0ZTogMTc1MDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogMzIsXG4gIH0sXG5cbiAgMzc6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL21wNDsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTA4MHBcIixcbiAgICBiaXRyYXRlOiAzMDAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogMTkyLFxuICB9LFxuXG4gIDM4OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cIkguMjY0LCBhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjMwNzJwXCIsXG4gICAgYml0cmF0ZTogMzUwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDE5MixcbiAgfSxcblxuICA0Mzoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA4LCB2b3JiaXNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjM2MHBcIixcbiAgICBiaXRyYXRlOiA1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiAxMjgsXG4gIH0sXG5cbiAgNDQ6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm07IGNvZGVjcz1cIlZQOCwgdm9yYmlzXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI0ODBwXCIsXG4gICAgYml0cmF0ZTogMTAwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDEyOCxcbiAgfSxcblxuICA0NToge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA4LCB2b3JiaXNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjcyMHBcIixcbiAgICBiaXRyYXRlOiAyMDAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogMTkyLFxuICB9LFxuXG4gIDQ2OiB7XG4gICAgbWltZVR5cGU6ICdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2cDgsIHZvcmJpc1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTA4MHBcIixcbiAgICBiaXRyYXRlOiBudWxsLFxuICAgIGF1ZGlvQml0cmF0ZTogMTkyLFxuICB9LFxuXG4gIDgyOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cIkguMjY0LCBhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjM2MHBcIixcbiAgICBiaXRyYXRlOiA1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiA5NixcbiAgfSxcblxuICA4Mzoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJILjI2NCwgYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIyNDBwXCIsXG4gICAgYml0cmF0ZTogNTAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogOTYsXG4gIH0sXG5cbiAgODQ6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL21wNDsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiNzIwcFwiLFxuICAgIGJpdHJhdGU6IDIwMDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiAxOTIsXG4gIH0sXG5cbiAgODU6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL21wNDsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTA4MHBcIixcbiAgICBiaXRyYXRlOiAzMDAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogMTkyLFxuICB9LFxuXG4gIDkxOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby90czsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTQ0cFwiLFxuICAgIGJpdHJhdGU6IDEwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDQ4LFxuICB9LFxuXG4gIDkyOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby90czsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMjQwcFwiLFxuICAgIGJpdHJhdGU6IDE1MDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDQ4LFxuICB9LFxuXG4gIDkzOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby90czsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMzYwcFwiLFxuICAgIGJpdHJhdGU6IDUwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDEyOCxcbiAgfSxcblxuICA5NDoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vdHM7IGNvZGVjcz1cIkguMjY0LCBhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjQ4MHBcIixcbiAgICBiaXRyYXRlOiA4MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiAxMjgsXG4gIH0sXG5cbiAgOTU6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3RzOyBjb2RlY3M9XCJILjI2NCwgYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI3MjBwXCIsXG4gICAgYml0cmF0ZTogMTUwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDI1NixcbiAgfSxcblxuICA5Njoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vdHM7IGNvZGVjcz1cIkguMjY0LCBhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjEwODBwXCIsXG4gICAgYml0cmF0ZTogMjUwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDI1NixcbiAgfSxcblxuICAxMDA6IHtcbiAgICBtaW1lVHlwZTogJ2F1ZGlvL3dlYm07IGNvZGVjcz1cIlZQOCwgdm9yYmlzXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIzNjBwXCIsXG4gICAgYml0cmF0ZTogbnVsbCxcbiAgICBhdWRpb0JpdHJhdGU6IDEyOCxcbiAgfSxcblxuICAxMDE6IHtcbiAgICBtaW1lVHlwZTogJ2F1ZGlvL3dlYm07IGNvZGVjcz1cIlZQOCwgdm9yYmlzXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIzNjBwXCIsXG4gICAgYml0cmF0ZTogbnVsbCxcbiAgICBhdWRpb0JpdHJhdGU6IDE5MixcbiAgfSxcblxuICAxMDI6IHtcbiAgICBtaW1lVHlwZTogJ2F1ZGlvL3dlYm07IGNvZGVjcz1cIlZQOCwgdm9yYmlzXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI3MjBwXCIsXG4gICAgYml0cmF0ZTogbnVsbCxcbiAgICBhdWRpb0JpdHJhdGU6IDE5MixcbiAgfSxcblxuICAxMjA6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL2ZsdjsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiNzIwcFwiLFxuICAgIGJpdHJhdGU6IDIwMDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiAxMjgsXG4gIH0sXG5cbiAgMTI3OiB7XG4gICAgbWltZVR5cGU6ICdhdWRpby90czsgY29kZWNzPVwiYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogbnVsbCxcbiAgICBiaXRyYXRlOiBudWxsLFxuICAgIGF1ZGlvQml0cmF0ZTogOTYsXG4gIH0sXG5cbiAgMTI4OiB7XG4gICAgbWltZVR5cGU6ICdhdWRpby90czsgY29kZWNzPVwiYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogbnVsbCxcbiAgICBiaXRyYXRlOiBudWxsLFxuICAgIGF1ZGlvQml0cmF0ZTogOTYsXG4gIH0sXG5cbiAgMTMyOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby90czsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMjQwcFwiLFxuICAgIGJpdHJhdGU6IDE1MDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IDQ4LFxuICB9LFxuXG4gIDEzMzoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJILjI2NFwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMjQwcFwiLFxuICAgIGJpdHJhdGU6IDIwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMTM0OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cIkguMjY0XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIzNjBwXCIsXG4gICAgYml0cmF0ZTogMzAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAxMzU6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL21wNDsgY29kZWNzPVwiSC4yNjRcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjQ4MHBcIixcbiAgICBiaXRyYXRlOiA1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDEzNjoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJILjI2NFwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiNzIwcFwiLFxuICAgIGJpdHJhdGU6IDEwMDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDEzNzoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJILjI2NFwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTA4MHBcIixcbiAgICBiaXRyYXRlOiAyNTAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAxMzg6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL21wNDsgY29kZWNzPVwiSC4yNjRcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjQzMjBwXCIsXG4gICAgYml0cmF0ZTogMTM1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDEzOToge1xuICAgIG1pbWVUeXBlOiAnYXVkaW8vbXA0OyBjb2RlY3M9XCJhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBudWxsLFxuICAgIGJpdHJhdGU6IG51bGwsXG4gICAgYXVkaW9CaXRyYXRlOiA0OCxcbiAgfSxcblxuICAxNDA6IHtcbiAgICBtaW1lVHlwZTogJ2F1ZGlvL200YTsgY29kZWNzPVwiYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogbnVsbCxcbiAgICBiaXRyYXRlOiBudWxsLFxuICAgIGF1ZGlvQml0cmF0ZTogMTI4LFxuICB9LFxuXG4gIDE0MToge1xuICAgIG1pbWVUeXBlOiAnYXVkaW8vbXA0OyBjb2RlY3M9XCJhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBudWxsLFxuICAgIGJpdHJhdGU6IG51bGwsXG4gICAgYXVkaW9CaXRyYXRlOiAyNTYsXG4gIH0sXG5cbiAgMTUxOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby90czsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiNzIwcFwiLFxuICAgIGJpdHJhdGU6IDUwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogMjQsXG4gIH0sXG5cbiAgMTYwOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cIkguMjY0XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIxNDRwXCIsXG4gICAgYml0cmF0ZTogMTAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAxNzE6IHtcbiAgICBtaW1lVHlwZTogJ2F1ZGlvL3dlYm07IGNvZGVjcz1cInZvcmJpc1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IG51bGwsXG4gICAgYml0cmF0ZTogbnVsbCxcbiAgICBhdWRpb0JpdHJhdGU6IDEyOCxcbiAgfSxcblxuICAxNzI6IHtcbiAgICBtaW1lVHlwZTogJ2F1ZGlvL3dlYm07IGNvZGVjcz1cInZvcmJpc1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IG51bGwsXG4gICAgYml0cmF0ZTogbnVsbCxcbiAgICBhdWRpb0JpdHJhdGU6IDE5MixcbiAgfSxcblxuICAyMzE6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3RzOyBjb2RlY3M9XCJILjI2NCwgYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI0ODBwXCIsXG4gICAgYml0cmF0ZTogNTAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAyMzI6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3RzOyBjb2RlY3M9XCJILjI2NCwgYWFjXCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI3MjBwXCIsXG4gICAgYml0cmF0ZTogODAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAyNDI6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm07IGNvZGVjcz1cIlZQOVwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMjQwcFwiLFxuICAgIGJpdHJhdGU6IDEwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMjQzOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby93ZWJtOyBjb2RlY3M9XCJWUDlcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjM2MHBcIixcbiAgICBiaXRyYXRlOiAyNTAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDI0NDoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA5XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI0ODBwXCIsXG4gICAgYml0cmF0ZTogNTAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAyNDc6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm07IGNvZGVjcz1cIlZQOVwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiNzIwcFwiLFxuICAgIGJpdHJhdGU6IDcwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMjQ4OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby93ZWJtOyBjb2RlY3M9XCJWUDlcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjEwODBwXCIsXG4gICAgYml0cmF0ZTogMTUwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMjQ5OiB7XG4gICAgbWltZVR5cGU6ICdhdWRpby93ZWJtOyBjb2RlY3M9XCJvcHVzXCInLFxuICAgIHF1YWxpdHlMYWJlbDogbnVsbCxcbiAgICBiaXRyYXRlOiBudWxsLFxuICAgIGF1ZGlvQml0cmF0ZTogNDgsXG4gIH0sXG5cbiAgMjUwOiB7XG4gICAgbWltZVR5cGU6ICdhdWRpby93ZWJtOyBjb2RlY3M9XCJvcHVzXCInLFxuICAgIHF1YWxpdHlMYWJlbDogbnVsbCxcbiAgICBiaXRyYXRlOiBudWxsLFxuICAgIGF1ZGlvQml0cmF0ZTogNjQsXG4gIH0sXG5cbiAgMjUxOiB7XG4gICAgbWltZVR5cGU6ICdhdWRpby93ZWJtOyBjb2RlY3M9XCJvcHVzXCInLFxuICAgIHF1YWxpdHlMYWJlbDogbnVsbCxcbiAgICBiaXRyYXRlOiBudWxsLFxuICAgIGF1ZGlvQml0cmF0ZTogMTYwLFxuICB9LFxuXG4gIDI2NDoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJILjI2NFwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTQ0MHBcIixcbiAgICBiaXRyYXRlOiA0MDAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAyNjY6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL21wNDsgY29kZWNzPVwiSC4yNjRcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjIxNjBwXCIsXG4gICAgYml0cmF0ZTogMTI1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDI3MDoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJILjI2NFwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTA4MHBcIixcbiAgICBiaXRyYXRlOiAyNTAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAyNzE6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm07IGNvZGVjcz1cIlZQOVwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTQ0MHBcIixcbiAgICBiaXRyYXRlOiA5MDAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAyNzI6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm07IGNvZGVjcz1cIlZQOVwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiNDMyMHBcIixcbiAgICBiaXRyYXRlOiAyMDAwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMjc4OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby93ZWJtOyBjb2RlY3M9XCJWUDlcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjE0NHAgMzBmcHNcIixcbiAgICBiaXRyYXRlOiA4MDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMjk4OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cIkguMjY0XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI3MjBwXCIsXG4gICAgYml0cmF0ZTogMzAwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMjk5OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cIkguMjY0XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIxMDgwcFwiLFxuICAgIGJpdHJhdGU6IDU1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDMwMDoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vdHM7IGNvZGVjcz1cIkguMjY0LCBhYWNcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjcyMHBcIixcbiAgICBiaXRyYXRlOiAxMzE4MDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogNDgsXG4gIH0sXG5cbiAgMzAxOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby90czsgY29kZWNzPVwiSC4yNjQsIGFhY1wiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTA4MHBcIixcbiAgICBiaXRyYXRlOiAzMDAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogMTI4LFxuICB9LFxuXG4gIDMwMjoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA5XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI3MjBwIEhGUlwiLFxuICAgIGJpdHJhdGU6IDI1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDMwMzoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA5XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIxMDgwcCBIRlJcIixcbiAgICBiaXRyYXRlOiA1MDAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAzMDg6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm07IGNvZGVjcz1cIlZQOVwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMTQ0MHAgSEZSXCIsXG4gICAgYml0cmF0ZTogMTAwMDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDMxMToge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA5XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI3MjBwXCIsXG4gICAgYml0cmF0ZTogMTI1MDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMzEyOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cIkguMjY0XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIxMDgwcFwiLFxuICAgIGJpdHJhdGU6IDI1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDMxMzoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA5XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIyMTYwcFwiLFxuICAgIGJpdHJhdGU6IDEzMDAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAzMTU6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm07IGNvZGVjcz1cIlZQOVwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMjE2MHAgSEZSXCIsXG4gICAgYml0cmF0ZTogMjAwMDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDMzMDoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA5XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIxNDRwIEhEUiwgSEZSXCIsXG4gICAgYml0cmF0ZTogODAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDMzMToge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA5XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCIyNDBwIEhEUiwgSEZSXCIsXG4gICAgYml0cmF0ZTogMTAwMDAwLFxuICAgIGF1ZGlvQml0cmF0ZTogbnVsbCxcbiAgfSxcblxuICAzMzI6IHtcbiAgICBtaW1lVHlwZTogJ3ZpZGVvL3dlYm07IGNvZGVjcz1cIlZQOVwiJyxcbiAgICBxdWFsaXR5TGFiZWw6IFwiMzYwcCBIRFIsIEhGUlwiLFxuICAgIGJpdHJhdGU6IDI1MDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMzMzOiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby93ZWJtOyBjb2RlY3M9XCJWUDlcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjI0MHAgSERSLCBIRlJcIixcbiAgICBiaXRyYXRlOiA1MDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxuXG4gIDMzNDoge1xuICAgIG1pbWVUeXBlOiAndmlkZW8vd2VibTsgY29kZWNzPVwiVlA5XCInLFxuICAgIHF1YWxpdHlMYWJlbDogXCI3MjBwIEhEUiwgSEZSXCIsXG4gICAgYml0cmF0ZTogMTAwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMzM1OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby93ZWJtOyBjb2RlY3M9XCJWUDlcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjEwODBwIEhEUiwgSEZSXCIsXG4gICAgYml0cmF0ZTogMTUwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMzM2OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby93ZWJtOyBjb2RlY3M9XCJWUDlcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjE0NDBwIEhEUiwgSEZSXCIsXG4gICAgYml0cmF0ZTogNTAwMDAwMCxcbiAgICBhdWRpb0JpdHJhdGU6IG51bGwsXG4gIH0sXG5cbiAgMzM3OiB7XG4gICAgbWltZVR5cGU6ICd2aWRlby93ZWJtOyBjb2RlY3M9XCJWUDlcIicsXG4gICAgcXVhbGl0eUxhYmVsOiBcIjIxNjBwIEhEUiwgSEZSXCIsXG4gICAgYml0cmF0ZTogMTIwMDAwMDAsXG4gICAgYXVkaW9CaXRyYXRlOiBudWxsLFxuICB9LFxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/formats.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/index.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const PassThrough = (__webpack_require__(/*! stream */ \"stream\").PassThrough);\nconst getInfo = __webpack_require__(/*! ./info */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/info.js\");\nconst utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/utils.js\");\nconst formatUtils = __webpack_require__(/*! ./format-utils */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/format-utils.js\");\nconst urlUtils = __webpack_require__(/*! ./url-utils */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/url-utils.js\");\nconst miniget = __webpack_require__(/*! miniget */ \"(rsc)/./node_modules/miniget/dist/index.js\");\nconst m3u8stream = __webpack_require__(/*! m3u8stream */ \"(rsc)/./node_modules/m3u8stream/dist/index.js\");\nconst { parseTimestamp } = __webpack_require__(/*! m3u8stream */ \"(rsc)/./node_modules/m3u8stream/dist/index.js\");\nconst agent = __webpack_require__(/*! ./agent */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/agent.js\");\n\n/**\n * @param {string} link\n * @param {!Object} options\n * @returns {ReadableStream}\n */\nconst ytdl = (link, options) => {\n  const stream = createStream(options);\n  ytdl.getInfo(link, options).then(\n    info => {\n      downloadFromInfoCallback(stream, info, options);\n    },\n    stream.emit.bind(stream, \"error\"),\n  );\n  return stream;\n};\nmodule.exports = ytdl;\n\nytdl.getBasicInfo = getInfo.getBasicInfo;\nytdl.getInfo = getInfo.getInfo;\nytdl.chooseFormat = formatUtils.chooseFormat;\nytdl.filterFormats = formatUtils.filterFormats;\nytdl.validateID = urlUtils.validateID;\nytdl.validateURL = urlUtils.validateURL;\nytdl.getURLVideoID = urlUtils.getURLVideoID;\nytdl.getVideoID = urlUtils.getVideoID;\nytdl.createAgent = agent.createAgent;\nytdl.createProxyAgent = agent.createProxyAgent;\nytdl.cache = {\n  info: getInfo.cache,\n  watch: getInfo.watchPageCache,\n};\nytdl.version = (__webpack_require__(/*! ../package.json */ \"(rsc)/./node_modules/@distube/ytdl-core/package.json\").version);\n\nconst createStream = options => {\n  const stream = new PassThrough({\n    highWaterMark: (options && options.highWaterMark) || 1024 * 512,\n  });\n  stream._destroy = () => {\n    stream.destroyed = true;\n  };\n  return stream;\n};\n\nconst pipeAndSetEvents = (req, stream, end) => {\n  // Forward events from the request to the stream.\n  [\"abort\", \"request\", \"response\", \"error\", \"redirect\", \"retry\", \"reconnect\"].forEach(event => {\n    req.prependListener(event, stream.emit.bind(stream, event));\n  });\n  req.pipe(stream, { end });\n};\n\n/**\n * Chooses a format to download.\n *\n * @param {stream.Readable} stream\n * @param {Object} info\n * @param {Object} options\n */\nconst downloadFromInfoCallback = (stream, info, options) => {\n  options = options || {};\n\n  let err = utils.playError(info.player_response);\n  if (err) {\n    stream.emit(\"error\", err);\n    return;\n  }\n\n  if (!info.formats.length) {\n    stream.emit(\"error\", Error(\"This video is unavailable\"));\n    return;\n  }\n\n  let format;\n  try {\n    format = formatUtils.chooseFormat(info.formats, options);\n  } catch (e) {\n    stream.emit(\"error\", e);\n    return;\n  }\n  stream.emit(\"info\", info, format);\n  if (stream.destroyed) {\n    return;\n  }\n\n  let contentLength,\n    downloaded = 0;\n  const ondata = chunk => {\n    downloaded += chunk.length;\n    stream.emit(\"progress\", chunk.length, downloaded, contentLength);\n  };\n\n  utils.applyDefaultHeaders(options);\n  if (options.IPv6Block) {\n    options.requestOptions = Object.assign({}, options.requestOptions, {\n      localAddress: utils.getRandomIPv6(options.IPv6Block),\n    });\n  }\n\n  if (options.agent) {\n    // Set agent on both the miniget and m3u8stream requests\n    options.requestOptions.agent = options.agent.agent;\n\n    if (options.agent.jar) {\n      utils.setPropInsensitive(\n        options.requestOptions.headers,\n        \"cookie\",\n        options.agent.jar.getCookieStringSync(\"https://www.youtube.com\"),\n      );\n    }\n    if (options.agent.localAddress) {\n      options.requestOptions.localAddress = options.agent.localAddress;\n    }\n  }\n\n  // Download the file in chunks, in this case the default is 10MB,\n  // anything over this will cause youtube to throttle the download\n  const dlChunkSize = typeof options.dlChunkSize === \"number\" ? options.dlChunkSize : 1024 * 1024 * 10;\n  let req;\n  let shouldEnd = true;\n\n  if (format.isHLS || format.isDashMPD) {\n    req = m3u8stream(format.url, {\n      chunkReadahead: +info.live_chunk_readahead,\n      begin: options.begin || (format.isLive && Date.now()),\n      liveBuffer: options.liveBuffer,\n      // Now we have passed not only custom \"dispatcher\" with undici ProxyAgent, but also \"agent\" field which is compatible for node http\n      requestOptions: options.requestOptions,\n      parser: format.isDashMPD ? \"dash-mpd\" : \"m3u8\",\n      id: format.itag,\n    });\n\n    req.on(\"progress\", (segment, totalSegments) => {\n      stream.emit(\"progress\", segment.size, segment.num, totalSegments);\n    });\n    pipeAndSetEvents(req, stream, shouldEnd);\n  } else {\n    const requestOptions = Object.assign({}, options.requestOptions, {\n      maxReconnects: 6,\n      maxRetries: 3,\n      backoff: { inc: 500, max: 10000 },\n    });\n\n    let shouldBeChunked = dlChunkSize !== 0 && (!format.hasAudio || !format.hasVideo);\n\n    if (shouldBeChunked) {\n      let start = (options.range && options.range.start) || 0;\n      let end = start + dlChunkSize;\n      const rangeEnd = options.range && options.range.end;\n\n      contentLength = options.range\n        ? (rangeEnd ? rangeEnd + 1 : parseInt(format.contentLength)) - start\n        : parseInt(format.contentLength);\n\n      const getNextChunk = () => {\n        if (stream.destroyed) return;\n        if (!rangeEnd && end >= contentLength) end = 0;\n        if (rangeEnd && end > rangeEnd) end = rangeEnd;\n        shouldEnd = !end || end === rangeEnd;\n\n        requestOptions.headers = Object.assign({}, requestOptions.headers, {\n          Range: `bytes=${start}-${end || \"\"}`,\n        });\n        req = miniget(format.url, requestOptions);\n        req.on(\"data\", ondata);\n        req.on(\"end\", () => {\n          if (stream.destroyed) return;\n          if (end && end !== rangeEnd) {\n            start = end + 1;\n            end += dlChunkSize;\n            getNextChunk();\n          }\n        });\n        pipeAndSetEvents(req, stream, shouldEnd);\n      };\n      getNextChunk();\n    } else {\n      // Audio only and video only formats don't support begin\n      if (options.begin) {\n        format.url += `&begin=${parseTimestamp(options.begin)}`;\n      }\n      if (options.range && (options.range.start || options.range.end)) {\n        requestOptions.headers = Object.assign({}, requestOptions.headers, {\n          Range: `bytes=${options.range.start || \"0\"}-${options.range.end || \"\"}`,\n        });\n      }\n      req = miniget(format.url, requestOptions);\n      req.on(\"response\", res => {\n        if (stream.destroyed) return;\n        contentLength = contentLength || parseInt(res.headers[\"content-length\"]);\n      });\n      req.on(\"data\", ondata);\n      pipeAndSetEvents(req, stream, shouldEnd);\n    }\n  }\n\n  stream._destroy = () => {\n    stream.destroyed = true;\n    if (req) {\n      req.destroy();\n      req.end();\n    }\n  };\n};\n\n/**\n * Can be used to download video after its `info` is gotten through\n * `ytdl.getInfo()`. In case the user might want to look at the\n * `info` object before deciding to download.\n *\n * @param {Object} info\n * @param {!Object} options\n * @returns {ReadableStream}\n */\nytdl.downloadFromInfo = (info, options) => {\n  const stream = createStream(options);\n  if (!info.full) {\n    throw Error(\"Cannot use `ytdl.downloadFromInfo()` when called with info from `ytdl.getBasicInfo()`\");\n  }\n  setImmediate(() => {\n    downloadFromInfoCallback(stream, info, options);\n  });\n  return stream;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxvQkFBb0IseURBQTZCO0FBQ2pELGdCQUFnQixtQkFBTyxDQUFDLG1FQUFRO0FBQ2hDLGNBQWMsbUJBQU8sQ0FBQyxxRUFBUztBQUMvQixvQkFBb0IsbUJBQU8sQ0FBQyxtRkFBZ0I7QUFDNUMsaUJBQWlCLG1CQUFPLENBQUMsNkVBQWE7QUFDdEMsZ0JBQWdCLG1CQUFPLENBQUMsMkRBQVM7QUFDakMsbUJBQW1CLG1CQUFPLENBQUMsaUVBQVk7QUFDdkMsUUFBUSxpQkFBaUIsRUFBRSxtQkFBTyxDQUFDLGlFQUFZO0FBQy9DLGNBQWMsbUJBQU8sQ0FBQyxxRUFBUzs7QUFFL0I7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0R0FBa0M7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHFCQUFxQixLQUFLO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSTtBQUNKLDJDQUEyQztBQUMzQztBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2QyxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlEQUFpRDtBQUNqRCwwQkFBMEIsTUFBTSxHQUFHLFVBQVU7QUFDN0MsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLGdDQUFnQyw4QkFBOEI7QUFDOUQ7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCwwQkFBMEIsMkJBQTJCLEdBQUcsd0JBQXdCO0FBQ2hGLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCdXJha1xcRG9jdW1lbnRzXFxHaXRIdWJcXHlvdXR1YmUtZG93bmxvYWRlclxcbm9kZV9tb2R1bGVzXFxAZGlzdHViZVxceXRkbC1jb3JlXFxsaWJcXGluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBhc3NUaHJvdWdoID0gcmVxdWlyZShcInN0cmVhbVwiKS5QYXNzVGhyb3VnaDtcbmNvbnN0IGdldEluZm8gPSByZXF1aXJlKFwiLi9pbmZvXCIpO1xuY29uc3QgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbmNvbnN0IGZvcm1hdFV0aWxzID0gcmVxdWlyZShcIi4vZm9ybWF0LXV0aWxzXCIpO1xuY29uc3QgdXJsVXRpbHMgPSByZXF1aXJlKFwiLi91cmwtdXRpbHNcIik7XG5jb25zdCBtaW5pZ2V0ID0gcmVxdWlyZShcIm1pbmlnZXRcIik7XG5jb25zdCBtM3U4c3RyZWFtID0gcmVxdWlyZShcIm0zdThzdHJlYW1cIik7XG5jb25zdCB7IHBhcnNlVGltZXN0YW1wIH0gPSByZXF1aXJlKFwibTN1OHN0cmVhbVwiKTtcbmNvbnN0IGFnZW50ID0gcmVxdWlyZShcIi4vYWdlbnRcIik7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGxpbmtcbiAqIEBwYXJhbSB7IU9iamVjdH0gb3B0aW9uc1xuICogQHJldHVybnMge1JlYWRhYmxlU3RyZWFtfVxuICovXG5jb25zdCB5dGRsID0gKGxpbmssIG9wdGlvbnMpID0+IHtcbiAgY29uc3Qgc3RyZWFtID0gY3JlYXRlU3RyZWFtKG9wdGlvbnMpO1xuICB5dGRsLmdldEluZm8obGluaywgb3B0aW9ucykudGhlbihcbiAgICBpbmZvID0+IHtcbiAgICAgIGRvd25sb2FkRnJvbUluZm9DYWxsYmFjayhzdHJlYW0sIGluZm8sIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgc3RyZWFtLmVtaXQuYmluZChzdHJlYW0sIFwiZXJyb3JcIiksXG4gICk7XG4gIHJldHVybiBzdHJlYW07XG59O1xubW9kdWxlLmV4cG9ydHMgPSB5dGRsO1xuXG55dGRsLmdldEJhc2ljSW5mbyA9IGdldEluZm8uZ2V0QmFzaWNJbmZvO1xueXRkbC5nZXRJbmZvID0gZ2V0SW5mby5nZXRJbmZvO1xueXRkbC5jaG9vc2VGb3JtYXQgPSBmb3JtYXRVdGlscy5jaG9vc2VGb3JtYXQ7XG55dGRsLmZpbHRlckZvcm1hdHMgPSBmb3JtYXRVdGlscy5maWx0ZXJGb3JtYXRzO1xueXRkbC52YWxpZGF0ZUlEID0gdXJsVXRpbHMudmFsaWRhdGVJRDtcbnl0ZGwudmFsaWRhdGVVUkwgPSB1cmxVdGlscy52YWxpZGF0ZVVSTDtcbnl0ZGwuZ2V0VVJMVmlkZW9JRCA9IHVybFV0aWxzLmdldFVSTFZpZGVvSUQ7XG55dGRsLmdldFZpZGVvSUQgPSB1cmxVdGlscy5nZXRWaWRlb0lEO1xueXRkbC5jcmVhdGVBZ2VudCA9IGFnZW50LmNyZWF0ZUFnZW50O1xueXRkbC5jcmVhdGVQcm94eUFnZW50ID0gYWdlbnQuY3JlYXRlUHJveHlBZ2VudDtcbnl0ZGwuY2FjaGUgPSB7XG4gIGluZm86IGdldEluZm8uY2FjaGUsXG4gIHdhdGNoOiBnZXRJbmZvLndhdGNoUGFnZUNhY2hlLFxufTtcbnl0ZGwudmVyc2lvbiA9IHJlcXVpcmUoXCIuLi9wYWNrYWdlLmpzb25cIikudmVyc2lvbjtcblxuY29uc3QgY3JlYXRlU3RyZWFtID0gb3B0aW9ucyA9PiB7XG4gIGNvbnN0IHN0cmVhbSA9IG5ldyBQYXNzVGhyb3VnaCh7XG4gICAgaGlnaFdhdGVyTWFyazogKG9wdGlvbnMgJiYgb3B0aW9ucy5oaWdoV2F0ZXJNYXJrKSB8fCAxMDI0ICogNTEyLFxuICB9KTtcbiAgc3RyZWFtLl9kZXN0cm95ID0gKCkgPT4ge1xuICAgIHN0cmVhbS5kZXN0cm95ZWQgPSB0cnVlO1xuICB9O1xuICByZXR1cm4gc3RyZWFtO1xufTtcblxuY29uc3QgcGlwZUFuZFNldEV2ZW50cyA9IChyZXEsIHN0cmVhbSwgZW5kKSA9PiB7XG4gIC8vIEZvcndhcmQgZXZlbnRzIGZyb20gdGhlIHJlcXVlc3QgdG8gdGhlIHN0cmVhbS5cbiAgW1wiYWJvcnRcIiwgXCJyZXF1ZXN0XCIsIFwicmVzcG9uc2VcIiwgXCJlcnJvclwiLCBcInJlZGlyZWN0XCIsIFwicmV0cnlcIiwgXCJyZWNvbm5lY3RcIl0uZm9yRWFjaChldmVudCA9PiB7XG4gICAgcmVxLnByZXBlbmRMaXN0ZW5lcihldmVudCwgc3RyZWFtLmVtaXQuYmluZChzdHJlYW0sIGV2ZW50KSk7XG4gIH0pO1xuICByZXEucGlwZShzdHJlYW0sIHsgZW5kIH0pO1xufTtcblxuLyoqXG4gKiBDaG9vc2VzIGEgZm9ybWF0IHRvIGRvd25sb2FkLlxuICpcbiAqIEBwYXJhbSB7c3RyZWFtLlJlYWRhYmxlfSBzdHJlYW1cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5jb25zdCBkb3dubG9hZEZyb21JbmZvQ2FsbGJhY2sgPSAoc3RyZWFtLCBpbmZvLCBvcHRpb25zKSA9PiB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGxldCBlcnIgPSB1dGlscy5wbGF5RXJyb3IoaW5mby5wbGF5ZXJfcmVzcG9uc2UpO1xuICBpZiAoZXJyKSB7XG4gICAgc3RyZWFtLmVtaXQoXCJlcnJvclwiLCBlcnIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghaW5mby5mb3JtYXRzLmxlbmd0aCkge1xuICAgIHN0cmVhbS5lbWl0KFwiZXJyb3JcIiwgRXJyb3IoXCJUaGlzIHZpZGVvIGlzIHVuYXZhaWxhYmxlXCIpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgZm9ybWF0O1xuICB0cnkge1xuICAgIGZvcm1hdCA9IGZvcm1hdFV0aWxzLmNob29zZUZvcm1hdChpbmZvLmZvcm1hdHMsIG9wdGlvbnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc3RyZWFtLmVtaXQoXCJlcnJvclwiLCBlKTtcbiAgICByZXR1cm47XG4gIH1cbiAgc3RyZWFtLmVtaXQoXCJpbmZvXCIsIGluZm8sIGZvcm1hdCk7XG4gIGlmIChzdHJlYW0uZGVzdHJveWVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGNvbnRlbnRMZW5ndGgsXG4gICAgZG93bmxvYWRlZCA9IDA7XG4gIGNvbnN0IG9uZGF0YSA9IGNodW5rID0+IHtcbiAgICBkb3dubG9hZGVkICs9IGNodW5rLmxlbmd0aDtcbiAgICBzdHJlYW0uZW1pdChcInByb2dyZXNzXCIsIGNodW5rLmxlbmd0aCwgZG93bmxvYWRlZCwgY29udGVudExlbmd0aCk7XG4gIH07XG5cbiAgdXRpbHMuYXBwbHlEZWZhdWx0SGVhZGVycyhvcHRpb25zKTtcbiAgaWYgKG9wdGlvbnMuSVB2NkJsb2NrKSB7XG4gICAgb3B0aW9ucy5yZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMucmVxdWVzdE9wdGlvbnMsIHtcbiAgICAgIGxvY2FsQWRkcmVzczogdXRpbHMuZ2V0UmFuZG9tSVB2NihvcHRpb25zLklQdjZCbG9jayksXG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5hZ2VudCkge1xuICAgIC8vIFNldCBhZ2VudCBvbiBib3RoIHRoZSBtaW5pZ2V0IGFuZCBtM3U4c3RyZWFtIHJlcXVlc3RzXG4gICAgb3B0aW9ucy5yZXF1ZXN0T3B0aW9ucy5hZ2VudCA9IG9wdGlvbnMuYWdlbnQuYWdlbnQ7XG5cbiAgICBpZiAob3B0aW9ucy5hZ2VudC5qYXIpIHtcbiAgICAgIHV0aWxzLnNldFByb3BJbnNlbnNpdGl2ZShcbiAgICAgICAgb3B0aW9ucy5yZXF1ZXN0T3B0aW9ucy5oZWFkZXJzLFxuICAgICAgICBcImNvb2tpZVwiLFxuICAgICAgICBvcHRpb25zLmFnZW50Lmphci5nZXRDb29raWVTdHJpbmdTeW5jKFwiaHR0cHM6Ly93d3cueW91dHViZS5jb21cIiksXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5hZ2VudC5sb2NhbEFkZHJlc3MpIHtcbiAgICAgIG9wdGlvbnMucmVxdWVzdE9wdGlvbnMubG9jYWxBZGRyZXNzID0gb3B0aW9ucy5hZ2VudC5sb2NhbEFkZHJlc3M7XG4gICAgfVxuICB9XG5cbiAgLy8gRG93bmxvYWQgdGhlIGZpbGUgaW4gY2h1bmtzLCBpbiB0aGlzIGNhc2UgdGhlIGRlZmF1bHQgaXMgMTBNQixcbiAgLy8gYW55dGhpbmcgb3ZlciB0aGlzIHdpbGwgY2F1c2UgeW91dHViZSB0byB0aHJvdHRsZSB0aGUgZG93bmxvYWRcbiAgY29uc3QgZGxDaHVua1NpemUgPSB0eXBlb2Ygb3B0aW9ucy5kbENodW5rU2l6ZSA9PT0gXCJudW1iZXJcIiA/IG9wdGlvbnMuZGxDaHVua1NpemUgOiAxMDI0ICogMTAyNCAqIDEwO1xuICBsZXQgcmVxO1xuICBsZXQgc2hvdWxkRW5kID0gdHJ1ZTtcblxuICBpZiAoZm9ybWF0LmlzSExTIHx8IGZvcm1hdC5pc0Rhc2hNUEQpIHtcbiAgICByZXEgPSBtM3U4c3RyZWFtKGZvcm1hdC51cmwsIHtcbiAgICAgIGNodW5rUmVhZGFoZWFkOiAraW5mby5saXZlX2NodW5rX3JlYWRhaGVhZCxcbiAgICAgIGJlZ2luOiBvcHRpb25zLmJlZ2luIHx8IChmb3JtYXQuaXNMaXZlICYmIERhdGUubm93KCkpLFxuICAgICAgbGl2ZUJ1ZmZlcjogb3B0aW9ucy5saXZlQnVmZmVyLFxuICAgICAgLy8gTm93IHdlIGhhdmUgcGFzc2VkIG5vdCBvbmx5IGN1c3RvbSBcImRpc3BhdGNoZXJcIiB3aXRoIHVuZGljaSBQcm94eUFnZW50LCBidXQgYWxzbyBcImFnZW50XCIgZmllbGQgd2hpY2ggaXMgY29tcGF0aWJsZSBmb3Igbm9kZSBodHRwXG4gICAgICByZXF1ZXN0T3B0aW9uczogb3B0aW9ucy5yZXF1ZXN0T3B0aW9ucyxcbiAgICAgIHBhcnNlcjogZm9ybWF0LmlzRGFzaE1QRCA/IFwiZGFzaC1tcGRcIiA6IFwibTN1OFwiLFxuICAgICAgaWQ6IGZvcm1hdC5pdGFnLFxuICAgIH0pO1xuXG4gICAgcmVxLm9uKFwicHJvZ3Jlc3NcIiwgKHNlZ21lbnQsIHRvdGFsU2VnbWVudHMpID0+IHtcbiAgICAgIHN0cmVhbS5lbWl0KFwicHJvZ3Jlc3NcIiwgc2VnbWVudC5zaXplLCBzZWdtZW50Lm51bSwgdG90YWxTZWdtZW50cyk7XG4gICAgfSk7XG4gICAgcGlwZUFuZFNldEV2ZW50cyhyZXEsIHN0cmVhbSwgc2hvdWxkRW5kKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMucmVxdWVzdE9wdGlvbnMsIHtcbiAgICAgIG1heFJlY29ubmVjdHM6IDYsXG4gICAgICBtYXhSZXRyaWVzOiAzLFxuICAgICAgYmFja29mZjogeyBpbmM6IDUwMCwgbWF4OiAxMDAwMCB9LFxuICAgIH0pO1xuXG4gICAgbGV0IHNob3VsZEJlQ2h1bmtlZCA9IGRsQ2h1bmtTaXplICE9PSAwICYmICghZm9ybWF0Lmhhc0F1ZGlvIHx8ICFmb3JtYXQuaGFzVmlkZW8pO1xuXG4gICAgaWYgKHNob3VsZEJlQ2h1bmtlZCkge1xuICAgICAgbGV0IHN0YXJ0ID0gKG9wdGlvbnMucmFuZ2UgJiYgb3B0aW9ucy5yYW5nZS5zdGFydCkgfHwgMDtcbiAgICAgIGxldCBlbmQgPSBzdGFydCArIGRsQ2h1bmtTaXplO1xuICAgICAgY29uc3QgcmFuZ2VFbmQgPSBvcHRpb25zLnJhbmdlICYmIG9wdGlvbnMucmFuZ2UuZW5kO1xuXG4gICAgICBjb250ZW50TGVuZ3RoID0gb3B0aW9ucy5yYW5nZVxuICAgICAgICA/IChyYW5nZUVuZCA/IHJhbmdlRW5kICsgMSA6IHBhcnNlSW50KGZvcm1hdC5jb250ZW50TGVuZ3RoKSkgLSBzdGFydFxuICAgICAgICA6IHBhcnNlSW50KGZvcm1hdC5jb250ZW50TGVuZ3RoKTtcblxuICAgICAgY29uc3QgZ2V0TmV4dENodW5rID0gKCkgPT4ge1xuICAgICAgICBpZiAoc3RyZWFtLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBpZiAoIXJhbmdlRW5kICYmIGVuZCA+PSBjb250ZW50TGVuZ3RoKSBlbmQgPSAwO1xuICAgICAgICBpZiAocmFuZ2VFbmQgJiYgZW5kID4gcmFuZ2VFbmQpIGVuZCA9IHJhbmdlRW5kO1xuICAgICAgICBzaG91bGRFbmQgPSAhZW5kIHx8IGVuZCA9PT0gcmFuZ2VFbmQ7XG5cbiAgICAgICAgcmVxdWVzdE9wdGlvbnMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIHJlcXVlc3RPcHRpb25zLmhlYWRlcnMsIHtcbiAgICAgICAgICBSYW5nZTogYGJ5dGVzPSR7c3RhcnR9LSR7ZW5kIHx8IFwiXCJ9YCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcSA9IG1pbmlnZXQoZm9ybWF0LnVybCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgICByZXEub24oXCJkYXRhXCIsIG9uZGF0YSk7XG4gICAgICAgIHJlcS5vbihcImVuZFwiLCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHN0cmVhbS5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICBpZiAoZW5kICYmIGVuZCAhPT0gcmFuZ2VFbmQpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gZW5kICsgMTtcbiAgICAgICAgICAgIGVuZCArPSBkbENodW5rU2l6ZTtcbiAgICAgICAgICAgIGdldE5leHRDaHVuaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBpcGVBbmRTZXRFdmVudHMocmVxLCBzdHJlYW0sIHNob3VsZEVuZCk7XG4gICAgICB9O1xuICAgICAgZ2V0TmV4dENodW5rKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEF1ZGlvIG9ubHkgYW5kIHZpZGVvIG9ubHkgZm9ybWF0cyBkb24ndCBzdXBwb3J0IGJlZ2luXG4gICAgICBpZiAob3B0aW9ucy5iZWdpbikge1xuICAgICAgICBmb3JtYXQudXJsICs9IGAmYmVnaW49JHtwYXJzZVRpbWVzdGFtcChvcHRpb25zLmJlZ2luKX1gO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMucmFuZ2UgJiYgKG9wdGlvbnMucmFuZ2Uuc3RhcnQgfHwgb3B0aW9ucy5yYW5nZS5lbmQpKSB7XG4gICAgICAgIHJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0T3B0aW9ucy5oZWFkZXJzLCB7XG4gICAgICAgICAgUmFuZ2U6IGBieXRlcz0ke29wdGlvbnMucmFuZ2Uuc3RhcnQgfHwgXCIwXCJ9LSR7b3B0aW9ucy5yYW5nZS5lbmQgfHwgXCJcIn1gLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcSA9IG1pbmlnZXQoZm9ybWF0LnVybCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgICAgcmVxLm9uKFwicmVzcG9uc2VcIiwgcmVzID0+IHtcbiAgICAgICAgaWYgKHN0cmVhbS5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgY29udGVudExlbmd0aCA9IGNvbnRlbnRMZW5ndGggfHwgcGFyc2VJbnQocmVzLmhlYWRlcnNbXCJjb250ZW50LWxlbmd0aFwiXSk7XG4gICAgICB9KTtcbiAgICAgIHJlcS5vbihcImRhdGFcIiwgb25kYXRhKTtcbiAgICAgIHBpcGVBbmRTZXRFdmVudHMocmVxLCBzdHJlYW0sIHNob3VsZEVuZCk7XG4gICAgfVxuICB9XG5cbiAgc3RyZWFtLl9kZXN0cm95ID0gKCkgPT4ge1xuICAgIHN0cmVhbS5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIGlmIChyZXEpIHtcbiAgICAgIHJlcS5kZXN0cm95KCk7XG4gICAgICByZXEuZW5kKCk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBDYW4gYmUgdXNlZCB0byBkb3dubG9hZCB2aWRlbyBhZnRlciBpdHMgYGluZm9gIGlzIGdvdHRlbiB0aHJvdWdoXG4gKiBgeXRkbC5nZXRJbmZvKClgLiBJbiBjYXNlIHRoZSB1c2VyIG1pZ2h0IHdhbnQgdG8gbG9vayBhdCB0aGVcbiAqIGBpbmZvYCBvYmplY3QgYmVmb3JlIGRlY2lkaW5nIHRvIGRvd25sb2FkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvXG4gKiBAcGFyYW0geyFPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtSZWFkYWJsZVN0cmVhbX1cbiAqL1xueXRkbC5kb3dubG9hZEZyb21JbmZvID0gKGluZm8sIG9wdGlvbnMpID0+IHtcbiAgY29uc3Qgc3RyZWFtID0gY3JlYXRlU3RyZWFtKG9wdGlvbnMpO1xuICBpZiAoIWluZm8uZnVsbCkge1xuICAgIHRocm93IEVycm9yKFwiQ2Fubm90IHVzZSBgeXRkbC5kb3dubG9hZEZyb21JbmZvKClgIHdoZW4gY2FsbGVkIHdpdGggaW5mbyBmcm9tIGB5dGRsLmdldEJhc2ljSW5mbygpYFwiKTtcbiAgfVxuICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgIGRvd25sb2FkRnJvbUluZm9DYWxsYmFjayhzdHJlYW0sIGluZm8sIG9wdGlvbnMpO1xuICB9KTtcbiAgcmV0dXJuIHN0cmVhbTtcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/info-extras.js":
/*!************************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/info-extras.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/utils.js\");\nconst qs = __webpack_require__(/*! querystring */ \"querystring\");\nconst { parseTimestamp } = __webpack_require__(/*! m3u8stream */ \"(rsc)/./node_modules/m3u8stream/dist/index.js\");\n\nconst BASE_URL = \"https://www.youtube.com/watch?v=\";\nconst TITLE_TO_CATEGORY = {\n  song: { name: \"Music\", url: \"https://music.youtube.com/\" },\n};\n\nconst getText = obj => (obj ? (obj.runs ? obj.runs[0].text : obj.simpleText) : null);\n\n/**\n * Get video media.\n *\n * @param {Object} info\n * @returns {Object}\n */\nexports.getMedia = info => {\n  let media = {};\n  let results = [];\n  try {\n    results = info.response.contents.twoColumnWatchNextResults.results.results.contents;\n  } catch (err) {\n    // Do nothing\n  }\n\n  let result = results.find(v => v.videoSecondaryInfoRenderer);\n  if (!result) {\n    return {};\n  }\n\n  try {\n    let metadataRows = (result.metadataRowContainer || result.videoSecondaryInfoRenderer.metadataRowContainer)\n      .metadataRowContainerRenderer.rows;\n    for (let row of metadataRows) {\n      if (row.metadataRowRenderer) {\n        let title = getText(row.metadataRowRenderer.title).toLowerCase();\n        let contents = row.metadataRowRenderer.contents[0];\n        media[title] = getText(contents);\n        let runs = contents.runs;\n        if (runs && runs[0].navigationEndpoint) {\n          media[`${title}_url`] = new URL(\n            runs[0].navigationEndpoint.commandMetadata.webCommandMetadata.url,\n            BASE_URL,\n          ).toString();\n        }\n        if (title in TITLE_TO_CATEGORY) {\n          media.category = TITLE_TO_CATEGORY[title].name;\n          media.category_url = TITLE_TO_CATEGORY[title].url;\n        }\n      } else if (row.richMetadataRowRenderer) {\n        let contents = row.richMetadataRowRenderer.contents;\n        let boxArt = contents.filter(\n          meta => meta.richMetadataRenderer.style === \"RICH_METADATA_RENDERER_STYLE_BOX_ART\",\n        );\n        for (let { richMetadataRenderer } of boxArt) {\n          let meta = richMetadataRenderer;\n          media.year = getText(meta.subtitle);\n          let type = getText(meta.callToAction).split(\" \")[1];\n          media[type] = getText(meta.title);\n          media[`${type}_url`] = new URL(meta.endpoint.commandMetadata.webCommandMetadata.url, BASE_URL).toString();\n          media.thumbnails = meta.thumbnail.thumbnails;\n        }\n        let topic = contents.filter(meta => meta.richMetadataRenderer.style === \"RICH_METADATA_RENDERER_STYLE_TOPIC\");\n        for (let { richMetadataRenderer } of topic) {\n          let meta = richMetadataRenderer;\n          media.category = getText(meta.title);\n          media.category_url = new URL(meta.endpoint.commandMetadata.webCommandMetadata.url, BASE_URL).toString();\n        }\n      }\n    }\n  } catch (err) {\n    // Do nothing.\n  }\n\n  return media;\n};\n\nconst isVerified = badges => !!(badges && badges.find(b => b.metadataBadgeRenderer.tooltip === \"Verified\"));\n\n/**\n * Get video author.\n *\n * @param {Object} info\n * @returns {Object}\n */\nexports.getAuthor = info => {\n  let channelId,\n    thumbnails = [],\n    subscriberCount,\n    verified = false;\n  try {\n    let results = info.response.contents.twoColumnWatchNextResults.results.results.contents;\n    let v = results.find(\n      v2 =>\n        v2.videoSecondaryInfoRenderer &&\n        v2.videoSecondaryInfoRenderer.owner &&\n        v2.videoSecondaryInfoRenderer.owner.videoOwnerRenderer,\n    );\n    let videoOwnerRenderer = v.videoSecondaryInfoRenderer.owner.videoOwnerRenderer;\n    channelId = videoOwnerRenderer.navigationEndpoint.browseEndpoint.browseId;\n    thumbnails = videoOwnerRenderer.thumbnail.thumbnails.map(thumbnail => {\n      thumbnail.url = new URL(thumbnail.url, BASE_URL).toString();\n      return thumbnail;\n    });\n    subscriberCount = utils.parseAbbreviatedNumber(getText(videoOwnerRenderer.subscriberCountText));\n    verified = isVerified(videoOwnerRenderer.badges);\n  } catch (err) {\n    // Do nothing.\n  }\n  try {\n    let videoDetails = info.player_response.microformat && info.player_response.microformat.playerMicroformatRenderer;\n    let id = (videoDetails && videoDetails.channelId) || channelId || info.player_response.videoDetails.channelId;\n    let author = {\n      id: id,\n      name: videoDetails ? videoDetails.ownerChannelName : info.player_response.videoDetails.author,\n      user: videoDetails ? videoDetails.ownerProfileUrl.split(\"/\").slice(-1)[0] : null,\n      channel_url: `https://www.youtube.com/channel/${id}`,\n      external_channel_url: videoDetails ? `https://www.youtube.com/channel/${videoDetails.externalChannelId}` : \"\",\n      user_url: videoDetails ? new URL(videoDetails.ownerProfileUrl, BASE_URL).toString() : \"\",\n      thumbnails,\n      verified,\n      subscriber_count: subscriberCount,\n    };\n    if (thumbnails.length) {\n      utils.deprecate(author, \"avatar\", author.thumbnails[0].url, \"author.avatar\", \"author.thumbnails[0].url\");\n    }\n    return author;\n  } catch (err) {\n    return {};\n  }\n};\n\nconst parseRelatedVideo = (details, rvsParams) => {\n  if (!details) return;\n  try {\n    let viewCount = getText(details.viewCountText);\n    let shortViewCount = getText(details.shortViewCountText);\n    let rvsDetails = rvsParams.find(elem => elem.id === details.videoId);\n    if (!/^\\d/.test(shortViewCount)) {\n      shortViewCount = (rvsDetails && rvsDetails.short_view_count_text) || \"\";\n    }\n    viewCount = (/^\\d/.test(viewCount) ? viewCount : shortViewCount).split(\" \")[0];\n    let browseEndpoint = details.shortBylineText.runs[0].navigationEndpoint.browseEndpoint;\n    let channelId = browseEndpoint.browseId;\n    let name = getText(details.shortBylineText);\n    let user = (browseEndpoint.canonicalBaseUrl || \"\").split(\"/\").slice(-1)[0];\n    let video = {\n      id: details.videoId,\n      title: getText(details.title),\n      published: getText(details.publishedTimeText),\n      author: {\n        id: channelId,\n        name,\n        user,\n        channel_url: `https://www.youtube.com/channel/${channelId}`,\n        user_url: `https://www.youtube.com/user/${user}`,\n        thumbnails: details.channelThumbnail.thumbnails.map(thumbnail => {\n          thumbnail.url = new URL(thumbnail.url, BASE_URL).toString();\n          return thumbnail;\n        }),\n        verified: isVerified(details.ownerBadges),\n\n        [Symbol.toPrimitive]() {\n          console.warn(\n            `\\`relatedVideo.author\\` will be removed in a near future release, ` +\n              `use \\`relatedVideo.author.name\\` instead.`,\n          );\n          return video.author.name;\n        },\n      },\n      short_view_count_text: shortViewCount.split(\" \")[0],\n      view_count: viewCount.replace(/,/g, \"\"),\n      length_seconds: details.lengthText\n        ? Math.floor(parseTimestamp(getText(details.lengthText)) / 1000)\n        : rvsParams && `${rvsParams.length_seconds}`,\n      thumbnails: details.thumbnail.thumbnails,\n      richThumbnails: details.richThumbnail\n        ? details.richThumbnail.movingThumbnailRenderer.movingThumbnailDetails.thumbnails\n        : [],\n      isLive: !!(details.badges && details.badges.find(b => b.metadataBadgeRenderer.label === \"LIVE NOW\")),\n    };\n\n    utils.deprecate(\n      video,\n      \"author_thumbnail\",\n      video.author.thumbnails[0].url,\n      \"relatedVideo.author_thumbnail\",\n      \"relatedVideo.author.thumbnails[0].url\",\n    );\n    utils.deprecate(video, \"ucid\", video.author.id, \"relatedVideo.ucid\", \"relatedVideo.author.id\");\n    utils.deprecate(\n      video,\n      \"video_thumbnail\",\n      video.thumbnails[0].url,\n      \"relatedVideo.video_thumbnail\",\n      \"relatedVideo.thumbnails[0].url\",\n    );\n    return video;\n  } catch (err) {\n    // Skip.\n  }\n};\n\n/**\n * Get related videos.\n *\n * @param {Object} info\n * @returns {Array.<Object>}\n */\nexports.getRelatedVideos = info => {\n  let rvsParams = [],\n    secondaryResults = [];\n  try {\n    rvsParams = info.response.webWatchNextResponseExtensionData.relatedVideoArgs.split(\",\").map(e => qs.parse(e));\n  } catch (err) {\n    // Do nothing.\n  }\n  try {\n    secondaryResults = info.response.contents.twoColumnWatchNextResults.secondaryResults.secondaryResults.results;\n  } catch (err) {\n    return [];\n  }\n  let videos = [];\n  for (let result of secondaryResults || []) {\n    let details = result.compactVideoRenderer;\n    if (details) {\n      let video = parseRelatedVideo(details, rvsParams);\n      if (video) videos.push(video);\n    } else {\n      let autoplay = result.compactAutoplayRenderer || result.itemSectionRenderer;\n      if (!autoplay || !Array.isArray(autoplay.contents)) continue;\n      for (let content of autoplay.contents) {\n        let video = parseRelatedVideo(content.compactVideoRenderer, rvsParams);\n        if (video) videos.push(video);\n      }\n    }\n  }\n  return videos;\n};\n\n/**\n * Get like count.\n *\n * @param {Object} info\n * @returns {number}\n */\nexports.getLikes = info => {\n  try {\n    let contents = info.response.contents.twoColumnWatchNextResults.results.results.contents;\n    let video = contents.find(r => r.videoPrimaryInfoRenderer);\n    let buttons = video.videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons;\n    let accessibilityText = buttons.find(b => b.segmentedLikeDislikeButtonViewModel).segmentedLikeDislikeButtonViewModel\n      .likeButtonViewModel.likeButtonViewModel.toggleButtonViewModel.toggleButtonViewModel.defaultButtonViewModel\n      .buttonViewModel.accessibilityText;\n    return parseInt(accessibilityText.match(/[\\d,.]+/)[0].replace(/\\D+/g, \"\"));\n  } catch (err) {\n    return null;\n  }\n};\n\n/**\n * Cleans up a few fields on `videoDetails`.\n *\n * @param {Object} videoDetails\n * @param {Object} info\n * @returns {Object}\n */\nexports.cleanVideoDetails = (videoDetails, info) => {\n  videoDetails.thumbnails = videoDetails.thumbnail.thumbnails;\n  delete videoDetails.thumbnail;\n  utils.deprecate(\n    videoDetails,\n    \"thumbnail\",\n    { thumbnails: videoDetails.thumbnails },\n    \"videoDetails.thumbnail.thumbnails\",\n    \"videoDetails.thumbnails\",\n  );\n  videoDetails.description = videoDetails.shortDescription || getText(videoDetails.description);\n  delete videoDetails.shortDescription;\n  utils.deprecate(\n    videoDetails,\n    \"shortDescription\",\n    videoDetails.description,\n    \"videoDetails.shortDescription\",\n    \"videoDetails.description\",\n  );\n\n  // Use more reliable `lengthSeconds` from `playerMicroformatRenderer`.\n  videoDetails.lengthSeconds =\n    (info.player_response.microformat && info.player_response.microformat.playerMicroformatRenderer.lengthSeconds) ||\n    info.player_response.videoDetails.lengthSeconds;\n  return videoDetails;\n};\n\n/**\n * Get storyboards info.\n *\n * @param {Object} info\n * @returns {Array.<Object>}\n */\nexports.getStoryboards = info => {\n  const parts =\n    info.player_response.storyboards &&\n    info.player_response.storyboards.playerStoryboardSpecRenderer &&\n    info.player_response.storyboards.playerStoryboardSpecRenderer.spec &&\n    info.player_response.storyboards.playerStoryboardSpecRenderer.spec.split(\"|\");\n\n  if (!parts) return [];\n\n  const url = new URL(parts.shift());\n\n  return parts.map((part, i) => {\n    let [thumbnailWidth, thumbnailHeight, thumbnailCount, columns, rows, interval, nameReplacement, sigh] =\n      part.split(\"#\");\n\n    url.searchParams.set(\"sigh\", sigh);\n\n    thumbnailCount = parseInt(thumbnailCount, 10);\n    columns = parseInt(columns, 10);\n    rows = parseInt(rows, 10);\n\n    const storyboardCount = Math.ceil(thumbnailCount / (columns * rows));\n\n    return {\n      templateUrl: url.toString().replace(\"$L\", i).replace(\"$N\", nameReplacement),\n      thumbnailWidth: parseInt(thumbnailWidth, 10),\n      thumbnailHeight: parseInt(thumbnailHeight, 10),\n      thumbnailCount,\n      interval: parseInt(interval, 10),\n      columns,\n      rows,\n      storyboardCount,\n    };\n  });\n};\n\n/**\n * Get chapters info.\n *\n * @param {Object} info\n * @returns {Array.<Object>}\n */\nexports.getChapters = info => {\n  const playerOverlayRenderer =\n    info.response && info.response.playerOverlays && info.response.playerOverlays.playerOverlayRenderer;\n  const playerBar =\n    playerOverlayRenderer &&\n    playerOverlayRenderer.decoratedPlayerBarRenderer &&\n    playerOverlayRenderer.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer &&\n    playerOverlayRenderer.decoratedPlayerBarRenderer.decoratedPlayerBarRenderer.playerBar;\n  const markersMap =\n    playerBar && playerBar.multiMarkersPlayerBarRenderer && playerBar.multiMarkersPlayerBarRenderer.markersMap;\n  const marker = Array.isArray(markersMap) && markersMap.find(m => m.value && Array.isArray(m.value.chapters));\n  if (!marker) return [];\n  const chapters = marker.value.chapters;\n\n  return chapters.map(chapter => ({\n    title: getText(chapter.chapterRenderer.title),\n    start_time: chapter.chapterRenderer.timeRangeStartMillis / 1000,\n  }));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi9pbmZvLWV4dHJhcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxjQUFjLG1CQUFPLENBQUMscUVBQVM7QUFDL0IsV0FBVyxtQkFBTyxDQUFDLGdDQUFhO0FBQ2hDLFFBQVEsaUJBQWlCLEVBQUUsbUJBQU8sQ0FBQyxpRUFBWTs7QUFFL0M7QUFDQTtBQUNBLFVBQVUsa0RBQWtEO0FBQzVEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixNQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLEtBQUs7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxHQUFHO0FBQ3pELDhFQUE4RSwrQkFBK0I7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxVQUFVO0FBQ2xFLGtEQUFrRCxLQUFLO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlCQUF5QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFDQUFxQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCdXJha1xcRG9jdW1lbnRzXFxHaXRIdWJcXHlvdXR1YmUtZG93bmxvYWRlclxcbm9kZV9tb2R1bGVzXFxAZGlzdHViZVxceXRkbC1jb3JlXFxsaWJcXGluZm8tZXh0cmFzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCBxcyA9IHJlcXVpcmUoXCJxdWVyeXN0cmluZ1wiKTtcbmNvbnN0IHsgcGFyc2VUaW1lc3RhbXAgfSA9IHJlcXVpcmUoXCJtM3U4c3RyZWFtXCIpO1xuXG5jb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1cIjtcbmNvbnN0IFRJVExFX1RPX0NBVEVHT1JZID0ge1xuICBzb25nOiB7IG5hbWU6IFwiTXVzaWNcIiwgdXJsOiBcImh0dHBzOi8vbXVzaWMueW91dHViZS5jb20vXCIgfSxcbn07XG5cbmNvbnN0IGdldFRleHQgPSBvYmogPT4gKG9iaiA/IChvYmoucnVucyA/IG9iai5ydW5zWzBdLnRleHQgOiBvYmouc2ltcGxlVGV4dCkgOiBudWxsKTtcblxuLyoqXG4gKiBHZXQgdmlkZW8gbWVkaWEuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluZm9cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuZ2V0TWVkaWEgPSBpbmZvID0+IHtcbiAgbGV0IG1lZGlhID0ge307XG4gIGxldCByZXN1bHRzID0gW107XG4gIHRyeSB7XG4gICAgcmVzdWx0cyA9IGluZm8ucmVzcG9uc2UuY29udGVudHMudHdvQ29sdW1uV2F0Y2hOZXh0UmVzdWx0cy5yZXN1bHRzLnJlc3VsdHMuY29udGVudHM7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIERvIG5vdGhpbmdcbiAgfVxuXG4gIGxldCByZXN1bHQgPSByZXN1bHRzLmZpbmQodiA9PiB2LnZpZGVvU2Vjb25kYXJ5SW5mb1JlbmRlcmVyKTtcbiAgaWYgKCFyZXN1bHQpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICB0cnkge1xuICAgIGxldCBtZXRhZGF0YVJvd3MgPSAocmVzdWx0Lm1ldGFkYXRhUm93Q29udGFpbmVyIHx8IHJlc3VsdC52aWRlb1NlY29uZGFyeUluZm9SZW5kZXJlci5tZXRhZGF0YVJvd0NvbnRhaW5lcilcbiAgICAgIC5tZXRhZGF0YVJvd0NvbnRhaW5lclJlbmRlcmVyLnJvd3M7XG4gICAgZm9yIChsZXQgcm93IG9mIG1ldGFkYXRhUm93cykge1xuICAgICAgaWYgKHJvdy5tZXRhZGF0YVJvd1JlbmRlcmVyKSB7XG4gICAgICAgIGxldCB0aXRsZSA9IGdldFRleHQocm93Lm1ldGFkYXRhUm93UmVuZGVyZXIudGl0bGUpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGxldCBjb250ZW50cyA9IHJvdy5tZXRhZGF0YVJvd1JlbmRlcmVyLmNvbnRlbnRzWzBdO1xuICAgICAgICBtZWRpYVt0aXRsZV0gPSBnZXRUZXh0KGNvbnRlbnRzKTtcbiAgICAgICAgbGV0IHJ1bnMgPSBjb250ZW50cy5ydW5zO1xuICAgICAgICBpZiAocnVucyAmJiBydW5zWzBdLm5hdmlnYXRpb25FbmRwb2ludCkge1xuICAgICAgICAgIG1lZGlhW2Ake3RpdGxlfV91cmxgXSA9IG5ldyBVUkwoXG4gICAgICAgICAgICBydW5zWzBdLm5hdmlnYXRpb25FbmRwb2ludC5jb21tYW5kTWV0YWRhdGEud2ViQ29tbWFuZE1ldGFkYXRhLnVybCxcbiAgICAgICAgICAgIEJBU0VfVVJMLFxuICAgICAgICAgICkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGl0bGUgaW4gVElUTEVfVE9fQ0FURUdPUlkpIHtcbiAgICAgICAgICBtZWRpYS5jYXRlZ29yeSA9IFRJVExFX1RPX0NBVEVHT1JZW3RpdGxlXS5uYW1lO1xuICAgICAgICAgIG1lZGlhLmNhdGVnb3J5X3VybCA9IFRJVExFX1RPX0NBVEVHT1JZW3RpdGxlXS51cmw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocm93LnJpY2hNZXRhZGF0YVJvd1JlbmRlcmVyKSB7XG4gICAgICAgIGxldCBjb250ZW50cyA9IHJvdy5yaWNoTWV0YWRhdGFSb3dSZW5kZXJlci5jb250ZW50cztcbiAgICAgICAgbGV0IGJveEFydCA9IGNvbnRlbnRzLmZpbHRlcihcbiAgICAgICAgICBtZXRhID0+IG1ldGEucmljaE1ldGFkYXRhUmVuZGVyZXIuc3R5bGUgPT09IFwiUklDSF9NRVRBREFUQV9SRU5ERVJFUl9TVFlMRV9CT1hfQVJUXCIsXG4gICAgICAgICk7XG4gICAgICAgIGZvciAobGV0IHsgcmljaE1ldGFkYXRhUmVuZGVyZXIgfSBvZiBib3hBcnQpIHtcbiAgICAgICAgICBsZXQgbWV0YSA9IHJpY2hNZXRhZGF0YVJlbmRlcmVyO1xuICAgICAgICAgIG1lZGlhLnllYXIgPSBnZXRUZXh0KG1ldGEuc3VidGl0bGUpO1xuICAgICAgICAgIGxldCB0eXBlID0gZ2V0VGV4dChtZXRhLmNhbGxUb0FjdGlvbikuc3BsaXQoXCIgXCIpWzFdO1xuICAgICAgICAgIG1lZGlhW3R5cGVdID0gZ2V0VGV4dChtZXRhLnRpdGxlKTtcbiAgICAgICAgICBtZWRpYVtgJHt0eXBlfV91cmxgXSA9IG5ldyBVUkwobWV0YS5lbmRwb2ludC5jb21tYW5kTWV0YWRhdGEud2ViQ29tbWFuZE1ldGFkYXRhLnVybCwgQkFTRV9VUkwpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgbWVkaWEudGh1bWJuYWlscyA9IG1ldGEudGh1bWJuYWlsLnRodW1ibmFpbHM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRvcGljID0gY29udGVudHMuZmlsdGVyKG1ldGEgPT4gbWV0YS5yaWNoTWV0YWRhdGFSZW5kZXJlci5zdHlsZSA9PT0gXCJSSUNIX01FVEFEQVRBX1JFTkRFUkVSX1NUWUxFX1RPUElDXCIpO1xuICAgICAgICBmb3IgKGxldCB7IHJpY2hNZXRhZGF0YVJlbmRlcmVyIH0gb2YgdG9waWMpIHtcbiAgICAgICAgICBsZXQgbWV0YSA9IHJpY2hNZXRhZGF0YVJlbmRlcmVyO1xuICAgICAgICAgIG1lZGlhLmNhdGVnb3J5ID0gZ2V0VGV4dChtZXRhLnRpdGxlKTtcbiAgICAgICAgICBtZWRpYS5jYXRlZ29yeV91cmwgPSBuZXcgVVJMKG1ldGEuZW5kcG9pbnQuY29tbWFuZE1ldGFkYXRhLndlYkNvbW1hbmRNZXRhZGF0YS51cmwsIEJBU0VfVVJMKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEbyBub3RoaW5nLlxuICB9XG5cbiAgcmV0dXJuIG1lZGlhO1xufTtcblxuY29uc3QgaXNWZXJpZmllZCA9IGJhZGdlcyA9PiAhIShiYWRnZXMgJiYgYmFkZ2VzLmZpbmQoYiA9PiBiLm1ldGFkYXRhQmFkZ2VSZW5kZXJlci50b29sdGlwID09PSBcIlZlcmlmaWVkXCIpKTtcblxuLyoqXG4gKiBHZXQgdmlkZW8gYXV0aG9yLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5leHBvcnRzLmdldEF1dGhvciA9IGluZm8gPT4ge1xuICBsZXQgY2hhbm5lbElkLFxuICAgIHRodW1ibmFpbHMgPSBbXSxcbiAgICBzdWJzY3JpYmVyQ291bnQsXG4gICAgdmVyaWZpZWQgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzdWx0cyA9IGluZm8ucmVzcG9uc2UuY29udGVudHMudHdvQ29sdW1uV2F0Y2hOZXh0UmVzdWx0cy5yZXN1bHRzLnJlc3VsdHMuY29udGVudHM7XG4gICAgbGV0IHYgPSByZXN1bHRzLmZpbmQoXG4gICAgICB2MiA9PlxuICAgICAgICB2Mi52aWRlb1NlY29uZGFyeUluZm9SZW5kZXJlciAmJlxuICAgICAgICB2Mi52aWRlb1NlY29uZGFyeUluZm9SZW5kZXJlci5vd25lciAmJlxuICAgICAgICB2Mi52aWRlb1NlY29uZGFyeUluZm9SZW5kZXJlci5vd25lci52aWRlb093bmVyUmVuZGVyZXIsXG4gICAgKTtcbiAgICBsZXQgdmlkZW9Pd25lclJlbmRlcmVyID0gdi52aWRlb1NlY29uZGFyeUluZm9SZW5kZXJlci5vd25lci52aWRlb093bmVyUmVuZGVyZXI7XG4gICAgY2hhbm5lbElkID0gdmlkZW9Pd25lclJlbmRlcmVyLm5hdmlnYXRpb25FbmRwb2ludC5icm93c2VFbmRwb2ludC5icm93c2VJZDtcbiAgICB0aHVtYm5haWxzID0gdmlkZW9Pd25lclJlbmRlcmVyLnRodW1ibmFpbC50aHVtYm5haWxzLm1hcCh0aHVtYm5haWwgPT4ge1xuICAgICAgdGh1bWJuYWlsLnVybCA9IG5ldyBVUkwodGh1bWJuYWlsLnVybCwgQkFTRV9VUkwpLnRvU3RyaW5nKCk7XG4gICAgICByZXR1cm4gdGh1bWJuYWlsO1xuICAgIH0pO1xuICAgIHN1YnNjcmliZXJDb3VudCA9IHV0aWxzLnBhcnNlQWJicmV2aWF0ZWROdW1iZXIoZ2V0VGV4dCh2aWRlb093bmVyUmVuZGVyZXIuc3Vic2NyaWJlckNvdW50VGV4dCkpO1xuICAgIHZlcmlmaWVkID0gaXNWZXJpZmllZCh2aWRlb093bmVyUmVuZGVyZXIuYmFkZ2VzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gRG8gbm90aGluZy5cbiAgfVxuICB0cnkge1xuICAgIGxldCB2aWRlb0RldGFpbHMgPSBpbmZvLnBsYXllcl9yZXNwb25zZS5taWNyb2Zvcm1hdCAmJiBpbmZvLnBsYXllcl9yZXNwb25zZS5taWNyb2Zvcm1hdC5wbGF5ZXJNaWNyb2Zvcm1hdFJlbmRlcmVyO1xuICAgIGxldCBpZCA9ICh2aWRlb0RldGFpbHMgJiYgdmlkZW9EZXRhaWxzLmNoYW5uZWxJZCkgfHwgY2hhbm5lbElkIHx8IGluZm8ucGxheWVyX3Jlc3BvbnNlLnZpZGVvRGV0YWlscy5jaGFubmVsSWQ7XG4gICAgbGV0IGF1dGhvciA9IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIG5hbWU6IHZpZGVvRGV0YWlscyA/IHZpZGVvRGV0YWlscy5vd25lckNoYW5uZWxOYW1lIDogaW5mby5wbGF5ZXJfcmVzcG9uc2UudmlkZW9EZXRhaWxzLmF1dGhvcixcbiAgICAgIHVzZXI6IHZpZGVvRGV0YWlscyA/IHZpZGVvRGV0YWlscy5vd25lclByb2ZpbGVVcmwuc3BsaXQoXCIvXCIpLnNsaWNlKC0xKVswXSA6IG51bGwsXG4gICAgICBjaGFubmVsX3VybDogYGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2NoYW5uZWwvJHtpZH1gLFxuICAgICAgZXh0ZXJuYWxfY2hhbm5lbF91cmw6IHZpZGVvRGV0YWlscyA/IGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9jaGFubmVsLyR7dmlkZW9EZXRhaWxzLmV4dGVybmFsQ2hhbm5lbElkfWAgOiBcIlwiLFxuICAgICAgdXNlcl91cmw6IHZpZGVvRGV0YWlscyA/IG5ldyBVUkwodmlkZW9EZXRhaWxzLm93bmVyUHJvZmlsZVVybCwgQkFTRV9VUkwpLnRvU3RyaW5nKCkgOiBcIlwiLFxuICAgICAgdGh1bWJuYWlscyxcbiAgICAgIHZlcmlmaWVkLFxuICAgICAgc3Vic2NyaWJlcl9jb3VudDogc3Vic2NyaWJlckNvdW50LFxuICAgIH07XG4gICAgaWYgKHRodW1ibmFpbHMubGVuZ3RoKSB7XG4gICAgICB1dGlscy5kZXByZWNhdGUoYXV0aG9yLCBcImF2YXRhclwiLCBhdXRob3IudGh1bWJuYWlsc1swXS51cmwsIFwiYXV0aG9yLmF2YXRhclwiLCBcImF1dGhvci50aHVtYm5haWxzWzBdLnVybFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGF1dGhvcjtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59O1xuXG5jb25zdCBwYXJzZVJlbGF0ZWRWaWRlbyA9IChkZXRhaWxzLCBydnNQYXJhbXMpID0+IHtcbiAgaWYgKCFkZXRhaWxzKSByZXR1cm47XG4gIHRyeSB7XG4gICAgbGV0IHZpZXdDb3VudCA9IGdldFRleHQoZGV0YWlscy52aWV3Q291bnRUZXh0KTtcbiAgICBsZXQgc2hvcnRWaWV3Q291bnQgPSBnZXRUZXh0KGRldGFpbHMuc2hvcnRWaWV3Q291bnRUZXh0KTtcbiAgICBsZXQgcnZzRGV0YWlscyA9IHJ2c1BhcmFtcy5maW5kKGVsZW0gPT4gZWxlbS5pZCA9PT0gZGV0YWlscy52aWRlb0lkKTtcbiAgICBpZiAoIS9eXFxkLy50ZXN0KHNob3J0Vmlld0NvdW50KSkge1xuICAgICAgc2hvcnRWaWV3Q291bnQgPSAocnZzRGV0YWlscyAmJiBydnNEZXRhaWxzLnNob3J0X3ZpZXdfY291bnRfdGV4dCkgfHwgXCJcIjtcbiAgICB9XG4gICAgdmlld0NvdW50ID0gKC9eXFxkLy50ZXN0KHZpZXdDb3VudCkgPyB2aWV3Q291bnQgOiBzaG9ydFZpZXdDb3VudCkuc3BsaXQoXCIgXCIpWzBdO1xuICAgIGxldCBicm93c2VFbmRwb2ludCA9IGRldGFpbHMuc2hvcnRCeWxpbmVUZXh0LnJ1bnNbMF0ubmF2aWdhdGlvbkVuZHBvaW50LmJyb3dzZUVuZHBvaW50O1xuICAgIGxldCBjaGFubmVsSWQgPSBicm93c2VFbmRwb2ludC5icm93c2VJZDtcbiAgICBsZXQgbmFtZSA9IGdldFRleHQoZGV0YWlscy5zaG9ydEJ5bGluZVRleHQpO1xuICAgIGxldCB1c2VyID0gKGJyb3dzZUVuZHBvaW50LmNhbm9uaWNhbEJhc2VVcmwgfHwgXCJcIikuc3BsaXQoXCIvXCIpLnNsaWNlKC0xKVswXTtcbiAgICBsZXQgdmlkZW8gPSB7XG4gICAgICBpZDogZGV0YWlscy52aWRlb0lkLFxuICAgICAgdGl0bGU6IGdldFRleHQoZGV0YWlscy50aXRsZSksXG4gICAgICBwdWJsaXNoZWQ6IGdldFRleHQoZGV0YWlscy5wdWJsaXNoZWRUaW1lVGV4dCksXG4gICAgICBhdXRob3I6IHtcbiAgICAgICAgaWQ6IGNoYW5uZWxJZCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdXNlcixcbiAgICAgICAgY2hhbm5lbF91cmw6IGBodHRwczovL3d3dy55b3V0dWJlLmNvbS9jaGFubmVsLyR7Y2hhbm5lbElkfWAsXG4gICAgICAgIHVzZXJfdXJsOiBgaHR0cHM6Ly93d3cueW91dHViZS5jb20vdXNlci8ke3VzZXJ9YCxcbiAgICAgICAgdGh1bWJuYWlsczogZGV0YWlscy5jaGFubmVsVGh1bWJuYWlsLnRodW1ibmFpbHMubWFwKHRodW1ibmFpbCA9PiB7XG4gICAgICAgICAgdGh1bWJuYWlsLnVybCA9IG5ldyBVUkwodGh1bWJuYWlsLnVybCwgQkFTRV9VUkwpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgcmV0dXJuIHRodW1ibmFpbDtcbiAgICAgICAgfSksXG4gICAgICAgIHZlcmlmaWVkOiBpc1ZlcmlmaWVkKGRldGFpbHMub3duZXJCYWRnZXMpLFxuXG4gICAgICAgIFtTeW1ib2wudG9QcmltaXRpdmVdKCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIGBcXGByZWxhdGVkVmlkZW8uYXV0aG9yXFxgIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIG5lYXIgZnV0dXJlIHJlbGVhc2UsIGAgK1xuICAgICAgICAgICAgICBgdXNlIFxcYHJlbGF0ZWRWaWRlby5hdXRob3IubmFtZVxcYCBpbnN0ZWFkLmAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdmlkZW8uYXV0aG9yLm5hbWU7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgc2hvcnRfdmlld19jb3VudF90ZXh0OiBzaG9ydFZpZXdDb3VudC5zcGxpdChcIiBcIilbMF0sXG4gICAgICB2aWV3X2NvdW50OiB2aWV3Q291bnQucmVwbGFjZSgvLC9nLCBcIlwiKSxcbiAgICAgIGxlbmd0aF9zZWNvbmRzOiBkZXRhaWxzLmxlbmd0aFRleHRcbiAgICAgICAgPyBNYXRoLmZsb29yKHBhcnNlVGltZXN0YW1wKGdldFRleHQoZGV0YWlscy5sZW5ndGhUZXh0KSkgLyAxMDAwKVxuICAgICAgICA6IHJ2c1BhcmFtcyAmJiBgJHtydnNQYXJhbXMubGVuZ3RoX3NlY29uZHN9YCxcbiAgICAgIHRodW1ibmFpbHM6IGRldGFpbHMudGh1bWJuYWlsLnRodW1ibmFpbHMsXG4gICAgICByaWNoVGh1bWJuYWlsczogZGV0YWlscy5yaWNoVGh1bWJuYWlsXG4gICAgICAgID8gZGV0YWlscy5yaWNoVGh1bWJuYWlsLm1vdmluZ1RodW1ibmFpbFJlbmRlcmVyLm1vdmluZ1RodW1ibmFpbERldGFpbHMudGh1bWJuYWlsc1xuICAgICAgICA6IFtdLFxuICAgICAgaXNMaXZlOiAhIShkZXRhaWxzLmJhZGdlcyAmJiBkZXRhaWxzLmJhZGdlcy5maW5kKGIgPT4gYi5tZXRhZGF0YUJhZGdlUmVuZGVyZXIubGFiZWwgPT09IFwiTElWRSBOT1dcIikpLFxuICAgIH07XG5cbiAgICB1dGlscy5kZXByZWNhdGUoXG4gICAgICB2aWRlbyxcbiAgICAgIFwiYXV0aG9yX3RodW1ibmFpbFwiLFxuICAgICAgdmlkZW8uYXV0aG9yLnRodW1ibmFpbHNbMF0udXJsLFxuICAgICAgXCJyZWxhdGVkVmlkZW8uYXV0aG9yX3RodW1ibmFpbFwiLFxuICAgICAgXCJyZWxhdGVkVmlkZW8uYXV0aG9yLnRodW1ibmFpbHNbMF0udXJsXCIsXG4gICAgKTtcbiAgICB1dGlscy5kZXByZWNhdGUodmlkZW8sIFwidWNpZFwiLCB2aWRlby5hdXRob3IuaWQsIFwicmVsYXRlZFZpZGVvLnVjaWRcIiwgXCJyZWxhdGVkVmlkZW8uYXV0aG9yLmlkXCIpO1xuICAgIHV0aWxzLmRlcHJlY2F0ZShcbiAgICAgIHZpZGVvLFxuICAgICAgXCJ2aWRlb190aHVtYm5haWxcIixcbiAgICAgIHZpZGVvLnRodW1ibmFpbHNbMF0udXJsLFxuICAgICAgXCJyZWxhdGVkVmlkZW8udmlkZW9fdGh1bWJuYWlsXCIsXG4gICAgICBcInJlbGF0ZWRWaWRlby50aHVtYm5haWxzWzBdLnVybFwiLFxuICAgICk7XG4gICAgcmV0dXJuIHZpZGVvO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBTa2lwLlxuICB9XG59O1xuXG4vKipcbiAqIEdldCByZWxhdGVkIHZpZGVvcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5mb1xuICogQHJldHVybnMge0FycmF5LjxPYmplY3Q+fVxuICovXG5leHBvcnRzLmdldFJlbGF0ZWRWaWRlb3MgPSBpbmZvID0+IHtcbiAgbGV0IHJ2c1BhcmFtcyA9IFtdLFxuICAgIHNlY29uZGFyeVJlc3VsdHMgPSBbXTtcbiAgdHJ5IHtcbiAgICBydnNQYXJhbXMgPSBpbmZvLnJlc3BvbnNlLndlYldhdGNoTmV4dFJlc3BvbnNlRXh0ZW5zaW9uRGF0YS5yZWxhdGVkVmlkZW9BcmdzLnNwbGl0KFwiLFwiKS5tYXAoZSA9PiBxcy5wYXJzZShlKSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIERvIG5vdGhpbmcuXG4gIH1cbiAgdHJ5IHtcbiAgICBzZWNvbmRhcnlSZXN1bHRzID0gaW5mby5yZXNwb25zZS5jb250ZW50cy50d29Db2x1bW5XYXRjaE5leHRSZXN1bHRzLnNlY29uZGFyeVJlc3VsdHMuc2Vjb25kYXJ5UmVzdWx0cy5yZXN1bHRzO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgbGV0IHZpZGVvcyA9IFtdO1xuICBmb3IgKGxldCByZXN1bHQgb2Ygc2Vjb25kYXJ5UmVzdWx0cyB8fCBbXSkge1xuICAgIGxldCBkZXRhaWxzID0gcmVzdWx0LmNvbXBhY3RWaWRlb1JlbmRlcmVyO1xuICAgIGlmIChkZXRhaWxzKSB7XG4gICAgICBsZXQgdmlkZW8gPSBwYXJzZVJlbGF0ZWRWaWRlbyhkZXRhaWxzLCBydnNQYXJhbXMpO1xuICAgICAgaWYgKHZpZGVvKSB2aWRlb3MucHVzaCh2aWRlbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBhdXRvcGxheSA9IHJlc3VsdC5jb21wYWN0QXV0b3BsYXlSZW5kZXJlciB8fCByZXN1bHQuaXRlbVNlY3Rpb25SZW5kZXJlcjtcbiAgICAgIGlmICghYXV0b3BsYXkgfHwgIUFycmF5LmlzQXJyYXkoYXV0b3BsYXkuY29udGVudHMpKSBjb250aW51ZTtcbiAgICAgIGZvciAobGV0IGNvbnRlbnQgb2YgYXV0b3BsYXkuY29udGVudHMpIHtcbiAgICAgICAgbGV0IHZpZGVvID0gcGFyc2VSZWxhdGVkVmlkZW8oY29udGVudC5jb21wYWN0VmlkZW9SZW5kZXJlciwgcnZzUGFyYW1zKTtcbiAgICAgICAgaWYgKHZpZGVvKSB2aWRlb3MucHVzaCh2aWRlbyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2aWRlb3M7XG59O1xuXG4vKipcbiAqIEdldCBsaWtlIGNvdW50LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5leHBvcnRzLmdldExpa2VzID0gaW5mbyA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IGNvbnRlbnRzID0gaW5mby5yZXNwb25zZS5jb250ZW50cy50d29Db2x1bW5XYXRjaE5leHRSZXN1bHRzLnJlc3VsdHMucmVzdWx0cy5jb250ZW50cztcbiAgICBsZXQgdmlkZW8gPSBjb250ZW50cy5maW5kKHIgPT4gci52aWRlb1ByaW1hcnlJbmZvUmVuZGVyZXIpO1xuICAgIGxldCBidXR0b25zID0gdmlkZW8udmlkZW9QcmltYXJ5SW5mb1JlbmRlcmVyLnZpZGVvQWN0aW9ucy5tZW51UmVuZGVyZXIudG9wTGV2ZWxCdXR0b25zO1xuICAgIGxldCBhY2Nlc3NpYmlsaXR5VGV4dCA9IGJ1dHRvbnMuZmluZChiID0+IGIuc2VnbWVudGVkTGlrZURpc2xpa2VCdXR0b25WaWV3TW9kZWwpLnNlZ21lbnRlZExpa2VEaXNsaWtlQnV0dG9uVmlld01vZGVsXG4gICAgICAubGlrZUJ1dHRvblZpZXdNb2RlbC5saWtlQnV0dG9uVmlld01vZGVsLnRvZ2dsZUJ1dHRvblZpZXdNb2RlbC50b2dnbGVCdXR0b25WaWV3TW9kZWwuZGVmYXVsdEJ1dHRvblZpZXdNb2RlbFxuICAgICAgLmJ1dHRvblZpZXdNb2RlbC5hY2Nlc3NpYmlsaXR5VGV4dDtcbiAgICByZXR1cm4gcGFyc2VJbnQoYWNjZXNzaWJpbGl0eVRleHQubWF0Y2goL1tcXGQsLl0rLylbMF0ucmVwbGFjZSgvXFxEKy9nLCBcIlwiKSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIENsZWFucyB1cCBhIGZldyBmaWVsZHMgb24gYHZpZGVvRGV0YWlsc2AuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZpZGVvRGV0YWlsc1xuICogQHBhcmFtIHtPYmplY3R9IGluZm9cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmV4cG9ydHMuY2xlYW5WaWRlb0RldGFpbHMgPSAodmlkZW9EZXRhaWxzLCBpbmZvKSA9PiB7XG4gIHZpZGVvRGV0YWlscy50aHVtYm5haWxzID0gdmlkZW9EZXRhaWxzLnRodW1ibmFpbC50aHVtYm5haWxzO1xuICBkZWxldGUgdmlkZW9EZXRhaWxzLnRodW1ibmFpbDtcbiAgdXRpbHMuZGVwcmVjYXRlKFxuICAgIHZpZGVvRGV0YWlscyxcbiAgICBcInRodW1ibmFpbFwiLFxuICAgIHsgdGh1bWJuYWlsczogdmlkZW9EZXRhaWxzLnRodW1ibmFpbHMgfSxcbiAgICBcInZpZGVvRGV0YWlscy50aHVtYm5haWwudGh1bWJuYWlsc1wiLFxuICAgIFwidmlkZW9EZXRhaWxzLnRodW1ibmFpbHNcIixcbiAgKTtcbiAgdmlkZW9EZXRhaWxzLmRlc2NyaXB0aW9uID0gdmlkZW9EZXRhaWxzLnNob3J0RGVzY3JpcHRpb24gfHwgZ2V0VGV4dCh2aWRlb0RldGFpbHMuZGVzY3JpcHRpb24pO1xuICBkZWxldGUgdmlkZW9EZXRhaWxzLnNob3J0RGVzY3JpcHRpb247XG4gIHV0aWxzLmRlcHJlY2F0ZShcbiAgICB2aWRlb0RldGFpbHMsXG4gICAgXCJzaG9ydERlc2NyaXB0aW9uXCIsXG4gICAgdmlkZW9EZXRhaWxzLmRlc2NyaXB0aW9uLFxuICAgIFwidmlkZW9EZXRhaWxzLnNob3J0RGVzY3JpcHRpb25cIixcbiAgICBcInZpZGVvRGV0YWlscy5kZXNjcmlwdGlvblwiLFxuICApO1xuXG4gIC8vIFVzZSBtb3JlIHJlbGlhYmxlIGBsZW5ndGhTZWNvbmRzYCBmcm9tIGBwbGF5ZXJNaWNyb2Zvcm1hdFJlbmRlcmVyYC5cbiAgdmlkZW9EZXRhaWxzLmxlbmd0aFNlY29uZHMgPVxuICAgIChpbmZvLnBsYXllcl9yZXNwb25zZS5taWNyb2Zvcm1hdCAmJiBpbmZvLnBsYXllcl9yZXNwb25zZS5taWNyb2Zvcm1hdC5wbGF5ZXJNaWNyb2Zvcm1hdFJlbmRlcmVyLmxlbmd0aFNlY29uZHMpIHx8XG4gICAgaW5mby5wbGF5ZXJfcmVzcG9uc2UudmlkZW9EZXRhaWxzLmxlbmd0aFNlY29uZHM7XG4gIHJldHVybiB2aWRlb0RldGFpbHM7XG59O1xuXG4vKipcbiAqIEdldCBzdG9yeWJvYXJkcyBpbmZvLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvXG4gKiBAcmV0dXJucyB7QXJyYXkuPE9iamVjdD59XG4gKi9cbmV4cG9ydHMuZ2V0U3Rvcnlib2FyZHMgPSBpbmZvID0+IHtcbiAgY29uc3QgcGFydHMgPVxuICAgIGluZm8ucGxheWVyX3Jlc3BvbnNlLnN0b3J5Ym9hcmRzICYmXG4gICAgaW5mby5wbGF5ZXJfcmVzcG9uc2Uuc3Rvcnlib2FyZHMucGxheWVyU3Rvcnlib2FyZFNwZWNSZW5kZXJlciAmJlxuICAgIGluZm8ucGxheWVyX3Jlc3BvbnNlLnN0b3J5Ym9hcmRzLnBsYXllclN0b3J5Ym9hcmRTcGVjUmVuZGVyZXIuc3BlYyAmJlxuICAgIGluZm8ucGxheWVyX3Jlc3BvbnNlLnN0b3J5Ym9hcmRzLnBsYXllclN0b3J5Ym9hcmRTcGVjUmVuZGVyZXIuc3BlYy5zcGxpdChcInxcIik7XG5cbiAgaWYgKCFwYXJ0cykgcmV0dXJuIFtdO1xuXG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocGFydHMuc2hpZnQoKSk7XG5cbiAgcmV0dXJuIHBhcnRzLm1hcCgocGFydCwgaSkgPT4ge1xuICAgIGxldCBbdGh1bWJuYWlsV2lkdGgsIHRodW1ibmFpbEhlaWdodCwgdGh1bWJuYWlsQ291bnQsIGNvbHVtbnMsIHJvd3MsIGludGVydmFsLCBuYW1lUmVwbGFjZW1lbnQsIHNpZ2hdID1cbiAgICAgIHBhcnQuc3BsaXQoXCIjXCIpO1xuXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJzaWdoXCIsIHNpZ2gpO1xuXG4gICAgdGh1bWJuYWlsQ291bnQgPSBwYXJzZUludCh0aHVtYm5haWxDb3VudCwgMTApO1xuICAgIGNvbHVtbnMgPSBwYXJzZUludChjb2x1bW5zLCAxMCk7XG4gICAgcm93cyA9IHBhcnNlSW50KHJvd3MsIDEwKTtcblxuICAgIGNvbnN0IHN0b3J5Ym9hcmRDb3VudCA9IE1hdGguY2VpbCh0aHVtYm5haWxDb3VudCAvIChjb2x1bW5zICogcm93cykpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRlbXBsYXRlVXJsOiB1cmwudG9TdHJpbmcoKS5yZXBsYWNlKFwiJExcIiwgaSkucmVwbGFjZShcIiROXCIsIG5hbWVSZXBsYWNlbWVudCksXG4gICAgICB0aHVtYm5haWxXaWR0aDogcGFyc2VJbnQodGh1bWJuYWlsV2lkdGgsIDEwKSxcbiAgICAgIHRodW1ibmFpbEhlaWdodDogcGFyc2VJbnQodGh1bWJuYWlsSGVpZ2h0LCAxMCksXG4gICAgICB0aHVtYm5haWxDb3VudCxcbiAgICAgIGludGVydmFsOiBwYXJzZUludChpbnRlcnZhbCwgMTApLFxuICAgICAgY29sdW1ucyxcbiAgICAgIHJvd3MsXG4gICAgICBzdG9yeWJvYXJkQ291bnQsXG4gICAgfTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldCBjaGFwdGVycyBpbmZvLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvXG4gKiBAcmV0dXJucyB7QXJyYXkuPE9iamVjdD59XG4gKi9cbmV4cG9ydHMuZ2V0Q2hhcHRlcnMgPSBpbmZvID0+IHtcbiAgY29uc3QgcGxheWVyT3ZlcmxheVJlbmRlcmVyID1cbiAgICBpbmZvLnJlc3BvbnNlICYmIGluZm8ucmVzcG9uc2UucGxheWVyT3ZlcmxheXMgJiYgaW5mby5yZXNwb25zZS5wbGF5ZXJPdmVybGF5cy5wbGF5ZXJPdmVybGF5UmVuZGVyZXI7XG4gIGNvbnN0IHBsYXllckJhciA9XG4gICAgcGxheWVyT3ZlcmxheVJlbmRlcmVyICYmXG4gICAgcGxheWVyT3ZlcmxheVJlbmRlcmVyLmRlY29yYXRlZFBsYXllckJhclJlbmRlcmVyICYmXG4gICAgcGxheWVyT3ZlcmxheVJlbmRlcmVyLmRlY29yYXRlZFBsYXllckJhclJlbmRlcmVyLmRlY29yYXRlZFBsYXllckJhclJlbmRlcmVyICYmXG4gICAgcGxheWVyT3ZlcmxheVJlbmRlcmVyLmRlY29yYXRlZFBsYXllckJhclJlbmRlcmVyLmRlY29yYXRlZFBsYXllckJhclJlbmRlcmVyLnBsYXllckJhcjtcbiAgY29uc3QgbWFya2Vyc01hcCA9XG4gICAgcGxheWVyQmFyICYmIHBsYXllckJhci5tdWx0aU1hcmtlcnNQbGF5ZXJCYXJSZW5kZXJlciAmJiBwbGF5ZXJCYXIubXVsdGlNYXJrZXJzUGxheWVyQmFyUmVuZGVyZXIubWFya2Vyc01hcDtcbiAgY29uc3QgbWFya2VyID0gQXJyYXkuaXNBcnJheShtYXJrZXJzTWFwKSAmJiBtYXJrZXJzTWFwLmZpbmQobSA9PiBtLnZhbHVlICYmIEFycmF5LmlzQXJyYXkobS52YWx1ZS5jaGFwdGVycykpO1xuICBpZiAoIW1hcmtlcikgcmV0dXJuIFtdO1xuICBjb25zdCBjaGFwdGVycyA9IG1hcmtlci52YWx1ZS5jaGFwdGVycztcblxuICByZXR1cm4gY2hhcHRlcnMubWFwKGNoYXB0ZXIgPT4gKHtcbiAgICB0aXRsZTogZ2V0VGV4dChjaGFwdGVyLmNoYXB0ZXJSZW5kZXJlci50aXRsZSksXG4gICAgc3RhcnRfdGltZTogY2hhcHRlci5jaGFwdGVyUmVuZGVyZXIudGltZVJhbmdlU3RhcnRNaWxsaXMgLyAxMDAwLFxuICB9KSk7XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/info-extras.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/info.js":
/*!*****************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/info.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/* eslint-disable no-unused-vars */\nconst sax = __webpack_require__(/*! sax */ \"(rsc)/./node_modules/sax/lib/sax.js\");\nconst utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/utils.js\");\n// Forces Node JS version of setTimeout for Electron based applications\nconst { setTimeout } = __webpack_require__(/*! timers */ \"timers\");\nconst formatUtils = __webpack_require__(/*! ./format-utils */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/format-utils.js\");\nconst urlUtils = __webpack_require__(/*! ./url-utils */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/url-utils.js\");\nconst extras = __webpack_require__(/*! ./info-extras */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/info-extras.js\");\nconst Cache = __webpack_require__(/*! ./cache */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/cache.js\");\nconst sig = __webpack_require__(/*! ./sig */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/sig.js\");\n\nconst BASE_URL = \"https://www.youtube.com/watch?v=\";\n\n// Cached for storing basic/full info.\nexports.cache = new Cache();\nexports.watchPageCache = new Cache();\n\n// List of URLs that show up in `notice_url` for age restricted videos.\nconst AGE_RESTRICTED_URLS = [\"support.google.com/youtube/?p=age_restrictions\", \"youtube.com/t/community_guidelines\"];\n\n/**\n * Gets info from a video without getting additional formats.\n *\n * @param {string} id\n * @param {Object} options\n * @returns {Promise<Object>}\n */\nexports.getBasicInfo = async (id, options) => {\n  utils.applyIPv6Rotations(options);\n  utils.applyDefaultHeaders(options);\n  utils.applyDefaultAgent(options);\n  utils.applyOldLocalAddress(options);\n  const retryOptions = Object.assign({}, options.requestOptions);\n  const { jar, dispatcher } = options.agent;\n  utils.setPropInsensitive(\n    options.requestOptions.headers,\n    \"cookie\",\n    jar.getCookieStringSync(\"https://www.youtube.com\"),\n  );\n  options.requestOptions.dispatcher = dispatcher;\n  const info = await retryFunc(getWatchHTMLPage, [id, options], retryOptions);\n\n  const playErr = utils.playError(info.player_response);\n  if (playErr) throw playErr;\n\n  Object.assign(info, {\n    // Replace with formats from iosPlayerResponse\n    // formats: parseFormats(info.player_response),\n    related_videos: extras.getRelatedVideos(info),\n  });\n\n  // Add additional properties to info.\n  const media = extras.getMedia(info);\n  const additional = {\n    author: extras.getAuthor(info),\n    media,\n    likes: extras.getLikes(info),\n    age_restricted: !!(\n      media && AGE_RESTRICTED_URLS.some(url => Object.values(media).some(v => typeof v === \"string\" && v.includes(url)))\n    ),\n\n    // Give the standard link to the video.\n    video_url: BASE_URL + id,\n    storyboards: extras.getStoryboards(info),\n    chapters: extras.getChapters(info),\n  };\n\n  info.videoDetails = extras.cleanVideoDetails(\n    Object.assign(\n      {},\n      info.player_response &&\n        info.player_response.microformat &&\n        info.player_response.microformat.playerMicroformatRenderer,\n      info.player_response && info.player_response.videoDetails,\n      additional,\n    ),\n    info,\n  );\n\n  return info;\n};\n\nconst getWatchHTMLURL = (id, options) =>\n  `${BASE_URL + id}&hl=${options.lang || \"en\"}&bpctr=${Math.ceil(Date.now() / 1000)}&has_verified=1`;\nconst getWatchHTMLPageBody = (id, options) => {\n  const url = getWatchHTMLURL(id, options);\n  return exports.watchPageCache.getOrSet(url, () => utils.request(url, options));\n};\n\nconst EMBED_URL = \"https://www.youtube.com/embed/\";\nconst getEmbedPageBody = (id, options) => {\n  const embedUrl = `${EMBED_URL + id}?hl=${options.lang || \"en\"}`;\n  return utils.request(embedUrl, options);\n};\n\nconst getHTML5player = body => {\n  let html5playerRes =\n    /<script\\s+src=\"([^\"]+)\"(?:\\s+type=\"text\\/javascript\")?\\s+name=\"player_ias\\/base\"\\s*>|\"jsUrl\":\"([^\"]+)\"/.exec(body);\n  return html5playerRes ? html5playerRes[1] || html5playerRes[2] : null;\n};\n\n/**\n * Given a function, calls it with `args` until it's successful,\n * or until it encounters an unrecoverable error.\n * Currently, any error from miniget is considered unrecoverable. Errors such as\n * too many redirects, invalid URL, status code 404, status code 502.\n *\n * @param {Function} func\n * @param {Array.<Object>} args\n * @param {Object} options\n * @param {number} options.maxRetries\n * @param {Object} options.backoff\n * @param {number} options.backoff.inc\n */\nconst retryFunc = async (func, args, options) => {\n  let currentTry = 0,\n    result;\n  if (!options.maxRetries) options.maxRetries = 3;\n  if (!options.backoff) options.backoff = { inc: 500, max: 5000 };\n  while (currentTry <= options.maxRetries) {\n    try {\n      result = await func(...args);\n      break;\n    } catch (err) {\n      if ((err && err.statusCode < 500) || currentTry >= options.maxRetries) throw err;\n      let wait = Math.min(++currentTry * options.backoff.inc, options.backoff.max);\n      await new Promise(resolve => setTimeout(resolve, wait));\n    }\n  }\n  return result;\n};\n\nconst jsonClosingChars = /^[)\\]}'\\s]+/;\nconst parseJSON = (source, varName, json) => {\n  if (!json || typeof json === \"object\") {\n    return json;\n  } else {\n    try {\n      json = json.replace(jsonClosingChars, \"\");\n      return JSON.parse(json);\n    } catch (err) {\n      throw Error(`Error parsing ${varName} in ${source}: ${err.message}`);\n    }\n  }\n};\n\nconst findJSON = (source, varName, body, left, right, prependJSON) => {\n  let jsonStr = utils.between(body, left, right);\n  if (!jsonStr) {\n    throw Error(`Could not find ${varName} in ${source}`);\n  }\n  return parseJSON(source, varName, utils.cutAfterJS(`${prependJSON}${jsonStr}`));\n};\n\nconst findPlayerResponse = (source, info) => {\n  const player_response =\n    info &&\n    ((info.args && info.args.player_response) ||\n      info.player_response ||\n      info.playerResponse ||\n      info.embedded_player_response);\n  return parseJSON(source, \"player_response\", player_response);\n};\n\nconst getWatchHTMLPage = async (id, options) => {\n  let body = await getWatchHTMLPageBody(id, options);\n  let info = { page: \"watch\" };\n  try {\n    try {\n      info.player_response =\n        utils.tryParseBetween(body, \"var ytInitialPlayerResponse = \", \"}};\", \"\", \"}}\") ||\n        utils.tryParseBetween(body, \"var ytInitialPlayerResponse = \", \";var\") ||\n        utils.tryParseBetween(body, \"var ytInitialPlayerResponse = \", \";</script>\") ||\n        findJSON(\"watch.html\", \"player_response\", body, /\\bytInitialPlayerResponse\\s*=\\s*\\{/i, \"</script>\", \"{\");\n    } catch (_e) {\n      let args = findJSON(\"watch.html\", \"player_response\", body, /\\bytplayer\\.config\\s*=\\s*{/, \"</script>\", \"{\");\n      info.player_response = findPlayerResponse(\"watch.html\", args);\n    }\n\n    info.response =\n      utils.tryParseBetween(body, \"var ytInitialData = \", \"}};\", \"\", \"}}\") ||\n      utils.tryParseBetween(body, \"var ytInitialData = \", \";</script>\") ||\n      utils.tryParseBetween(body, 'window[\"ytInitialData\"] = ', \"}};\", \"\", \"}}\") ||\n      utils.tryParseBetween(body, 'window[\"ytInitialData\"] = ', \";</script>\") ||\n      findJSON(\"watch.html\", \"response\", body, /\\bytInitialData(\"\\])?\\s*=\\s*\\{/i, \"</script>\", \"{\");\n    info.html5player = getHTML5player(body);\n  } catch (_) {\n    throw Error(\n      \"Error when parsing watch.html, maybe YouTube made a change.\\n\" +\n        `Please report this issue with the \"${utils.saveDebugFile(\n          \"watch.html\",\n          body,\n        )}\" file on https://github.com/distubejs/ytdl-core/issues.`,\n    );\n  }\n  return info;\n};\n\n/**\n * @param {Object} player_response\n * @returns {Array.<Object>}\n */\nconst parseFormats = player_response => {\n  let formats = [];\n  if (player_response && player_response.streamingData) {\n    formats = formats\n      .concat(player_response.streamingData.formats || [])\n      .concat(player_response.streamingData.adaptiveFormats || []);\n  }\n  return formats;\n};\n\nconst parseAdditionalManifests = (player_response, options) => {\n  let streamingData = player_response && player_response.streamingData,\n    manifests = [];\n  if (streamingData) {\n    if (streamingData.dashManifestUrl) {\n      manifests.push(getDashManifest(streamingData.dashManifestUrl, options));\n    }\n    if (streamingData.hlsManifestUrl) {\n      manifests.push(getM3U8(streamingData.hlsManifestUrl, options));\n    }\n  }\n  return manifests;\n};\n\n// TODO: Clean up this function for readability and support more clients\n/**\n * Gets info from a video additional formats and deciphered URLs.\n *\n * @param {string} id\n * @param {Object} options\n * @returns {Promise<Object>}\n */\nexports.getInfo = async (id, options) => {\n  utils.applyIPv6Rotations(options);\n  utils.applyDefaultHeaders(options);\n  utils.applyDefaultAgent(options);\n  utils.applyOldLocalAddress(options);\n  utils.applyPlayerClients(options);\n  const info = await exports.getBasicInfo(id, options);\n  let funcs = [];\n\n  // Fill in HTML5 player URL\n  info.html5player =\n    info.html5player ||\n    getHTML5player(await getWatchHTMLPageBody(id, options)) ||\n    getHTML5player(await getEmbedPageBody(id, options));\n\n  if (!info.html5player) {\n    throw Error(\"Unable to find html5player file\");\n  }\n\n  const html5player = new URL(info.html5player, BASE_URL).toString();\n\n  try {\n    if (options.playerClients.includes(\"WEB\")) {\n      funcs.push(sig.decipherFormats(parseFormats(info.player_response), html5player, options));\n      funcs.push(...parseAdditionalManifests(info.player_response));\n    }\n    if (info.videoDetails.age_restricted) throw Error(\"Cannot download age restricted videos with mobile clients\");\n    const promises = [];\n    if (options.playerClients.includes(\"WEB_CREATOR\")) promises.push(fetchWebCreatorPlayer(id, html5player, options));\n    if (options.playerClients.includes(\"IOS\")) promises.push(fetchIosJsonPlayer(id, options));\n    if (options.playerClients.includes(\"ANDROID\")) promises.push(fetchAndroidJsonPlayer(id, options));\n    const responses = await Promise.allSettled(promises);\n    info.formats = [].concat(...responses.map(r => parseFormats(r.value)));\n    if (info.formats.length === 0) throw new Error(\"Player JSON API failed\");\n\n    funcs.push(sig.decipherFormats(info.formats, html5player, options));\n\n    for (let resp of responses) {\n      if (resp.value) {\n        funcs.push(...parseAdditionalManifests(resp.value, options));\n      }\n    }\n  } catch (_) {}\n\n  let results = await Promise.all(funcs);\n  info.formats = Object.values(Object.assign({}, ...results));\n  info.formats = info.formats.map(formatUtils.addFormatMeta);\n  info.formats.sort(formatUtils.sortFormats);\n\n  info.full = true;\n  return info;\n};\n\nconst getPlaybackContext = async (html5player, options) => {\n  const body = await utils.request(html5player, options);\n  let mo = body.match(/signatureTimestamp:(\\d+)/);\n\n  return {\n    contentPlaybackContext: {\n      html5Preference: \"HTML5_PREF_WANTS\",\n      signatureTimestamp: mo ? mo[1] : undefined,\n    },\n  };\n};\n\nconst LOCALE = { hl: \"en\", timeZone: \"UTC\", utcOffsetMinutes: 0 },\n  CHECK_FLAGS = { contentCheckOk: true, racyCheckOk: true };\n\nconst WEB_CREATOR_CONTEXT = {\n  client: {\n    clientName: \"WEB_CREATOR\",\n    clientVersion: \"1.20241215.03.00\",\n    ...LOCALE,\n  },\n};\n\nconst fetchWebCreatorPlayer = async (videoId, html5player, options) => {\n  const payload = {\n    context: WEB_CREATOR_CONTEXT,\n    videoId,\n    playbackContext: await getPlaybackContext(html5player, options),\n    ...CHECK_FLAGS,\n  };\n\n  return await playerAPI(videoId, payload, undefined, options);\n};\n\nconst playerAPI = async (videoId, payload, userAgent, options) => {\n  const { jar, dispatcher } = options.agent;\n  const opts = {\n    requestOptions: {\n      method: \"POST\",\n      dispatcher,\n      query: {\n        prettyPrint: false,\n        t: utils.generateClientPlaybackNonce(12),\n        id: videoId,\n      },\n      headers: {\n        \"Content-Type\": \"application/json\",\n        cookie: jar.getCookieStringSync(\"https://www.youtube.com\"),\n        \"User-Agent\": userAgent,\n        \"X-Goog-Api-Format-Version\": \"2\",\n      },\n      body: JSON.stringify(payload),\n    },\n  };\n  const response = await utils.request(\"https://youtubei.googleapis.com/youtubei/v1/player\", opts);\n  const playErr = utils.playError(response);\n  if (playErr) throw playErr;\n  if (!response.videoDetails || videoId !== response.videoDetails.videoId) {\n    const err = new Error(\"Malformed response from YouTube\");\n    err.response = response;\n    throw err;\n  }\n  return response;\n};\n\nconst IOS_CLIENT_VERSION = \"19.42.1\",\n  IOS_DEVICE_MODEL = \"iPhone16,2\",\n  IOS_USER_AGENT_VERSION = \"17_5_1\",\n  IOS_OS_VERSION = \"17.5.1.21F90\";\n\nconst fetchIosJsonPlayer = async (videoId, options) => {\n  const payload = {\n    videoId,\n    cpn: utils.generateClientPlaybackNonce(16),\n    contentCheckOk: true,\n    racyCheckOk: true,\n    context: {\n      client: {\n        clientName: \"IOS\",\n        clientVersion: IOS_CLIENT_VERSION,\n        deviceMake: \"Apple\",\n        deviceModel: IOS_DEVICE_MODEL,\n        platform: \"MOBILE\",\n        osName: \"iOS\",\n        osVersion: IOS_OS_VERSION,\n        hl: \"en\",\n        gl: \"US\",\n        utcOffsetMinutes: -240,\n      },\n      request: {\n        internalExperimentFlags: [],\n        useSsl: true,\n      },\n      user: {\n        lockedSafetyMode: false,\n      },\n    },\n  };\n\n  const { jar, dispatcher } = options.agent;\n  const opts = {\n    requestOptions: {\n      method: \"POST\",\n      dispatcher,\n      query: {\n        prettyPrint: false,\n        t: utils.generateClientPlaybackNonce(12),\n        id: videoId,\n      },\n      headers: {\n        \"Content-Type\": \"application/json\",\n        cookie: jar.getCookieStringSync(\"https://www.youtube.com\"),\n        \"User-Agent\": `com.google.ios.youtube/${IOS_CLIENT_VERSION}(${\n          IOS_DEVICE_MODEL\n        }; U; CPU iOS ${IOS_USER_AGENT_VERSION} like Mac OS X; en_US)`,\n        \"X-Goog-Api-Format-Version\": \"2\",\n      },\n      body: JSON.stringify(payload),\n    },\n  };\n  const response = await utils.request(\"https://youtubei.googleapis.com/youtubei/v1/player\", opts);\n  const playErr = utils.playError(response);\n  if (playErr) throw playErr;\n  if (!response.videoDetails || videoId !== response.videoDetails.videoId) {\n    const err = new Error(\"Malformed response from YouTube\");\n    err.response = response;\n    throw err;\n  }\n  return response;\n};\n\nconst ANDROID_CLIENT_VERSION = \"19.30.36\",\n  ANDROID_OS_VERSION = \"14\",\n  ANDROID_SDK_VERSION = \"34\";\n\nconst fetchAndroidJsonPlayer = async (videoId, options) => {\n  const payload = {\n    videoId,\n    cpn: utils.generateClientPlaybackNonce(16),\n    contentCheckOk: true,\n    racyCheckOk: true,\n    context: {\n      client: {\n        clientName: \"ANDROID\",\n        clientVersion: ANDROID_CLIENT_VERSION,\n        platform: \"MOBILE\",\n        osName: \"Android\",\n        osVersion: ANDROID_OS_VERSION,\n        androidSdkVersion: ANDROID_SDK_VERSION,\n        hl: \"en\",\n        gl: \"US\",\n        utcOffsetMinutes: -240,\n      },\n      request: {\n        internalExperimentFlags: [],\n        useSsl: true,\n      },\n      user: {\n        lockedSafetyMode: false,\n      },\n    },\n  };\n\n  const { jar, dispatcher } = options.agent;\n  const opts = {\n    requestOptions: {\n      method: \"POST\",\n      dispatcher,\n      query: {\n        prettyPrint: false,\n        t: utils.generateClientPlaybackNonce(12),\n        id: videoId,\n      },\n      headers: {\n        \"Content-Type\": \"application/json\",\n        cookie: jar.getCookieStringSync(\"https://www.youtube.com\"),\n        \"User-Agent\": `com.google.android.youtube/${\n          ANDROID_CLIENT_VERSION\n        } (Linux; U; Android ${ANDROID_OS_VERSION}; en_US) gzip`,\n        \"X-Goog-Api-Format-Version\": \"2\",\n      },\n      body: JSON.stringify(payload),\n    },\n  };\n  const response = await utils.request(\"https://youtubei.googleapis.com/youtubei/v1/player\", opts);\n  const playErr = utils.playError(response);\n  if (playErr) throw playErr;\n  if (!response.videoDetails || videoId !== response.videoDetails.videoId) {\n    const err = new Error(\"Malformed response from YouTube\");\n    err.response = response;\n    throw err;\n  }\n  return response;\n};\n\n/**\n * Gets additional DASH formats.\n *\n * @param {string} url\n * @param {Object} options\n * @returns {Promise<Array.<Object>>}\n */\nconst getDashManifest = (url, options) =>\n  new Promise((resolve, reject) => {\n    let formats = {};\n    const parser = sax.parser(false);\n    parser.onerror = reject;\n    let adaptationSet;\n    parser.onopentag = node => {\n      if (node.name === \"ADAPTATIONSET\") {\n        adaptationSet = node.attributes;\n      } else if (node.name === \"REPRESENTATION\") {\n        const itag = parseInt(node.attributes.ID);\n        if (!isNaN(itag)) {\n          formats[url] = Object.assign(\n            {\n              itag,\n              url,\n              bitrate: parseInt(node.attributes.BANDWIDTH),\n              mimeType: `${adaptationSet.MIMETYPE}; codecs=\"${node.attributes.CODECS}\"`,\n            },\n            node.attributes.HEIGHT\n              ? {\n                  width: parseInt(node.attributes.WIDTH),\n                  height: parseInt(node.attributes.HEIGHT),\n                  fps: parseInt(node.attributes.FRAMERATE),\n                }\n              : {\n                  audioSampleRate: node.attributes.AUDIOSAMPLINGRATE,\n                },\n          );\n        }\n      }\n    };\n    parser.onend = () => {\n      resolve(formats);\n    };\n    utils\n      .request(new URL(url, BASE_URL).toString(), options)\n      .then(res => {\n        parser.write(res);\n        parser.close();\n      })\n      .catch(reject);\n  });\n\n/**\n * Gets additional formats.\n *\n * @param {string} url\n * @param {Object} options\n * @returns {Promise<Array.<Object>>}\n */\nconst getM3U8 = async (url, options) => {\n  url = new URL(url, BASE_URL);\n  const body = await utils.request(url.toString(), options);\n  let formats = {};\n  body\n    .split(\"\\n\")\n    .filter(line => /^https?:\\/\\//.test(line))\n    .forEach(line => {\n      const itag = parseInt(line.match(/\\/itag\\/(\\d+)\\//)[1]);\n      formats[line] = { itag, url: line };\n    });\n  return formats;\n};\n\n// Cache get info functions.\n// In case a user wants to get a video's info before downloading.\nfor (let funcName of [\"getBasicInfo\", \"getInfo\"]) {\n  /**\n   * @param {string} link\n   * @param {Object} options\n   * @returns {Promise<Object>}\n   */\n  const func = exports[funcName];\n  exports[funcName] = async (link, options = {}) => {\n    utils.checkForUpdates();\n    let id = await urlUtils.getVideoID(link);\n    const key = [funcName, id, options.lang].join(\"-\");\n    return exports.cache.getOrSet(key, () => func(id, options));\n  };\n}\n\n// Export a few helpers.\nexports.validateID = urlUtils.validateID;\nexports.validateURL = urlUtils.validateURL;\nexports.getURLVideoID = urlUtils.getURLVideoID;\nexports.getVideoID = urlUtils.getVideoID;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi9pbmZvLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsWUFBWSxtQkFBTyxDQUFDLGdEQUFLO0FBQ3pCLGNBQWMsbUJBQU8sQ0FBQyxxRUFBUztBQUMvQjtBQUNBLFFBQVEsYUFBYSxFQUFFLG1CQUFPLENBQUMsc0JBQVE7QUFDdkMsb0JBQW9CLG1CQUFPLENBQUMsbUZBQWdCO0FBQzVDLGlCQUFpQixtQkFBTyxDQUFDLDZFQUFhO0FBQ3RDLGVBQWUsbUJBQU8sQ0FBQyxpRkFBZTtBQUN0QyxjQUFjLG1CQUFPLENBQUMscUVBQVM7QUFDL0IsWUFBWSxtQkFBTyxDQUFDLGlFQUFPOztBQUUzQjs7QUFFQTtBQUNBLGFBQWE7QUFDYixzQkFBc0I7O0FBRXRCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsVUFBVSxrQkFBa0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLLGNBQWMsTUFBTSxxQkFBcUIsU0FBUyw2QkFBNkI7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQixlQUFlLE1BQU0scUJBQXFCO0FBQ2hFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxnQkFBZ0I7QUFDM0IsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sbUNBQW1DLFNBQVMsS0FBSyxPQUFPLElBQUksWUFBWTtBQUN4RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFNBQVMsS0FBSyxPQUFPO0FBQ3ZEO0FBQ0Esd0RBQXdELFlBQVksRUFBRSxRQUFRO0FBQzlFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSxVQUFVO0FBQ3BGLHdFQUF3RTtBQUN4RSx3RUFBd0U7QUFDeEUsMkZBQTJGLG1CQUFtQjtBQUM5RyxNQUFNO0FBQ04sNEZBQTRGLGtCQUFrQjtBQUM5RztBQUNBOztBQUVBO0FBQ0EsOERBQThELFVBQVU7QUFDeEUsNERBQTREO0FBQzVELG9FQUFvRSxVQUFVO0FBQzlFLGtFQUFrRTtBQUNsRSw4RUFBOEUsbUJBQW1CO0FBQ2pHO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLCtDQUErQztBQUMvQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxpQkFBaUIsZ0RBQWdEO0FBQ2pFLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSxrQkFBa0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQSxVQUFVLGtCQUFrQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxtQkFBbUI7QUFDbkU7QUFDQSxXQUFXLEdBQUcsVUFBVSx3QkFBd0IsZUFBZTtBQUMvRDtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQSxVQUFVLGtCQUFrQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFFBQVEsR0FBRyxVQUFVLHFCQUFxQjtBQUNwRDtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlCQUF5QixVQUFVLHVCQUF1QjtBQUNyRixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixlQUFlO0FBQ2Y7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEIsbUJBQW1CO0FBQ25CLHFCQUFxQjtBQUNyQixrQkFBa0IiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQnVyYWtcXERvY3VtZW50c1xcR2l0SHViXFx5b3V0dWJlLWRvd25sb2FkZXJcXG5vZGVfbW9kdWxlc1xcQGRpc3R1YmVcXHl0ZGwtY29yZVxcbGliXFxpbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5jb25zdCBzYXggPSByZXF1aXJlKFwic2F4XCIpO1xuY29uc3QgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbi8vIEZvcmNlcyBOb2RlIEpTIHZlcnNpb24gb2Ygc2V0VGltZW91dCBmb3IgRWxlY3Ryb24gYmFzZWQgYXBwbGljYXRpb25zXG5jb25zdCB7IHNldFRpbWVvdXQgfSA9IHJlcXVpcmUoXCJ0aW1lcnNcIik7XG5jb25zdCBmb3JtYXRVdGlscyA9IHJlcXVpcmUoXCIuL2Zvcm1hdC11dGlsc1wiKTtcbmNvbnN0IHVybFV0aWxzID0gcmVxdWlyZShcIi4vdXJsLXV0aWxzXCIpO1xuY29uc3QgZXh0cmFzID0gcmVxdWlyZShcIi4vaW5mby1leHRyYXNcIik7XG5jb25zdCBDYWNoZSA9IHJlcXVpcmUoXCIuL2NhY2hlXCIpO1xuY29uc3Qgc2lnID0gcmVxdWlyZShcIi4vc2lnXCIpO1xuXG5jb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1cIjtcblxuLy8gQ2FjaGVkIGZvciBzdG9yaW5nIGJhc2ljL2Z1bGwgaW5mby5cbmV4cG9ydHMuY2FjaGUgPSBuZXcgQ2FjaGUoKTtcbmV4cG9ydHMud2F0Y2hQYWdlQ2FjaGUgPSBuZXcgQ2FjaGUoKTtcblxuLy8gTGlzdCBvZiBVUkxzIHRoYXQgc2hvdyB1cCBpbiBgbm90aWNlX3VybGAgZm9yIGFnZSByZXN0cmljdGVkIHZpZGVvcy5cbmNvbnN0IEFHRV9SRVNUUklDVEVEX1VSTFMgPSBbXCJzdXBwb3J0Lmdvb2dsZS5jb20veW91dHViZS8/cD1hZ2VfcmVzdHJpY3Rpb25zXCIsIFwieW91dHViZS5jb20vdC9jb21tdW5pdHlfZ3VpZGVsaW5lc1wiXTtcblxuLyoqXG4gKiBHZXRzIGluZm8gZnJvbSBhIHZpZGVvIHdpdGhvdXQgZ2V0dGluZyBhZGRpdGlvbmFsIGZvcm1hdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn1cbiAqL1xuZXhwb3J0cy5nZXRCYXNpY0luZm8gPSBhc3luYyAoaWQsIG9wdGlvbnMpID0+IHtcbiAgdXRpbHMuYXBwbHlJUHY2Um90YXRpb25zKG9wdGlvbnMpO1xuICB1dGlscy5hcHBseURlZmF1bHRIZWFkZXJzKG9wdGlvbnMpO1xuICB1dGlscy5hcHBseURlZmF1bHRBZ2VudChvcHRpb25zKTtcbiAgdXRpbHMuYXBwbHlPbGRMb2NhbEFkZHJlc3Mob3B0aW9ucyk7XG4gIGNvbnN0IHJldHJ5T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMucmVxdWVzdE9wdGlvbnMpO1xuICBjb25zdCB7IGphciwgZGlzcGF0Y2hlciB9ID0gb3B0aW9ucy5hZ2VudDtcbiAgdXRpbHMuc2V0UHJvcEluc2Vuc2l0aXZlKFxuICAgIG9wdGlvbnMucmVxdWVzdE9wdGlvbnMuaGVhZGVycyxcbiAgICBcImNvb2tpZVwiLFxuICAgIGphci5nZXRDb29raWVTdHJpbmdTeW5jKFwiaHR0cHM6Ly93d3cueW91dHViZS5jb21cIiksXG4gICk7XG4gIG9wdGlvbnMucmVxdWVzdE9wdGlvbnMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gIGNvbnN0IGluZm8gPSBhd2FpdCByZXRyeUZ1bmMoZ2V0V2F0Y2hIVE1MUGFnZSwgW2lkLCBvcHRpb25zXSwgcmV0cnlPcHRpb25zKTtcblxuICBjb25zdCBwbGF5RXJyID0gdXRpbHMucGxheUVycm9yKGluZm8ucGxheWVyX3Jlc3BvbnNlKTtcbiAgaWYgKHBsYXlFcnIpIHRocm93IHBsYXlFcnI7XG5cbiAgT2JqZWN0LmFzc2lnbihpbmZvLCB7XG4gICAgLy8gUmVwbGFjZSB3aXRoIGZvcm1hdHMgZnJvbSBpb3NQbGF5ZXJSZXNwb25zZVxuICAgIC8vIGZvcm1hdHM6IHBhcnNlRm9ybWF0cyhpbmZvLnBsYXllcl9yZXNwb25zZSksXG4gICAgcmVsYXRlZF92aWRlb3M6IGV4dHJhcy5nZXRSZWxhdGVkVmlkZW9zKGluZm8pLFxuICB9KTtcblxuICAvLyBBZGQgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGluZm8uXG4gIGNvbnN0IG1lZGlhID0gZXh0cmFzLmdldE1lZGlhKGluZm8pO1xuICBjb25zdCBhZGRpdGlvbmFsID0ge1xuICAgIGF1dGhvcjogZXh0cmFzLmdldEF1dGhvcihpbmZvKSxcbiAgICBtZWRpYSxcbiAgICBsaWtlczogZXh0cmFzLmdldExpa2VzKGluZm8pLFxuICAgIGFnZV9yZXN0cmljdGVkOiAhIShcbiAgICAgIG1lZGlhICYmIEFHRV9SRVNUUklDVEVEX1VSTFMuc29tZSh1cmwgPT4gT2JqZWN0LnZhbHVlcyhtZWRpYSkuc29tZSh2ID0+IHR5cGVvZiB2ID09PSBcInN0cmluZ1wiICYmIHYuaW5jbHVkZXModXJsKSkpXG4gICAgKSxcblxuICAgIC8vIEdpdmUgdGhlIHN0YW5kYXJkIGxpbmsgdG8gdGhlIHZpZGVvLlxuICAgIHZpZGVvX3VybDogQkFTRV9VUkwgKyBpZCxcbiAgICBzdG9yeWJvYXJkczogZXh0cmFzLmdldFN0b3J5Ym9hcmRzKGluZm8pLFxuICAgIGNoYXB0ZXJzOiBleHRyYXMuZ2V0Q2hhcHRlcnMoaW5mbyksXG4gIH07XG5cbiAgaW5mby52aWRlb0RldGFpbHMgPSBleHRyYXMuY2xlYW5WaWRlb0RldGFpbHMoXG4gICAgT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuICAgICAgaW5mby5wbGF5ZXJfcmVzcG9uc2UgJiZcbiAgICAgICAgaW5mby5wbGF5ZXJfcmVzcG9uc2UubWljcm9mb3JtYXQgJiZcbiAgICAgICAgaW5mby5wbGF5ZXJfcmVzcG9uc2UubWljcm9mb3JtYXQucGxheWVyTWljcm9mb3JtYXRSZW5kZXJlcixcbiAgICAgIGluZm8ucGxheWVyX3Jlc3BvbnNlICYmIGluZm8ucGxheWVyX3Jlc3BvbnNlLnZpZGVvRGV0YWlscyxcbiAgICAgIGFkZGl0aW9uYWwsXG4gICAgKSxcbiAgICBpbmZvLFxuICApO1xuXG4gIHJldHVybiBpbmZvO1xufTtcblxuY29uc3QgZ2V0V2F0Y2hIVE1MVVJMID0gKGlkLCBvcHRpb25zKSA9PlxuICBgJHtCQVNFX1VSTCArIGlkfSZobD0ke29wdGlvbnMubGFuZyB8fCBcImVuXCJ9JmJwY3RyPSR7TWF0aC5jZWlsKERhdGUubm93KCkgLyAxMDAwKX0maGFzX3ZlcmlmaWVkPTFgO1xuY29uc3QgZ2V0V2F0Y2hIVE1MUGFnZUJvZHkgPSAoaWQsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgdXJsID0gZ2V0V2F0Y2hIVE1MVVJMKGlkLCBvcHRpb25zKTtcbiAgcmV0dXJuIGV4cG9ydHMud2F0Y2hQYWdlQ2FjaGUuZ2V0T3JTZXQodXJsLCAoKSA9PiB1dGlscy5yZXF1ZXN0KHVybCwgb3B0aW9ucykpO1xufTtcblxuY29uc3QgRU1CRURfVVJMID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9cIjtcbmNvbnN0IGdldEVtYmVkUGFnZUJvZHkgPSAoaWQsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgZW1iZWRVcmwgPSBgJHtFTUJFRF9VUkwgKyBpZH0/aGw9JHtvcHRpb25zLmxhbmcgfHwgXCJlblwifWA7XG4gIHJldHVybiB1dGlscy5yZXF1ZXN0KGVtYmVkVXJsLCBvcHRpb25zKTtcbn07XG5cbmNvbnN0IGdldEhUTUw1cGxheWVyID0gYm9keSA9PiB7XG4gIGxldCBodG1sNXBsYXllclJlcyA9XG4gICAgLzxzY3JpcHRcXHMrc3JjPVwiKFteXCJdKylcIig/Olxccyt0eXBlPVwidGV4dFxcL2phdmFzY3JpcHRcIik/XFxzK25hbWU9XCJwbGF5ZXJfaWFzXFwvYmFzZVwiXFxzKj58XCJqc1VybFwiOlwiKFteXCJdKylcIi8uZXhlYyhib2R5KTtcbiAgcmV0dXJuIGh0bWw1cGxheWVyUmVzID8gaHRtbDVwbGF5ZXJSZXNbMV0gfHwgaHRtbDVwbGF5ZXJSZXNbMl0gOiBudWxsO1xufTtcblxuLyoqXG4gKiBHaXZlbiBhIGZ1bmN0aW9uLCBjYWxscyBpdCB3aXRoIGBhcmdzYCB1bnRpbCBpdCdzIHN1Y2Nlc3NmdWwsXG4gKiBvciB1bnRpbCBpdCBlbmNvdW50ZXJzIGFuIHVucmVjb3ZlcmFibGUgZXJyb3IuXG4gKiBDdXJyZW50bHksIGFueSBlcnJvciBmcm9tIG1pbmlnZXQgaXMgY29uc2lkZXJlZCB1bnJlY292ZXJhYmxlLiBFcnJvcnMgc3VjaCBhc1xuICogdG9vIG1hbnkgcmVkaXJlY3RzLCBpbnZhbGlkIFVSTCwgc3RhdHVzIGNvZGUgNDA0LCBzdGF0dXMgY29kZSA1MDIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuY1xuICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gYXJnc1xuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLm1heFJldHJpZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmJhY2tvZmZcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLmJhY2tvZmYuaW5jXG4gKi9cbmNvbnN0IHJldHJ5RnVuYyA9IGFzeW5jIChmdW5jLCBhcmdzLCBvcHRpb25zKSA9PiB7XG4gIGxldCBjdXJyZW50VHJ5ID0gMCxcbiAgICByZXN1bHQ7XG4gIGlmICghb3B0aW9ucy5tYXhSZXRyaWVzKSBvcHRpb25zLm1heFJldHJpZXMgPSAzO1xuICBpZiAoIW9wdGlvbnMuYmFja29mZikgb3B0aW9ucy5iYWNrb2ZmID0geyBpbmM6IDUwMCwgbWF4OiA1MDAwIH07XG4gIHdoaWxlIChjdXJyZW50VHJ5IDw9IG9wdGlvbnMubWF4UmV0cmllcykge1xuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBmdW5jKC4uLmFyZ3MpO1xuICAgICAgYnJlYWs7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoKGVyciAmJiBlcnIuc3RhdHVzQ29kZSA8IDUwMCkgfHwgY3VycmVudFRyeSA+PSBvcHRpb25zLm1heFJldHJpZXMpIHRocm93IGVycjtcbiAgICAgIGxldCB3YWl0ID0gTWF0aC5taW4oKytjdXJyZW50VHJ5ICogb3B0aW9ucy5iYWNrb2ZmLmluYywgb3B0aW9ucy5iYWNrb2ZmLm1heCk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgd2FpdCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QganNvbkNsb3NpbmdDaGFycyA9IC9eWylcXF19J1xcc10rLztcbmNvbnN0IHBhcnNlSlNPTiA9IChzb3VyY2UsIHZhck5hbWUsIGpzb24pID0+IHtcbiAgaWYgKCFqc29uIHx8IHR5cGVvZiBqc29uID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIGpzb247XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGpzb24gPSBqc29uLnJlcGxhY2UoanNvbkNsb3NpbmdDaGFycywgXCJcIik7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IEVycm9yKGBFcnJvciBwYXJzaW5nICR7dmFyTmFtZX0gaW4gJHtzb3VyY2V9OiAke2Vyci5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgZmluZEpTT04gPSAoc291cmNlLCB2YXJOYW1lLCBib2R5LCBsZWZ0LCByaWdodCwgcHJlcGVuZEpTT04pID0+IHtcbiAgbGV0IGpzb25TdHIgPSB1dGlscy5iZXR3ZWVuKGJvZHksIGxlZnQsIHJpZ2h0KTtcbiAgaWYgKCFqc29uU3RyKSB7XG4gICAgdGhyb3cgRXJyb3IoYENvdWxkIG5vdCBmaW5kICR7dmFyTmFtZX0gaW4gJHtzb3VyY2V9YCk7XG4gIH1cbiAgcmV0dXJuIHBhcnNlSlNPTihzb3VyY2UsIHZhck5hbWUsIHV0aWxzLmN1dEFmdGVySlMoYCR7cHJlcGVuZEpTT059JHtqc29uU3RyfWApKTtcbn07XG5cbmNvbnN0IGZpbmRQbGF5ZXJSZXNwb25zZSA9IChzb3VyY2UsIGluZm8pID0+IHtcbiAgY29uc3QgcGxheWVyX3Jlc3BvbnNlID1cbiAgICBpbmZvICYmXG4gICAgKChpbmZvLmFyZ3MgJiYgaW5mby5hcmdzLnBsYXllcl9yZXNwb25zZSkgfHxcbiAgICAgIGluZm8ucGxheWVyX3Jlc3BvbnNlIHx8XG4gICAgICBpbmZvLnBsYXllclJlc3BvbnNlIHx8XG4gICAgICBpbmZvLmVtYmVkZGVkX3BsYXllcl9yZXNwb25zZSk7XG4gIHJldHVybiBwYXJzZUpTT04oc291cmNlLCBcInBsYXllcl9yZXNwb25zZVwiLCBwbGF5ZXJfcmVzcG9uc2UpO1xufTtcblxuY29uc3QgZ2V0V2F0Y2hIVE1MUGFnZSA9IGFzeW5jIChpZCwgb3B0aW9ucykgPT4ge1xuICBsZXQgYm9keSA9IGF3YWl0IGdldFdhdGNoSFRNTFBhZ2VCb2R5KGlkLCBvcHRpb25zKTtcbiAgbGV0IGluZm8gPSB7IHBhZ2U6IFwid2F0Y2hcIiB9O1xuICB0cnkge1xuICAgIHRyeSB7XG4gICAgICBpbmZvLnBsYXllcl9yZXNwb25zZSA9XG4gICAgICAgIHV0aWxzLnRyeVBhcnNlQmV0d2Vlbihib2R5LCBcInZhciB5dEluaXRpYWxQbGF5ZXJSZXNwb25zZSA9IFwiLCBcIn19O1wiLCBcIlwiLCBcIn19XCIpIHx8XG4gICAgICAgIHV0aWxzLnRyeVBhcnNlQmV0d2Vlbihib2R5LCBcInZhciB5dEluaXRpYWxQbGF5ZXJSZXNwb25zZSA9IFwiLCBcIjt2YXJcIikgfHxcbiAgICAgICAgdXRpbHMudHJ5UGFyc2VCZXR3ZWVuKGJvZHksIFwidmFyIHl0SW5pdGlhbFBsYXllclJlc3BvbnNlID0gXCIsIFwiOzwvc2NyaXB0PlwiKSB8fFxuICAgICAgICBmaW5kSlNPTihcIndhdGNoLmh0bWxcIiwgXCJwbGF5ZXJfcmVzcG9uc2VcIiwgYm9keSwgL1xcYnl0SW5pdGlhbFBsYXllclJlc3BvbnNlXFxzKj1cXHMqXFx7L2ksIFwiPC9zY3JpcHQ+XCIsIFwie1wiKTtcbiAgICB9IGNhdGNoIChfZSkge1xuICAgICAgbGV0IGFyZ3MgPSBmaW5kSlNPTihcIndhdGNoLmh0bWxcIiwgXCJwbGF5ZXJfcmVzcG9uc2VcIiwgYm9keSwgL1xcYnl0cGxheWVyXFwuY29uZmlnXFxzKj1cXHMqey8sIFwiPC9zY3JpcHQ+XCIsIFwie1wiKTtcbiAgICAgIGluZm8ucGxheWVyX3Jlc3BvbnNlID0gZmluZFBsYXllclJlc3BvbnNlKFwid2F0Y2guaHRtbFwiLCBhcmdzKTtcbiAgICB9XG5cbiAgICBpbmZvLnJlc3BvbnNlID1cbiAgICAgIHV0aWxzLnRyeVBhcnNlQmV0d2Vlbihib2R5LCBcInZhciB5dEluaXRpYWxEYXRhID0gXCIsIFwifX07XCIsIFwiXCIsIFwifX1cIikgfHxcbiAgICAgIHV0aWxzLnRyeVBhcnNlQmV0d2Vlbihib2R5LCBcInZhciB5dEluaXRpYWxEYXRhID0gXCIsIFwiOzwvc2NyaXB0PlwiKSB8fFxuICAgICAgdXRpbHMudHJ5UGFyc2VCZXR3ZWVuKGJvZHksICd3aW5kb3dbXCJ5dEluaXRpYWxEYXRhXCJdID0gJywgXCJ9fTtcIiwgXCJcIiwgXCJ9fVwiKSB8fFxuICAgICAgdXRpbHMudHJ5UGFyc2VCZXR3ZWVuKGJvZHksICd3aW5kb3dbXCJ5dEluaXRpYWxEYXRhXCJdID0gJywgXCI7PC9zY3JpcHQ+XCIpIHx8XG4gICAgICBmaW5kSlNPTihcIndhdGNoLmh0bWxcIiwgXCJyZXNwb25zZVwiLCBib2R5LCAvXFxieXRJbml0aWFsRGF0YShcIlxcXSk/XFxzKj1cXHMqXFx7L2ksIFwiPC9zY3JpcHQ+XCIsIFwie1wiKTtcbiAgICBpbmZvLmh0bWw1cGxheWVyID0gZ2V0SFRNTDVwbGF5ZXIoYm9keSk7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgIFwiRXJyb3Igd2hlbiBwYXJzaW5nIHdhdGNoLmh0bWwsIG1heWJlIFlvdVR1YmUgbWFkZSBhIGNoYW5nZS5cXG5cIiArXG4gICAgICAgIGBQbGVhc2UgcmVwb3J0IHRoaXMgaXNzdWUgd2l0aCB0aGUgXCIke3V0aWxzLnNhdmVEZWJ1Z0ZpbGUoXG4gICAgICAgICAgXCJ3YXRjaC5odG1sXCIsXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgKX1cIiBmaWxlIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9kaXN0dWJlanMveXRkbC1jb3JlL2lzc3Vlcy5gLFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGluZm87XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7T2JqZWN0fSBwbGF5ZXJfcmVzcG9uc2VcbiAqIEByZXR1cm5zIHtBcnJheS48T2JqZWN0Pn1cbiAqL1xuY29uc3QgcGFyc2VGb3JtYXRzID0gcGxheWVyX3Jlc3BvbnNlID0+IHtcbiAgbGV0IGZvcm1hdHMgPSBbXTtcbiAgaWYgKHBsYXllcl9yZXNwb25zZSAmJiBwbGF5ZXJfcmVzcG9uc2Uuc3RyZWFtaW5nRGF0YSkge1xuICAgIGZvcm1hdHMgPSBmb3JtYXRzXG4gICAgICAuY29uY2F0KHBsYXllcl9yZXNwb25zZS5zdHJlYW1pbmdEYXRhLmZvcm1hdHMgfHwgW10pXG4gICAgICAuY29uY2F0KHBsYXllcl9yZXNwb25zZS5zdHJlYW1pbmdEYXRhLmFkYXB0aXZlRm9ybWF0cyB8fCBbXSk7XG4gIH1cbiAgcmV0dXJuIGZvcm1hdHM7XG59O1xuXG5jb25zdCBwYXJzZUFkZGl0aW9uYWxNYW5pZmVzdHMgPSAocGxheWVyX3Jlc3BvbnNlLCBvcHRpb25zKSA9PiB7XG4gIGxldCBzdHJlYW1pbmdEYXRhID0gcGxheWVyX3Jlc3BvbnNlICYmIHBsYXllcl9yZXNwb25zZS5zdHJlYW1pbmdEYXRhLFxuICAgIG1hbmlmZXN0cyA9IFtdO1xuICBpZiAoc3RyZWFtaW5nRGF0YSkge1xuICAgIGlmIChzdHJlYW1pbmdEYXRhLmRhc2hNYW5pZmVzdFVybCkge1xuICAgICAgbWFuaWZlc3RzLnB1c2goZ2V0RGFzaE1hbmlmZXN0KHN0cmVhbWluZ0RhdGEuZGFzaE1hbmlmZXN0VXJsLCBvcHRpb25zKSk7XG4gICAgfVxuICAgIGlmIChzdHJlYW1pbmdEYXRhLmhsc01hbmlmZXN0VXJsKSB7XG4gICAgICBtYW5pZmVzdHMucHVzaChnZXRNM1U4KHN0cmVhbWluZ0RhdGEuaGxzTWFuaWZlc3RVcmwsIG9wdGlvbnMpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hbmlmZXN0cztcbn07XG5cbi8vIFRPRE86IENsZWFuIHVwIHRoaXMgZnVuY3Rpb24gZm9yIHJlYWRhYmlsaXR5IGFuZCBzdXBwb3J0IG1vcmUgY2xpZW50c1xuLyoqXG4gKiBHZXRzIGluZm8gZnJvbSBhIHZpZGVvIGFkZGl0aW9uYWwgZm9ybWF0cyBhbmQgZGVjaXBoZXJlZCBVUkxzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59XG4gKi9cbmV4cG9ydHMuZ2V0SW5mbyA9IGFzeW5jIChpZCwgb3B0aW9ucykgPT4ge1xuICB1dGlscy5hcHBseUlQdjZSb3RhdGlvbnMob3B0aW9ucyk7XG4gIHV0aWxzLmFwcGx5RGVmYXVsdEhlYWRlcnMob3B0aW9ucyk7XG4gIHV0aWxzLmFwcGx5RGVmYXVsdEFnZW50KG9wdGlvbnMpO1xuICB1dGlscy5hcHBseU9sZExvY2FsQWRkcmVzcyhvcHRpb25zKTtcbiAgdXRpbHMuYXBwbHlQbGF5ZXJDbGllbnRzKG9wdGlvbnMpO1xuICBjb25zdCBpbmZvID0gYXdhaXQgZXhwb3J0cy5nZXRCYXNpY0luZm8oaWQsIG9wdGlvbnMpO1xuICBsZXQgZnVuY3MgPSBbXTtcblxuICAvLyBGaWxsIGluIEhUTUw1IHBsYXllciBVUkxcbiAgaW5mby5odG1sNXBsYXllciA9XG4gICAgaW5mby5odG1sNXBsYXllciB8fFxuICAgIGdldEhUTUw1cGxheWVyKGF3YWl0IGdldFdhdGNoSFRNTFBhZ2VCb2R5KGlkLCBvcHRpb25zKSkgfHxcbiAgICBnZXRIVE1MNXBsYXllcihhd2FpdCBnZXRFbWJlZFBhZ2VCb2R5KGlkLCBvcHRpb25zKSk7XG5cbiAgaWYgKCFpbmZvLmh0bWw1cGxheWVyKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBodG1sNXBsYXllciBmaWxlXCIpO1xuICB9XG5cbiAgY29uc3QgaHRtbDVwbGF5ZXIgPSBuZXcgVVJMKGluZm8uaHRtbDVwbGF5ZXIsIEJBU0VfVVJMKS50b1N0cmluZygpO1xuXG4gIHRyeSB7XG4gICAgaWYgKG9wdGlvbnMucGxheWVyQ2xpZW50cy5pbmNsdWRlcyhcIldFQlwiKSkge1xuICAgICAgZnVuY3MucHVzaChzaWcuZGVjaXBoZXJGb3JtYXRzKHBhcnNlRm9ybWF0cyhpbmZvLnBsYXllcl9yZXNwb25zZSksIGh0bWw1cGxheWVyLCBvcHRpb25zKSk7XG4gICAgICBmdW5jcy5wdXNoKC4uLnBhcnNlQWRkaXRpb25hbE1hbmlmZXN0cyhpbmZvLnBsYXllcl9yZXNwb25zZSkpO1xuICAgIH1cbiAgICBpZiAoaW5mby52aWRlb0RldGFpbHMuYWdlX3Jlc3RyaWN0ZWQpIHRocm93IEVycm9yKFwiQ2Fubm90IGRvd25sb2FkIGFnZSByZXN0cmljdGVkIHZpZGVvcyB3aXRoIG1vYmlsZSBjbGllbnRzXCIpO1xuICAgIGNvbnN0IHByb21pc2VzID0gW107XG4gICAgaWYgKG9wdGlvbnMucGxheWVyQ2xpZW50cy5pbmNsdWRlcyhcIldFQl9DUkVBVE9SXCIpKSBwcm9taXNlcy5wdXNoKGZldGNoV2ViQ3JlYXRvclBsYXllcihpZCwgaHRtbDVwbGF5ZXIsIG9wdGlvbnMpKTtcbiAgICBpZiAob3B0aW9ucy5wbGF5ZXJDbGllbnRzLmluY2x1ZGVzKFwiSU9TXCIpKSBwcm9taXNlcy5wdXNoKGZldGNoSW9zSnNvblBsYXllcihpZCwgb3B0aW9ucykpO1xuICAgIGlmIChvcHRpb25zLnBsYXllckNsaWVudHMuaW5jbHVkZXMoXCJBTkRST0lEXCIpKSBwcm9taXNlcy5wdXNoKGZldGNoQW5kcm9pZEpzb25QbGF5ZXIoaWQsIG9wdGlvbnMpKTtcbiAgICBjb25zdCByZXNwb25zZXMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgIGluZm8uZm9ybWF0cyA9IFtdLmNvbmNhdCguLi5yZXNwb25zZXMubWFwKHIgPT4gcGFyc2VGb3JtYXRzKHIudmFsdWUpKSk7XG4gICAgaWYgKGluZm8uZm9ybWF0cy5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcihcIlBsYXllciBKU09OIEFQSSBmYWlsZWRcIik7XG5cbiAgICBmdW5jcy5wdXNoKHNpZy5kZWNpcGhlckZvcm1hdHMoaW5mby5mb3JtYXRzLCBodG1sNXBsYXllciwgb3B0aW9ucykpO1xuXG4gICAgZm9yIChsZXQgcmVzcCBvZiByZXNwb25zZXMpIHtcbiAgICAgIGlmIChyZXNwLnZhbHVlKSB7XG4gICAgICAgIGZ1bmNzLnB1c2goLi4ucGFyc2VBZGRpdGlvbmFsTWFuaWZlc3RzKHJlc3AudmFsdWUsIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKF8pIHt9XG5cbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChmdW5jcyk7XG4gIGluZm8uZm9ybWF0cyA9IE9iamVjdC52YWx1ZXMoT2JqZWN0LmFzc2lnbih7fSwgLi4ucmVzdWx0cykpO1xuICBpbmZvLmZvcm1hdHMgPSBpbmZvLmZvcm1hdHMubWFwKGZvcm1hdFV0aWxzLmFkZEZvcm1hdE1ldGEpO1xuICBpbmZvLmZvcm1hdHMuc29ydChmb3JtYXRVdGlscy5zb3J0Rm9ybWF0cyk7XG5cbiAgaW5mby5mdWxsID0gdHJ1ZTtcbiAgcmV0dXJuIGluZm87XG59O1xuXG5jb25zdCBnZXRQbGF5YmFja0NvbnRleHQgPSBhc3luYyAoaHRtbDVwbGF5ZXIsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgYm9keSA9IGF3YWl0IHV0aWxzLnJlcXVlc3QoaHRtbDVwbGF5ZXIsIG9wdGlvbnMpO1xuICBsZXQgbW8gPSBib2R5Lm1hdGNoKC9zaWduYXR1cmVUaW1lc3RhbXA6KFxcZCspLyk7XG5cbiAgcmV0dXJuIHtcbiAgICBjb250ZW50UGxheWJhY2tDb250ZXh0OiB7XG4gICAgICBodG1sNVByZWZlcmVuY2U6IFwiSFRNTDVfUFJFRl9XQU5UU1wiLFxuICAgICAgc2lnbmF0dXJlVGltZXN0YW1wOiBtbyA/IG1vWzFdIDogdW5kZWZpbmVkLFxuICAgIH0sXG4gIH07XG59O1xuXG5jb25zdCBMT0NBTEUgPSB7IGhsOiBcImVuXCIsIHRpbWVab25lOiBcIlVUQ1wiLCB1dGNPZmZzZXRNaW51dGVzOiAwIH0sXG4gIENIRUNLX0ZMQUdTID0geyBjb250ZW50Q2hlY2tPazogdHJ1ZSwgcmFjeUNoZWNrT2s6IHRydWUgfTtcblxuY29uc3QgV0VCX0NSRUFUT1JfQ09OVEVYVCA9IHtcbiAgY2xpZW50OiB7XG4gICAgY2xpZW50TmFtZTogXCJXRUJfQ1JFQVRPUlwiLFxuICAgIGNsaWVudFZlcnNpb246IFwiMS4yMDI0MTIxNS4wMy4wMFwiLFxuICAgIC4uLkxPQ0FMRSxcbiAgfSxcbn07XG5cbmNvbnN0IGZldGNoV2ViQ3JlYXRvclBsYXllciA9IGFzeW5jICh2aWRlb0lkLCBodG1sNXBsYXllciwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGNvbnRleHQ6IFdFQl9DUkVBVE9SX0NPTlRFWFQsXG4gICAgdmlkZW9JZCxcbiAgICBwbGF5YmFja0NvbnRleHQ6IGF3YWl0IGdldFBsYXliYWNrQ29udGV4dChodG1sNXBsYXllciwgb3B0aW9ucyksXG4gICAgLi4uQ0hFQ0tfRkxBR1MsXG4gIH07XG5cbiAgcmV0dXJuIGF3YWl0IHBsYXllckFQSSh2aWRlb0lkLCBwYXlsb2FkLCB1bmRlZmluZWQsIG9wdGlvbnMpO1xufTtcblxuY29uc3QgcGxheWVyQVBJID0gYXN5bmMgKHZpZGVvSWQsIHBheWxvYWQsIHVzZXJBZ2VudCwgb3B0aW9ucykgPT4ge1xuICBjb25zdCB7IGphciwgZGlzcGF0Y2hlciB9ID0gb3B0aW9ucy5hZ2VudDtcbiAgY29uc3Qgb3B0cyA9IHtcbiAgICByZXF1ZXN0T3B0aW9uczoge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGRpc3BhdGNoZXIsXG4gICAgICBxdWVyeToge1xuICAgICAgICBwcmV0dHlQcmludDogZmFsc2UsXG4gICAgICAgIHQ6IHV0aWxzLmdlbmVyYXRlQ2xpZW50UGxheWJhY2tOb25jZSgxMiksXG4gICAgICAgIGlkOiB2aWRlb0lkLFxuICAgICAgfSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIGNvb2tpZTogamFyLmdldENvb2tpZVN0cmluZ1N5bmMoXCJodHRwczovL3d3dy55b3V0dWJlLmNvbVwiKSxcbiAgICAgICAgXCJVc2VyLUFnZW50XCI6IHVzZXJBZ2VudCxcbiAgICAgICAgXCJYLUdvb2ctQXBpLUZvcm1hdC1WZXJzaW9uXCI6IFwiMlwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgIH0sXG4gIH07XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdXRpbHMucmVxdWVzdChcImh0dHBzOi8veW91dHViZWkuZ29vZ2xlYXBpcy5jb20veW91dHViZWkvdjEvcGxheWVyXCIsIG9wdHMpO1xuICBjb25zdCBwbGF5RXJyID0gdXRpbHMucGxheUVycm9yKHJlc3BvbnNlKTtcbiAgaWYgKHBsYXlFcnIpIHRocm93IHBsYXlFcnI7XG4gIGlmICghcmVzcG9uc2UudmlkZW9EZXRhaWxzIHx8IHZpZGVvSWQgIT09IHJlc3BvbnNlLnZpZGVvRGV0YWlscy52aWRlb0lkKSB7XG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwiTWFsZm9ybWVkIHJlc3BvbnNlIGZyb20gWW91VHViZVwiKTtcbiAgICBlcnIucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcblxuY29uc3QgSU9TX0NMSUVOVF9WRVJTSU9OID0gXCIxOS40Mi4xXCIsXG4gIElPU19ERVZJQ0VfTU9ERUwgPSBcImlQaG9uZTE2LDJcIixcbiAgSU9TX1VTRVJfQUdFTlRfVkVSU0lPTiA9IFwiMTdfNV8xXCIsXG4gIElPU19PU19WRVJTSU9OID0gXCIxNy41LjEuMjFGOTBcIjtcblxuY29uc3QgZmV0Y2hJb3NKc29uUGxheWVyID0gYXN5bmMgKHZpZGVvSWQsIG9wdGlvbnMpID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB2aWRlb0lkLFxuICAgIGNwbjogdXRpbHMuZ2VuZXJhdGVDbGllbnRQbGF5YmFja05vbmNlKDE2KSxcbiAgICBjb250ZW50Q2hlY2tPazogdHJ1ZSxcbiAgICByYWN5Q2hlY2tPazogdHJ1ZSxcbiAgICBjb250ZXh0OiB7XG4gICAgICBjbGllbnQ6IHtcbiAgICAgICAgY2xpZW50TmFtZTogXCJJT1NcIixcbiAgICAgICAgY2xpZW50VmVyc2lvbjogSU9TX0NMSUVOVF9WRVJTSU9OLFxuICAgICAgICBkZXZpY2VNYWtlOiBcIkFwcGxlXCIsXG4gICAgICAgIGRldmljZU1vZGVsOiBJT1NfREVWSUNFX01PREVMLFxuICAgICAgICBwbGF0Zm9ybTogXCJNT0JJTEVcIixcbiAgICAgICAgb3NOYW1lOiBcImlPU1wiLFxuICAgICAgICBvc1ZlcnNpb246IElPU19PU19WRVJTSU9OLFxuICAgICAgICBobDogXCJlblwiLFxuICAgICAgICBnbDogXCJVU1wiLFxuICAgICAgICB1dGNPZmZzZXRNaW51dGVzOiAtMjQwLFxuICAgICAgfSxcbiAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgaW50ZXJuYWxFeHBlcmltZW50RmxhZ3M6IFtdLFxuICAgICAgICB1c2VTc2w6IHRydWUsXG4gICAgICB9LFxuICAgICAgdXNlcjoge1xuICAgICAgICBsb2NrZWRTYWZldHlNb2RlOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCB7IGphciwgZGlzcGF0Y2hlciB9ID0gb3B0aW9ucy5hZ2VudDtcbiAgY29uc3Qgb3B0cyA9IHtcbiAgICByZXF1ZXN0T3B0aW9uczoge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGRpc3BhdGNoZXIsXG4gICAgICBxdWVyeToge1xuICAgICAgICBwcmV0dHlQcmludDogZmFsc2UsXG4gICAgICAgIHQ6IHV0aWxzLmdlbmVyYXRlQ2xpZW50UGxheWJhY2tOb25jZSgxMiksXG4gICAgICAgIGlkOiB2aWRlb0lkLFxuICAgICAgfSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIGNvb2tpZTogamFyLmdldENvb2tpZVN0cmluZ1N5bmMoXCJodHRwczovL3d3dy55b3V0dWJlLmNvbVwiKSxcbiAgICAgICAgXCJVc2VyLUFnZW50XCI6IGBjb20uZ29vZ2xlLmlvcy55b3V0dWJlLyR7SU9TX0NMSUVOVF9WRVJTSU9OfSgke1xuICAgICAgICAgIElPU19ERVZJQ0VfTU9ERUxcbiAgICAgICAgfTsgVTsgQ1BVIGlPUyAke0lPU19VU0VSX0FHRU5UX1ZFUlNJT059IGxpa2UgTWFjIE9TIFg7IGVuX1VTKWAsXG4gICAgICAgIFwiWC1Hb29nLUFwaS1Gb3JtYXQtVmVyc2lvblwiOiBcIjJcIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICB9LFxuICB9O1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHV0aWxzLnJlcXVlc3QoXCJodHRwczovL3lvdXR1YmVpLmdvb2dsZWFwaXMuY29tL3lvdXR1YmVpL3YxL3BsYXllclwiLCBvcHRzKTtcbiAgY29uc3QgcGxheUVyciA9IHV0aWxzLnBsYXlFcnJvcihyZXNwb25zZSk7XG4gIGlmIChwbGF5RXJyKSB0aHJvdyBwbGF5RXJyO1xuICBpZiAoIXJlc3BvbnNlLnZpZGVvRGV0YWlscyB8fCB2aWRlb0lkICE9PSByZXNwb25zZS52aWRlb0RldGFpbHMudmlkZW9JZCkge1xuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcIk1hbGZvcm1lZCByZXNwb25zZSBmcm9tIFlvdVR1YmVcIik7XG4gICAgZXJyLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn07XG5cbmNvbnN0IEFORFJPSURfQ0xJRU5UX1ZFUlNJT04gPSBcIjE5LjMwLjM2XCIsXG4gIEFORFJPSURfT1NfVkVSU0lPTiA9IFwiMTRcIixcbiAgQU5EUk9JRF9TREtfVkVSU0lPTiA9IFwiMzRcIjtcblxuY29uc3QgZmV0Y2hBbmRyb2lkSnNvblBsYXllciA9IGFzeW5jICh2aWRlb0lkLCBvcHRpb25zKSA9PiB7XG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdmlkZW9JZCxcbiAgICBjcG46IHV0aWxzLmdlbmVyYXRlQ2xpZW50UGxheWJhY2tOb25jZSgxNiksXG4gICAgY29udGVudENoZWNrT2s6IHRydWUsXG4gICAgcmFjeUNoZWNrT2s6IHRydWUsXG4gICAgY29udGV4dDoge1xuICAgICAgY2xpZW50OiB7XG4gICAgICAgIGNsaWVudE5hbWU6IFwiQU5EUk9JRFwiLFxuICAgICAgICBjbGllbnRWZXJzaW9uOiBBTkRST0lEX0NMSUVOVF9WRVJTSU9OLFxuICAgICAgICBwbGF0Zm9ybTogXCJNT0JJTEVcIixcbiAgICAgICAgb3NOYW1lOiBcIkFuZHJvaWRcIixcbiAgICAgICAgb3NWZXJzaW9uOiBBTkRST0lEX09TX1ZFUlNJT04sXG4gICAgICAgIGFuZHJvaWRTZGtWZXJzaW9uOiBBTkRST0lEX1NES19WRVJTSU9OLFxuICAgICAgICBobDogXCJlblwiLFxuICAgICAgICBnbDogXCJVU1wiLFxuICAgICAgICB1dGNPZmZzZXRNaW51dGVzOiAtMjQwLFxuICAgICAgfSxcbiAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgaW50ZXJuYWxFeHBlcmltZW50RmxhZ3M6IFtdLFxuICAgICAgICB1c2VTc2w6IHRydWUsXG4gICAgICB9LFxuICAgICAgdXNlcjoge1xuICAgICAgICBsb2NrZWRTYWZldHlNb2RlOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCB7IGphciwgZGlzcGF0Y2hlciB9ID0gb3B0aW9ucy5hZ2VudDtcbiAgY29uc3Qgb3B0cyA9IHtcbiAgICByZXF1ZXN0T3B0aW9uczoge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGRpc3BhdGNoZXIsXG4gICAgICBxdWVyeToge1xuICAgICAgICBwcmV0dHlQcmludDogZmFsc2UsXG4gICAgICAgIHQ6IHV0aWxzLmdlbmVyYXRlQ2xpZW50UGxheWJhY2tOb25jZSgxMiksXG4gICAgICAgIGlkOiB2aWRlb0lkLFxuICAgICAgfSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIGNvb2tpZTogamFyLmdldENvb2tpZVN0cmluZ1N5bmMoXCJodHRwczovL3d3dy55b3V0dWJlLmNvbVwiKSxcbiAgICAgICAgXCJVc2VyLUFnZW50XCI6IGBjb20uZ29vZ2xlLmFuZHJvaWQueW91dHViZS8ke1xuICAgICAgICAgIEFORFJPSURfQ0xJRU5UX1ZFUlNJT05cbiAgICAgICAgfSAoTGludXg7IFU7IEFuZHJvaWQgJHtBTkRST0lEX09TX1ZFUlNJT059OyBlbl9VUykgZ3ppcGAsXG4gICAgICAgIFwiWC1Hb29nLUFwaS1Gb3JtYXQtVmVyc2lvblwiOiBcIjJcIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICB9LFxuICB9O1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHV0aWxzLnJlcXVlc3QoXCJodHRwczovL3lvdXR1YmVpLmdvb2dsZWFwaXMuY29tL3lvdXR1YmVpL3YxL3BsYXllclwiLCBvcHRzKTtcbiAgY29uc3QgcGxheUVyciA9IHV0aWxzLnBsYXlFcnJvcihyZXNwb25zZSk7XG4gIGlmIChwbGF5RXJyKSB0aHJvdyBwbGF5RXJyO1xuICBpZiAoIXJlc3BvbnNlLnZpZGVvRGV0YWlscyB8fCB2aWRlb0lkICE9PSByZXNwb25zZS52aWRlb0RldGFpbHMudmlkZW9JZCkge1xuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcIk1hbGZvcm1lZCByZXNwb25zZSBmcm9tIFlvdVR1YmVcIik7XG4gICAgZXJyLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn07XG5cbi8qKlxuICogR2V0cyBhZGRpdGlvbmFsIERBU0ggZm9ybWF0cy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2U8QXJyYXkuPE9iamVjdD4+fVxuICovXG5jb25zdCBnZXREYXNoTWFuaWZlc3QgPSAodXJsLCBvcHRpb25zKSA9PlxuICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGZvcm1hdHMgPSB7fTtcbiAgICBjb25zdCBwYXJzZXIgPSBzYXgucGFyc2VyKGZhbHNlKTtcbiAgICBwYXJzZXIub25lcnJvciA9IHJlamVjdDtcbiAgICBsZXQgYWRhcHRhdGlvblNldDtcbiAgICBwYXJzZXIub25vcGVudGFnID0gbm9kZSA9PiB7XG4gICAgICBpZiAobm9kZS5uYW1lID09PSBcIkFEQVBUQVRJT05TRVRcIikge1xuICAgICAgICBhZGFwdGF0aW9uU2V0ID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgfSBlbHNlIGlmIChub2RlLm5hbWUgPT09IFwiUkVQUkVTRU5UQVRJT05cIikge1xuICAgICAgICBjb25zdCBpdGFnID0gcGFyc2VJbnQobm9kZS5hdHRyaWJ1dGVzLklEKTtcbiAgICAgICAgaWYgKCFpc05hTihpdGFnKSkge1xuICAgICAgICAgIGZvcm1hdHNbdXJsXSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGl0YWcsXG4gICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgYml0cmF0ZTogcGFyc2VJbnQobm9kZS5hdHRyaWJ1dGVzLkJBTkRXSURUSCksXG4gICAgICAgICAgICAgIG1pbWVUeXBlOiBgJHthZGFwdGF0aW9uU2V0Lk1JTUVUWVBFfTsgY29kZWNzPVwiJHtub2RlLmF0dHJpYnV0ZXMuQ09ERUNTfVwiYCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub2RlLmF0dHJpYnV0ZXMuSEVJR0hUXG4gICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KG5vZGUuYXR0cmlidXRlcy5XSURUSCksXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KG5vZGUuYXR0cmlidXRlcy5IRUlHSFQpLFxuICAgICAgICAgICAgICAgICAgZnBzOiBwYXJzZUludChub2RlLmF0dHJpYnV0ZXMuRlJBTUVSQVRFKSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgYXVkaW9TYW1wbGVSYXRlOiBub2RlLmF0dHJpYnV0ZXMuQVVESU9TQU1QTElOR1JBVEUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBwYXJzZXIub25lbmQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKGZvcm1hdHMpO1xuICAgIH07XG4gICAgdXRpbHNcbiAgICAgIC5yZXF1ZXN0KG5ldyBVUkwodXJsLCBCQVNFX1VSTCkudG9TdHJpbmcoKSwgb3B0aW9ucylcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIHBhcnNlci53cml0ZShyZXMpO1xuICAgICAgICBwYXJzZXIuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgfSk7XG5cbi8qKlxuICogR2V0cyBhZGRpdGlvbmFsIGZvcm1hdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5LjxPYmplY3Q+Pn1cbiAqL1xuY29uc3QgZ2V0TTNVOCA9IGFzeW5jICh1cmwsIG9wdGlvbnMpID0+IHtcbiAgdXJsID0gbmV3IFVSTCh1cmwsIEJBU0VfVVJMKTtcbiAgY29uc3QgYm9keSA9IGF3YWl0IHV0aWxzLnJlcXVlc3QodXJsLnRvU3RyaW5nKCksIG9wdGlvbnMpO1xuICBsZXQgZm9ybWF0cyA9IHt9O1xuICBib2R5XG4gICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgLmZpbHRlcihsaW5lID0+IC9eaHR0cHM/OlxcL1xcLy8udGVzdChsaW5lKSlcbiAgICAuZm9yRWFjaChsaW5lID0+IHtcbiAgICAgIGNvbnN0IGl0YWcgPSBwYXJzZUludChsaW5lLm1hdGNoKC9cXC9pdGFnXFwvKFxcZCspXFwvLylbMV0pO1xuICAgICAgZm9ybWF0c1tsaW5lXSA9IHsgaXRhZywgdXJsOiBsaW5lIH07XG4gICAgfSk7XG4gIHJldHVybiBmb3JtYXRzO1xufTtcblxuLy8gQ2FjaGUgZ2V0IGluZm8gZnVuY3Rpb25zLlxuLy8gSW4gY2FzZSBhIHVzZXIgd2FudHMgdG8gZ2V0IGEgdmlkZW8ncyBpbmZvIGJlZm9yZSBkb3dubG9hZGluZy5cbmZvciAobGV0IGZ1bmNOYW1lIG9mIFtcImdldEJhc2ljSW5mb1wiLCBcImdldEluZm9cIl0pIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaW5rXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdD59XG4gICAqL1xuICBjb25zdCBmdW5jID0gZXhwb3J0c1tmdW5jTmFtZV07XG4gIGV4cG9ydHNbZnVuY05hbWVdID0gYXN5bmMgKGxpbmssIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIHV0aWxzLmNoZWNrRm9yVXBkYXRlcygpO1xuICAgIGxldCBpZCA9IGF3YWl0IHVybFV0aWxzLmdldFZpZGVvSUQobGluayk7XG4gICAgY29uc3Qga2V5ID0gW2Z1bmNOYW1lLCBpZCwgb3B0aW9ucy5sYW5nXS5qb2luKFwiLVwiKTtcbiAgICByZXR1cm4gZXhwb3J0cy5jYWNoZS5nZXRPclNldChrZXksICgpID0+IGZ1bmMoaWQsIG9wdGlvbnMpKTtcbiAgfTtcbn1cblxuLy8gRXhwb3J0IGEgZmV3IGhlbHBlcnMuXG5leHBvcnRzLnZhbGlkYXRlSUQgPSB1cmxVdGlscy52YWxpZGF0ZUlEO1xuZXhwb3J0cy52YWxpZGF0ZVVSTCA9IHVybFV0aWxzLnZhbGlkYXRlVVJMO1xuZXhwb3J0cy5nZXRVUkxWaWRlb0lEID0gdXJsVXRpbHMuZ2V0VVJMVmlkZW9JRDtcbmV4cG9ydHMuZ2V0VmlkZW9JRCA9IHVybFV0aWxzLmdldFZpZGVvSUQ7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/info.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/sig.js":
/*!****************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/sig.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const querystring = __webpack_require__(/*! querystring */ \"querystring\");\nconst Cache = __webpack_require__(/*! ./cache */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/cache.js\");\nconst utils = __webpack_require__(/*! ./utils */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/utils.js\");\nconst vm = __webpack_require__(/*! vm */ \"vm\");\n\n// A shared cache to keep track of html5player js functions.\nexports.cache = new Cache(1);\n\n/**\n * Extract signature deciphering and n parameter transform functions from html5player file.\n *\n * @param {string} html5playerfile\n * @param {Object} options\n * @returns {Promise<Array.<string>>}\n */\nexports.getFunctions = (html5playerfile, options) =>\n  exports.cache.getOrSet(html5playerfile, async () => {\n    const body = await utils.request(html5playerfile, options);\n    const functions = exports.extractFunctions(body);\n    exports.cache.set(html5playerfile, functions);\n    return functions;\n  });\n\n// NewPipeExtractor regexps\nconst DECIPHER_NAME_REGEXPS = [\n  \"\\\\bm=([a-zA-Z0-9$]{2,})\\\\(decodeURIComponent\\\\(h\\\\.s\\\\)\\\\)\",\n  \"\\\\bc&&\\\\(c=([a-zA-Z0-9$]{2,})\\\\(decodeURIComponent\\\\(c\\\\)\\\\)\",\n  '(?:\\\\b|[^a-zA-Z0-9$])([a-zA-Z0-9$]{2,})\\\\s*=\\\\s*function\\\\(\\\\s*a\\\\s*\\\\)\\\\s*\\\\{\\\\s*a\\\\s*=\\\\s*a\\\\.split\\\\(\\\\s*\"\"\\\\s*\\\\)',\n  '([\\\\w$]+)\\\\s*=\\\\s*function\\\\((\\\\w+)\\\\)\\\\{\\\\s*\\\\2=\\\\s*\\\\2\\\\.split\\\\(\"\"\\\\)\\\\s*;',\n];\n\n// LavaPlayer regexps\nconst VARIABLE_PART = \"[a-zA-Z_\\\\$][a-zA-Z_0-9]*\";\nconst VARIABLE_PART_DEFINE = `\\\\\"?${VARIABLE_PART}\\\\\"?`;\nconst BEFORE_ACCESS = '(?:\\\\[\\\\\"|\\\\.)';\nconst AFTER_ACCESS = '(?:\\\\\"\\\\]|)';\nconst VARIABLE_PART_ACCESS = BEFORE_ACCESS + VARIABLE_PART + AFTER_ACCESS;\nconst REVERSE_PART = \":function\\\\(\\\\w\\\\)\\\\{(?:return )?\\\\w\\\\.reverse\\\\(\\\\)\\\\}\";\nconst SLICE_PART = \":function\\\\(\\\\w,\\\\w\\\\)\\\\{return \\\\w\\\\.slice\\\\(\\\\w\\\\)\\\\}\";\nconst SPLICE_PART = \":function\\\\(\\\\w,\\\\w\\\\)\\\\{\\\\w\\\\.splice\\\\(0,\\\\w\\\\)\\\\}\";\nconst SWAP_PART =\n  \":function\\\\(\\\\w,\\\\w\\\\)\\\\{var \\\\w=\\\\w\\\\[0\\\\];\\\\w\\\\[0\\\\]=\\\\w\\\\[\\\\w%\\\\w\\\\.length\\\\];\\\\w\\\\[\\\\w(?:%\\\\w.length|)\\\\]=\\\\w(?:;return \\\\w)?\\\\}\";\n\nconst DECIPHER_REGEXP =\n  `function(?: ${VARIABLE_PART})?\\\\(([a-zA-Z])\\\\)\\\\{` +\n  '\\\\1=\\\\1\\\\.split\\\\(\"\"\\\\);\\\\s*' +\n  `((?:(?:\\\\1=)?${VARIABLE_PART}${VARIABLE_PART_ACCESS}\\\\(\\\\1,\\\\d+\\\\);)+)` +\n  'return \\\\1\\\\.join\\\\(\"\"\\\\)' +\n  `\\\\}`;\n\nconst HELPER_REGEXP = `var (${VARIABLE_PART})=\\\\{((?:(?:${VARIABLE_PART_DEFINE}${REVERSE_PART}|${\n  VARIABLE_PART_DEFINE\n}${SLICE_PART}|${VARIABLE_PART_DEFINE}${SPLICE_PART}|${VARIABLE_PART_DEFINE}${SWAP_PART}),?\\\\n?)+)\\\\};`;\n\nconst SCVR = \"[a-zA-Z0-9$_]\";\nconst MCR = `${SCVR}+`;\nconst AAR = \"\\\\[(\\\\d+)]\";\nconst N_TRANSFORM_NAME_REGEXPS = [\n  // NewPipeExtractor regexps\n  `${SCVR}=\"nn\"\\\\[\\\\+${MCR}\\\\.${MCR}],${MCR}\\\\(${MCR}\\\\),${MCR}=${MCR}\\\\.${MCR}\\\\[${MCR}]\\\\|\\\\|null\\\\).+\\\\|\\\\|(${MCR})\\\\(\"\"\\\\)`,\n  `${SCVR}=\"nn\"\\\\[\\\\+${MCR}\\\\.${MCR}],${MCR}\\\\(${MCR}\\\\),${MCR}=${MCR}\\\\.${MCR}\\\\[${MCR}]\\\\|\\\\|null\\\\)&&\\\\(${MCR}=(${MCR})${AAR}`,\n  `${SCVR}=\"nn\"\\\\[\\\\+${MCR}\\\\.${MCR}],${MCR}=${MCR}\\\\.get\\\\(${MCR}\\\\)\\\\).+\\\\|\\\\|(${MCR})\\\\(\"\"\\\\)`,\n  `${SCVR}=\"nn\"\\\\[\\\\+${MCR}\\\\.${MCR}],${MCR}=${MCR}\\\\.get\\\\(${MCR}\\\\)\\\\)&&\\\\(${MCR}=(${MCR})\\\\[(\\\\d+)]`,\n  `\\\\(${SCVR}=String\\\\.fromCharCode\\\\(110\\\\),${SCVR}=${SCVR}\\\\.get\\\\(${SCVR}\\\\)\\\\)&&\\\\(${SCVR}=(${MCR})(?:${AAR})?\\\\(${SCVR}\\\\)`,\n  `\\\\.get\\\\(\"n\"\\\\)\\\\)&&\\\\(${SCVR}=(${MCR})(?:${AAR})?\\\\(${SCVR}\\\\)`,\n];\n\n// LavaPlayer regexps\nconst N_TRANSFORM_REGEXP =\n  \"function\\\\(\\\\s*(\\\\w+)\\\\s*\\\\)\\\\s*\\\\{\" +\n  \"var\\\\s*(\\\\w+)=(?:\\\\1\\\\.split\\\\(.*?\\\\)|String\\\\.prototype\\\\.split\\\\.call\\\\(\\\\1,.*?\\\\)),\" +\n  \"\\\\s*(\\\\w+)=(\\\\[.*?]);\\\\s*\\\\3\\\\[\\\\d+]\" +\n  \"(.*?try)(\\\\{.*?})catch\\\\(\\\\s*(\\\\w+)\\\\s*\\\\)\\\\s*\\\\{\" +\n  '\\\\s*return\"[\\\\w-]+([A-z0-9-]+)\"\\\\s*\\\\+\\\\s*\\\\1\\\\s*}' +\n  '\\\\s*return\\\\s*(\\\\2\\\\.join\\\\(\"\"\\\\)|Array\\\\.prototype\\\\.join\\\\.call\\\\(\\\\2,.*?\\\\))};';\n\nconst DECIPHER_ARGUMENT = \"sig\";\nconst N_ARGUMENT = \"ncode\";\n\nconst matchRegex = (regex, str) => {\n  const match = str.match(new RegExp(regex, \"s\"));\n  if (!match) throw new Error(`Could not match ${regex}`);\n  return match;\n};\n\nconst matchFirst = (regex, str) => matchRegex(regex, str)[0];\n\nconst matchGroup1 = (regex, str) => matchRegex(regex, str)[1];\n\nconst getFuncName = (body, regexps) => {\n  let fn;\n  for (const regex of regexps) {\n    try {\n      fn = matchGroup1(regex, body);\n      try {\n        fn = matchGroup1(`${fn.replace(/\\$/g, \"\\\\$\")}=\\\\[([a-zA-Z0-9$\\\\[\\\\]]{2,})\\\\]`, body);\n      } catch (err) {\n        // Function name is not inside an array\n      }\n      break;\n    } catch (err) {\n      continue;\n    }\n  }\n  if (!fn || fn.includes(\"[\")) throw Error();\n  return fn;\n};\n\nconst DECIPHER_FUNC_NAME = \"DisTubeDecipherFunc\";\nconst extractDecipherFunc = (exports.d1 = body => {\n  try {\n    const helperObject = matchFirst(HELPER_REGEXP, body);\n    const decipherFunc = matchFirst(DECIPHER_REGEXP, body);\n    const resultFunc = `var ${DECIPHER_FUNC_NAME}=${decipherFunc};`;\n    const callerFunc = `${DECIPHER_FUNC_NAME}(${DECIPHER_ARGUMENT});`;\n    return helperObject + resultFunc + callerFunc;\n  } catch (e) {\n    return null;\n  }\n});\n\nconst extractDecipherWithName = (exports.d2 = body => {\n  try {\n    const decipherFuncName = getFuncName(body, DECIPHER_NAME_REGEXPS);\n    const funcPattern = `(${decipherFuncName.replace(/\\$/g, \"\\\\$\")}=function\\\\([a-zA-Z0-9_]+\\\\)\\\\{.+?\\\\})`;\n    const decipherFunc = `var ${matchGroup1(funcPattern, body)};`;\n    const helperObjectName = matchGroup1(\";([A-Za-z0-9_\\\\$]{2,})\\\\.\\\\w+\\\\(\", decipherFunc);\n    const helperPattern = `(var ${helperObjectName.replace(/\\$/g, \"\\\\$\")}=\\\\{[\\\\s\\\\S]+?\\\\}\\\\};)`;\n    const helperObject = matchGroup1(helperPattern, body);\n    const callerFunc = `${decipherFuncName}(${DECIPHER_ARGUMENT});`;\n    return helperObject + decipherFunc + callerFunc;\n  } catch (e) {\n    return null;\n  }\n});\n\nconst getExtractFunctions = (extractFunctions, body, postProcess = null) => {\n  for (const extractFunction of extractFunctions) {\n    try {\n      const func = extractFunction(body);\n      if (!func) continue;\n      return new vm.Script(postProcess ? postProcess(func) : func);\n    } catch (err) {\n      continue;\n    }\n  }\n  return null;\n};\n\nlet decipherWarning = false;\n// This is required function to get the stream url, but we can continue if user doesn't need stream url.\nconst extractDecipher = body => {\n  // Faster: extractDecipherFunc\n  const decipherFunc = getExtractFunctions([extractDecipherFunc, extractDecipherWithName], body);\n  if (!decipherFunc && !decipherWarning) {\n    console.warn(\n      \"\\x1b[33mWARNING:\\x1B[0m Could not parse decipher function.\\n\" +\n        \"Stream URLs will be missing.\\n\" +\n        `Please report this issue with the \"${utils.saveDebugFile(\n          \"base.js\",\n          body,\n        )}\" file on https://github.com/distubejs/ytdl-core/issues/144.`,\n    );\n    decipherWarning = true;\n  }\n  return decipherFunc;\n};\n\nconst N_TRANSFORM_FUNC_NAME = \"DisTubeNTransformFunc\";\nconst extractNTransformFunc = (exports.n1 = body => {\n  try {\n    const nFunc = matchFirst(N_TRANSFORM_REGEXP, body);\n    const resultFunc = `var ${N_TRANSFORM_FUNC_NAME}=${nFunc}`;\n    const callerFunc = `${N_TRANSFORM_FUNC_NAME}(${N_ARGUMENT});`;\n    return resultFunc + callerFunc;\n  } catch (e) {\n    return null;\n  }\n});\n\nconst extractNTransformWithName = (exports.n2 = body => {\n  try {\n    const nFuncName = getFuncName(body, N_TRANSFORM_NAME_REGEXPS);\n    const funcPattern = `(${nFuncName.replace(/\\$/g, \"\\\\$\")}=function\\\\([a-zA-Z0-9_]+\\\\)\\\\{.+?\\\\})`;\n    const nTransformFunc = `var ${matchGroup1(funcPattern, body)};`;\n    const callerFunc = `${nFuncName}(${N_ARGUMENT});`;\n    return nTransformFunc + callerFunc;\n  } catch (e) {\n    return null;\n  }\n});\n\nlet nTransformWarning = false;\nconst extractNTransform = body => {\n  // Faster: extractNTransformFunc\n  const nTransformFunc = getExtractFunctions([extractNTransformFunc, extractNTransformWithName], body, code =>\n    code.replace(/if\\(typeof \\S+===\"undefined\"\\)return \\S+;/, \"\"),\n  );\n  if (!nTransformFunc && !nTransformWarning) {\n    // This is optional, so we can continue if it's not found, but it will bottleneck the download.\n    console.warn(\n      \"\\x1b[33mWARNING:\\x1B[0m Could not parse n transform function.\\n\" +\n        `Please report this issue with the \"${utils.saveDebugFile(\n          \"base.js\",\n          body,\n        )}\" file on https://github.com/distubejs/ytdl-core/issues/144.`,\n    );\n    nTransformWarning = true;\n  }\n  return nTransformFunc;\n};\n\n/**\n * Extracts the actions that should be taken to decipher a signature\n * and transform the n parameter\n *\n * @param {string} body\n * @returns {Array.<string>}\n */\nexports.extractFunctions = body => [extractDecipher(body), extractNTransform(body)];\n\n/**\n * Apply decipher and n-transform to individual format\n *\n * @param {Object} format\n * @param {vm.Script} decipherScript\n * @param {vm.Script} nTransformScript\n */\nexports.setDownloadURL = (format, decipherScript, nTransformScript) => {\n  if (!decipherScript) return;\n  const decipher = url => {\n    const args = querystring.parse(url);\n    if (!args.s) return args.url;\n    const components = new URL(decodeURIComponent(args.url));\n    const context = {};\n    context[DECIPHER_ARGUMENT] = decodeURIComponent(args.s);\n    components.searchParams.set(args.sp || \"sig\", decipherScript.runInNewContext(context));\n    return components.toString();\n  };\n  const nTransform = url => {\n    const components = new URL(decodeURIComponent(url));\n    const n = components.searchParams.get(\"n\");\n    if (!n || !nTransformScript) return url;\n    const context = {};\n    context[N_ARGUMENT] = n;\n    components.searchParams.set(\"n\", nTransformScript.runInNewContext(context));\n    return components.toString();\n  };\n  const cipher = !format.url;\n  const url = format.url || format.signatureCipher || format.cipher;\n  format.url = nTransform(cipher ? decipher(url) : url);\n  delete format.signatureCipher;\n  delete format.cipher;\n};\n\n/**\n * Applies decipher and n parameter transforms to all format URL's.\n *\n * @param {Array.<Object>} formats\n * @param {string} html5player\n * @param {Object} options\n */\nexports.decipherFormats = async (formats, html5player, options) => {\n  const decipheredFormats = {};\n  const [decipherScript, nTransformScript] = await exports.getFunctions(html5player, options);\n  formats.forEach(format => {\n    exports.setDownloadURL(format, decipherScript, nTransformScript);\n    decipheredFormats[format.url] = format;\n  });\n  return decipheredFormats;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi9zaWcuanMiLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CLG1CQUFPLENBQUMsZ0NBQWE7QUFDekMsY0FBYyxtQkFBTyxDQUFDLHFFQUFTO0FBQy9CLGNBQWMsbUJBQU8sQ0FBQyxxRUFBUztBQUMvQixXQUFXLG1CQUFPLENBQUMsY0FBSTs7QUFFdkI7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxzQkFBc0IsR0FBRztBQUN6Qiw0QkFBNEIsR0FBRztBQUMvQixzQ0FBc0MsR0FBRyx3Q0FBd0M7QUFDakYsNENBQTRDLG9DQUFvQztBQUNoRjs7QUFFQTtBQUNBO0FBQ0Esb0NBQW9DLGNBQWM7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGtDQUFrQztBQUM3RSw2Q0FBNkMsOEJBQThCO0FBQzNFLDhDQUE4QywwQkFBMEI7QUFDeEU7QUFDQSw0QkFBNEIsbUJBQW1CLHFDQUFxQyxvQ0FBb0MsZUFBZTs7QUFFdkk7QUFDQSxpQkFBaUIsY0FBYyxxQkFBcUI7QUFDcEQsMkJBQTJCO0FBQzNCLGtCQUFrQixjQUFjLEVBQUUscUJBQXFCLGVBQWU7QUFDdEU7QUFDQSxNQUFNOztBQUVOLDhCQUE4QixjQUFjLEtBQUssU0FBUyxxQkFBcUIsRUFBRSxhQUFhO0FBQzlGO0FBQ0EsQ0FBQyxFQUFFLFdBQVcsR0FBRyxxQkFBcUIsRUFBRSxZQUFZLEdBQUcscUJBQXFCLEVBQUUsVUFBVSxjQUFjOztBQUV0RztBQUNBLGVBQWUsS0FBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUssYUFBYSxJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxHQUFHLElBQUksS0FBSyxJQUFJLEtBQUssSUFBSSx5QkFBeUIsSUFBSTtBQUNySCxLQUFLLEtBQUssYUFBYSxJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxHQUFHLElBQUksS0FBSyxJQUFJLEtBQUssSUFBSSxxQkFBcUIsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJO0FBQ2hJLEtBQUssS0FBSyxhQUFhLElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLGlCQUFpQixJQUFJO0FBQ3ZGLEtBQUssS0FBSyxhQUFhLElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLGFBQWEsSUFBSSxJQUFJLElBQUk7QUFDM0YsUUFBUSxLQUFLLGtDQUFrQyxLQUFLLEdBQUcsS0FBSyxXQUFXLEtBQUssYUFBYSxLQUFLLElBQUksSUFBSSxNQUFNLElBQUksT0FBTyxLQUFLO0FBQzVILDRCQUE0QixLQUFLLElBQUksSUFBSSxNQUFNLElBQUksT0FBTyxLQUFLO0FBQy9EOztBQUVBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQSx3QkFBd0I7QUFDeEIsZUFBZSxJQUFJLGlDQUFpQztBQUNwRCxxREFBcUQ7QUFDckQsb0ZBQW9GOztBQUVwRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpREFBaUQsTUFBTTtBQUN2RDtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix5QkFBeUIsd0JBQXdCLEdBQUc7QUFDaEYsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIsVUFBVTtBQUN2QztBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsbUJBQW1CLEdBQUcsY0FBYztBQUNsRSwwQkFBMEIsbUJBQW1CLEdBQUcsa0JBQWtCLEVBQUU7QUFDcEU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLENBQUM7O0FBRUQsaUNBQWlDLFVBQVU7QUFDM0M7QUFDQTtBQUNBLDRCQUE0Qix1Q0FBdUMsK0JBQStCLE1BQU07QUFDeEcsZ0NBQWdDLGdDQUFnQztBQUNoRSwyQ0FBMkMsaUJBQWlCLEdBQUc7QUFDL0Qsa0NBQWtDLHVDQUF1QyxJQUFJLGFBQWEsSUFBSTtBQUM5RjtBQUNBLDBCQUEwQixpQkFBaUIsR0FBRyxrQkFBa0IsRUFBRTtBQUNsRTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLFVBQVU7QUFDekM7QUFDQTtBQUNBLDhCQUE4QixzQkFBc0IsR0FBRyxNQUFNO0FBQzdELDBCQUEwQixzQkFBc0IsR0FBRyxXQUFXLEVBQUU7QUFDaEU7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLENBQUM7O0FBRUQsbUNBQW1DLFVBQVU7QUFDN0M7QUFDQTtBQUNBLDRCQUE0QixnQ0FBZ0MsK0JBQStCLE1BQU07QUFDakcsa0NBQWtDLGdDQUFnQztBQUNsRSwwQkFBMEIsVUFBVSxHQUFHLFdBQVcsRUFBRTtBQUNwRDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSx3QkFBd0I7O0FBRXhCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFdBQVc7QUFDdEIsV0FBVyxXQUFXO0FBQ3RCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJ1cmFrXFxEb2N1bWVudHNcXEdpdEh1YlxceW91dHViZS1kb3dubG9hZGVyXFxub2RlX21vZHVsZXNcXEBkaXN0dWJlXFx5dGRsLWNvcmVcXGxpYlxcc2lnLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHF1ZXJ5c3RyaW5nID0gcmVxdWlyZShcInF1ZXJ5c3RyaW5nXCIpO1xuY29uc3QgQ2FjaGUgPSByZXF1aXJlKFwiLi9jYWNoZVwiKTtcbmNvbnN0IHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5jb25zdCB2bSA9IHJlcXVpcmUoXCJ2bVwiKTtcblxuLy8gQSBzaGFyZWQgY2FjaGUgdG8ga2VlcCB0cmFjayBvZiBodG1sNXBsYXllciBqcyBmdW5jdGlvbnMuXG5leHBvcnRzLmNhY2hlID0gbmV3IENhY2hlKDEpO1xuXG4vKipcbiAqIEV4dHJhY3Qgc2lnbmF0dXJlIGRlY2lwaGVyaW5nIGFuZCBuIHBhcmFtZXRlciB0cmFuc2Zvcm0gZnVuY3Rpb25zIGZyb20gaHRtbDVwbGF5ZXIgZmlsZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbDVwbGF5ZXJmaWxlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2U8QXJyYXkuPHN0cmluZz4+fVxuICovXG5leHBvcnRzLmdldEZ1bmN0aW9ucyA9IChodG1sNXBsYXllcmZpbGUsIG9wdGlvbnMpID0+XG4gIGV4cG9ydHMuY2FjaGUuZ2V0T3JTZXQoaHRtbDVwbGF5ZXJmaWxlLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHV0aWxzLnJlcXVlc3QoaHRtbDVwbGF5ZXJmaWxlLCBvcHRpb25zKTtcbiAgICBjb25zdCBmdW5jdGlvbnMgPSBleHBvcnRzLmV4dHJhY3RGdW5jdGlvbnMoYm9keSk7XG4gICAgZXhwb3J0cy5jYWNoZS5zZXQoaHRtbDVwbGF5ZXJmaWxlLCBmdW5jdGlvbnMpO1xuICAgIHJldHVybiBmdW5jdGlvbnM7XG4gIH0pO1xuXG4vLyBOZXdQaXBlRXh0cmFjdG9yIHJlZ2V4cHNcbmNvbnN0IERFQ0lQSEVSX05BTUVfUkVHRVhQUyA9IFtcbiAgXCJcXFxcYm09KFthLXpBLVowLTkkXXsyLH0pXFxcXChkZWNvZGVVUklDb21wb25lbnRcXFxcKGhcXFxcLnNcXFxcKVxcXFwpXCIsXG4gIFwiXFxcXGJjJiZcXFxcKGM9KFthLXpBLVowLTkkXXsyLH0pXFxcXChkZWNvZGVVUklDb21wb25lbnRcXFxcKGNcXFxcKVxcXFwpXCIsXG4gICcoPzpcXFxcYnxbXmEtekEtWjAtOSRdKShbYS16QS1aMC05JF17Mix9KVxcXFxzKj1cXFxccypmdW5jdGlvblxcXFwoXFxcXHMqYVxcXFxzKlxcXFwpXFxcXHMqXFxcXHtcXFxccyphXFxcXHMqPVxcXFxzKmFcXFxcLnNwbGl0XFxcXChcXFxccypcIlwiXFxcXHMqXFxcXCknLFxuICAnKFtcXFxcdyRdKylcXFxccyo9XFxcXHMqZnVuY3Rpb25cXFxcKChcXFxcdyspXFxcXClcXFxce1xcXFxzKlxcXFwyPVxcXFxzKlxcXFwyXFxcXC5zcGxpdFxcXFwoXCJcIlxcXFwpXFxcXHMqOycsXG5dO1xuXG4vLyBMYXZhUGxheWVyIHJlZ2V4cHNcbmNvbnN0IFZBUklBQkxFX1BBUlQgPSBcIlthLXpBLVpfXFxcXCRdW2EtekEtWl8wLTldKlwiO1xuY29uc3QgVkFSSUFCTEVfUEFSVF9ERUZJTkUgPSBgXFxcXFwiPyR7VkFSSUFCTEVfUEFSVH1cXFxcXCI/YDtcbmNvbnN0IEJFRk9SRV9BQ0NFU1MgPSAnKD86XFxcXFtcXFxcXCJ8XFxcXC4pJztcbmNvbnN0IEFGVEVSX0FDQ0VTUyA9ICcoPzpcXFxcXCJcXFxcXXwpJztcbmNvbnN0IFZBUklBQkxFX1BBUlRfQUNDRVNTID0gQkVGT1JFX0FDQ0VTUyArIFZBUklBQkxFX1BBUlQgKyBBRlRFUl9BQ0NFU1M7XG5jb25zdCBSRVZFUlNFX1BBUlQgPSBcIjpmdW5jdGlvblxcXFwoXFxcXHdcXFxcKVxcXFx7KD86cmV0dXJuICk/XFxcXHdcXFxcLnJldmVyc2VcXFxcKFxcXFwpXFxcXH1cIjtcbmNvbnN0IFNMSUNFX1BBUlQgPSBcIjpmdW5jdGlvblxcXFwoXFxcXHcsXFxcXHdcXFxcKVxcXFx7cmV0dXJuIFxcXFx3XFxcXC5zbGljZVxcXFwoXFxcXHdcXFxcKVxcXFx9XCI7XG5jb25zdCBTUExJQ0VfUEFSVCA9IFwiOmZ1bmN0aW9uXFxcXChcXFxcdyxcXFxcd1xcXFwpXFxcXHtcXFxcd1xcXFwuc3BsaWNlXFxcXCgwLFxcXFx3XFxcXClcXFxcfVwiO1xuY29uc3QgU1dBUF9QQVJUID1cbiAgXCI6ZnVuY3Rpb25cXFxcKFxcXFx3LFxcXFx3XFxcXClcXFxce3ZhciBcXFxcdz1cXFxcd1xcXFxbMFxcXFxdO1xcXFx3XFxcXFswXFxcXF09XFxcXHdcXFxcW1xcXFx3JVxcXFx3XFxcXC5sZW5ndGhcXFxcXTtcXFxcd1xcXFxbXFxcXHcoPzolXFxcXHcubGVuZ3RofClcXFxcXT1cXFxcdyg/OjtyZXR1cm4gXFxcXHcpP1xcXFx9XCI7XG5cbmNvbnN0IERFQ0lQSEVSX1JFR0VYUCA9XG4gIGBmdW5jdGlvbig/OiAke1ZBUklBQkxFX1BBUlR9KT9cXFxcKChbYS16QS1aXSlcXFxcKVxcXFx7YCArXG4gICdcXFxcMT1cXFxcMVxcXFwuc3BsaXRcXFxcKFwiXCJcXFxcKTtcXFxccyonICtcbiAgYCgoPzooPzpcXFxcMT0pPyR7VkFSSUFCTEVfUEFSVH0ke1ZBUklBQkxFX1BBUlRfQUNDRVNTfVxcXFwoXFxcXDEsXFxcXGQrXFxcXCk7KSspYCArXG4gICdyZXR1cm4gXFxcXDFcXFxcLmpvaW5cXFxcKFwiXCJcXFxcKScgK1xuICBgXFxcXH1gO1xuXG5jb25zdCBIRUxQRVJfUkVHRVhQID0gYHZhciAoJHtWQVJJQUJMRV9QQVJUfSk9XFxcXHsoKD86KD86JHtWQVJJQUJMRV9QQVJUX0RFRklORX0ke1JFVkVSU0VfUEFSVH18JHtcbiAgVkFSSUFCTEVfUEFSVF9ERUZJTkVcbn0ke1NMSUNFX1BBUlR9fCR7VkFSSUFCTEVfUEFSVF9ERUZJTkV9JHtTUExJQ0VfUEFSVH18JHtWQVJJQUJMRV9QQVJUX0RFRklORX0ke1NXQVBfUEFSVH0pLD9cXFxcbj8pKylcXFxcfTtgO1xuXG5jb25zdCBTQ1ZSID0gXCJbYS16QS1aMC05JF9dXCI7XG5jb25zdCBNQ1IgPSBgJHtTQ1ZSfStgO1xuY29uc3QgQUFSID0gXCJcXFxcWyhcXFxcZCspXVwiO1xuY29uc3QgTl9UUkFOU0ZPUk1fTkFNRV9SRUdFWFBTID0gW1xuICAvLyBOZXdQaXBlRXh0cmFjdG9yIHJlZ2V4cHNcbiAgYCR7U0NWUn09XCJublwiXFxcXFtcXFxcKyR7TUNSfVxcXFwuJHtNQ1J9XSwke01DUn1cXFxcKCR7TUNSfVxcXFwpLCR7TUNSfT0ke01DUn1cXFxcLiR7TUNSfVxcXFxbJHtNQ1J9XVxcXFx8XFxcXHxudWxsXFxcXCkuK1xcXFx8XFxcXHwoJHtNQ1J9KVxcXFwoXCJcIlxcXFwpYCxcbiAgYCR7U0NWUn09XCJublwiXFxcXFtcXFxcKyR7TUNSfVxcXFwuJHtNQ1J9XSwke01DUn1cXFxcKCR7TUNSfVxcXFwpLCR7TUNSfT0ke01DUn1cXFxcLiR7TUNSfVxcXFxbJHtNQ1J9XVxcXFx8XFxcXHxudWxsXFxcXCkmJlxcXFwoJHtNQ1J9PSgke01DUn0pJHtBQVJ9YCxcbiAgYCR7U0NWUn09XCJublwiXFxcXFtcXFxcKyR7TUNSfVxcXFwuJHtNQ1J9XSwke01DUn09JHtNQ1J9XFxcXC5nZXRcXFxcKCR7TUNSfVxcXFwpXFxcXCkuK1xcXFx8XFxcXHwoJHtNQ1J9KVxcXFwoXCJcIlxcXFwpYCxcbiAgYCR7U0NWUn09XCJublwiXFxcXFtcXFxcKyR7TUNSfVxcXFwuJHtNQ1J9XSwke01DUn09JHtNQ1J9XFxcXC5nZXRcXFxcKCR7TUNSfVxcXFwpXFxcXCkmJlxcXFwoJHtNQ1J9PSgke01DUn0pXFxcXFsoXFxcXGQrKV1gLFxuICBgXFxcXCgke1NDVlJ9PVN0cmluZ1xcXFwuZnJvbUNoYXJDb2RlXFxcXCgxMTBcXFxcKSwke1NDVlJ9PSR7U0NWUn1cXFxcLmdldFxcXFwoJHtTQ1ZSfVxcXFwpXFxcXCkmJlxcXFwoJHtTQ1ZSfT0oJHtNQ1J9KSg/OiR7QUFSfSk/XFxcXCgke1NDVlJ9XFxcXClgLFxuICBgXFxcXC5nZXRcXFxcKFwiblwiXFxcXClcXFxcKSYmXFxcXCgke1NDVlJ9PSgke01DUn0pKD86JHtBQVJ9KT9cXFxcKCR7U0NWUn1cXFxcKWAsXG5dO1xuXG4vLyBMYXZhUGxheWVyIHJlZ2V4cHNcbmNvbnN0IE5fVFJBTlNGT1JNX1JFR0VYUCA9XG4gIFwiZnVuY3Rpb25cXFxcKFxcXFxzKihcXFxcdyspXFxcXHMqXFxcXClcXFxccypcXFxce1wiICtcbiAgXCJ2YXJcXFxccyooXFxcXHcrKT0oPzpcXFxcMVxcXFwuc3BsaXRcXFxcKC4qP1xcXFwpfFN0cmluZ1xcXFwucHJvdG90eXBlXFxcXC5zcGxpdFxcXFwuY2FsbFxcXFwoXFxcXDEsLio/XFxcXCkpLFwiICtcbiAgXCJcXFxccyooXFxcXHcrKT0oXFxcXFsuKj9dKTtcXFxccypcXFxcM1xcXFxbXFxcXGQrXVwiICtcbiAgXCIoLio/dHJ5KShcXFxcey4qP30pY2F0Y2hcXFxcKFxcXFxzKihcXFxcdyspXFxcXHMqXFxcXClcXFxccypcXFxce1wiICtcbiAgJ1xcXFxzKnJldHVyblwiW1xcXFx3LV0rKFtBLXowLTktXSspXCJcXFxccypcXFxcK1xcXFxzKlxcXFwxXFxcXHMqfScgK1xuICAnXFxcXHMqcmV0dXJuXFxcXHMqKFxcXFwyXFxcXC5qb2luXFxcXChcIlwiXFxcXCl8QXJyYXlcXFxcLnByb3RvdHlwZVxcXFwuam9pblxcXFwuY2FsbFxcXFwoXFxcXDIsLio/XFxcXCkpfTsnO1xuXG5jb25zdCBERUNJUEhFUl9BUkdVTUVOVCA9IFwic2lnXCI7XG5jb25zdCBOX0FSR1VNRU5UID0gXCJuY29kZVwiO1xuXG5jb25zdCBtYXRjaFJlZ2V4ID0gKHJlZ2V4LCBzdHIpID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBzdHIubWF0Y2gobmV3IFJlZ0V4cChyZWdleCwgXCJzXCIpKTtcbiAgaWYgKCFtYXRjaCkgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgbWF0Y2ggJHtyZWdleH1gKTtcbiAgcmV0dXJuIG1hdGNoO1xufTtcblxuY29uc3QgbWF0Y2hGaXJzdCA9IChyZWdleCwgc3RyKSA9PiBtYXRjaFJlZ2V4KHJlZ2V4LCBzdHIpWzBdO1xuXG5jb25zdCBtYXRjaEdyb3VwMSA9IChyZWdleCwgc3RyKSA9PiBtYXRjaFJlZ2V4KHJlZ2V4LCBzdHIpWzFdO1xuXG5jb25zdCBnZXRGdW5jTmFtZSA9IChib2R5LCByZWdleHBzKSA9PiB7XG4gIGxldCBmbjtcbiAgZm9yIChjb25zdCByZWdleCBvZiByZWdleHBzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZuID0gbWF0Y2hHcm91cDEocmVnZXgsIGJvZHkpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4gPSBtYXRjaEdyb3VwMShgJHtmbi5yZXBsYWNlKC9cXCQvZywgXCJcXFxcJFwiKX09XFxcXFsoW2EtekEtWjAtOSRcXFxcW1xcXFxdXXsyLH0pXFxcXF1gLCBib2R5KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBGdW5jdGlvbiBuYW1lIGlzIG5vdCBpbnNpZGUgYW4gYXJyYXlcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICB9XG4gIGlmICghZm4gfHwgZm4uaW5jbHVkZXMoXCJbXCIpKSB0aHJvdyBFcnJvcigpO1xuICByZXR1cm4gZm47XG59O1xuXG5jb25zdCBERUNJUEhFUl9GVU5DX05BTUUgPSBcIkRpc1R1YmVEZWNpcGhlckZ1bmNcIjtcbmNvbnN0IGV4dHJhY3REZWNpcGhlckZ1bmMgPSAoZXhwb3J0cy5kMSA9IGJvZHkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGhlbHBlck9iamVjdCA9IG1hdGNoRmlyc3QoSEVMUEVSX1JFR0VYUCwgYm9keSk7XG4gICAgY29uc3QgZGVjaXBoZXJGdW5jID0gbWF0Y2hGaXJzdChERUNJUEhFUl9SRUdFWFAsIGJvZHkpO1xuICAgIGNvbnN0IHJlc3VsdEZ1bmMgPSBgdmFyICR7REVDSVBIRVJfRlVOQ19OQU1FfT0ke2RlY2lwaGVyRnVuY307YDtcbiAgICBjb25zdCBjYWxsZXJGdW5jID0gYCR7REVDSVBIRVJfRlVOQ19OQU1FfSgke0RFQ0lQSEVSX0FSR1VNRU5UfSk7YDtcbiAgICByZXR1cm4gaGVscGVyT2JqZWN0ICsgcmVzdWx0RnVuYyArIGNhbGxlckZ1bmM7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSk7XG5cbmNvbnN0IGV4dHJhY3REZWNpcGhlcldpdGhOYW1lID0gKGV4cG9ydHMuZDIgPSBib2R5ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkZWNpcGhlckZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoYm9keSwgREVDSVBIRVJfTkFNRV9SRUdFWFBTKTtcbiAgICBjb25zdCBmdW5jUGF0dGVybiA9IGAoJHtkZWNpcGhlckZ1bmNOYW1lLnJlcGxhY2UoL1xcJC9nLCBcIlxcXFwkXCIpfT1mdW5jdGlvblxcXFwoW2EtekEtWjAtOV9dK1xcXFwpXFxcXHsuKz9cXFxcfSlgO1xuICAgIGNvbnN0IGRlY2lwaGVyRnVuYyA9IGB2YXIgJHttYXRjaEdyb3VwMShmdW5jUGF0dGVybiwgYm9keSl9O2A7XG4gICAgY29uc3QgaGVscGVyT2JqZWN0TmFtZSA9IG1hdGNoR3JvdXAxKFwiOyhbQS1aYS16MC05X1xcXFwkXXsyLH0pXFxcXC5cXFxcdytcXFxcKFwiLCBkZWNpcGhlckZ1bmMpO1xuICAgIGNvbnN0IGhlbHBlclBhdHRlcm4gPSBgKHZhciAke2hlbHBlck9iamVjdE5hbWUucmVwbGFjZSgvXFwkL2csIFwiXFxcXCRcIil9PVxcXFx7W1xcXFxzXFxcXFNdKz9cXFxcfVxcXFx9OylgO1xuICAgIGNvbnN0IGhlbHBlck9iamVjdCA9IG1hdGNoR3JvdXAxKGhlbHBlclBhdHRlcm4sIGJvZHkpO1xuICAgIGNvbnN0IGNhbGxlckZ1bmMgPSBgJHtkZWNpcGhlckZ1bmNOYW1lfSgke0RFQ0lQSEVSX0FSR1VNRU5UfSk7YDtcbiAgICByZXR1cm4gaGVscGVyT2JqZWN0ICsgZGVjaXBoZXJGdW5jICsgY2FsbGVyRnVuYztcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KTtcblxuY29uc3QgZ2V0RXh0cmFjdEZ1bmN0aW9ucyA9IChleHRyYWN0RnVuY3Rpb25zLCBib2R5LCBwb3N0UHJvY2VzcyA9IG51bGwpID0+IHtcbiAgZm9yIChjb25zdCBleHRyYWN0RnVuY3Rpb24gb2YgZXh0cmFjdEZ1bmN0aW9ucykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmdW5jID0gZXh0cmFjdEZ1bmN0aW9uKGJvZHkpO1xuICAgICAgaWYgKCFmdW5jKSBjb250aW51ZTtcbiAgICAgIHJldHVybiBuZXcgdm0uU2NyaXB0KHBvc3RQcm9jZXNzID8gcG9zdFByb2Nlc3MoZnVuYykgOiBmdW5jKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmxldCBkZWNpcGhlcldhcm5pbmcgPSBmYWxzZTtcbi8vIFRoaXMgaXMgcmVxdWlyZWQgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzdHJlYW0gdXJsLCBidXQgd2UgY2FuIGNvbnRpbnVlIGlmIHVzZXIgZG9lc24ndCBuZWVkIHN0cmVhbSB1cmwuXG5jb25zdCBleHRyYWN0RGVjaXBoZXIgPSBib2R5ID0+IHtcbiAgLy8gRmFzdGVyOiBleHRyYWN0RGVjaXBoZXJGdW5jXG4gIGNvbnN0IGRlY2lwaGVyRnVuYyA9IGdldEV4dHJhY3RGdW5jdGlvbnMoW2V4dHJhY3REZWNpcGhlckZ1bmMsIGV4dHJhY3REZWNpcGhlcldpdGhOYW1lXSwgYm9keSk7XG4gIGlmICghZGVjaXBoZXJGdW5jICYmICFkZWNpcGhlcldhcm5pbmcpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIlxceDFiWzMzbVdBUk5JTkc6XFx4MUJbMG0gQ291bGQgbm90IHBhcnNlIGRlY2lwaGVyIGZ1bmN0aW9uLlxcblwiICtcbiAgICAgICAgXCJTdHJlYW0gVVJMcyB3aWxsIGJlIG1pc3NpbmcuXFxuXCIgK1xuICAgICAgICBgUGxlYXNlIHJlcG9ydCB0aGlzIGlzc3VlIHdpdGggdGhlIFwiJHt1dGlscy5zYXZlRGVidWdGaWxlKFxuICAgICAgICAgIFwiYmFzZS5qc1wiLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICl9XCIgZmlsZSBvbiBodHRwczovL2dpdGh1Yi5jb20vZGlzdHViZWpzL3l0ZGwtY29yZS9pc3N1ZXMvMTQ0LmAsXG4gICAgKTtcbiAgICBkZWNpcGhlcldhcm5pbmcgPSB0cnVlO1xuICB9XG4gIHJldHVybiBkZWNpcGhlckZ1bmM7XG59O1xuXG5jb25zdCBOX1RSQU5TRk9STV9GVU5DX05BTUUgPSBcIkRpc1R1YmVOVHJhbnNmb3JtRnVuY1wiO1xuY29uc3QgZXh0cmFjdE5UcmFuc2Zvcm1GdW5jID0gKGV4cG9ydHMubjEgPSBib2R5ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBuRnVuYyA9IG1hdGNoRmlyc3QoTl9UUkFOU0ZPUk1fUkVHRVhQLCBib2R5KTtcbiAgICBjb25zdCByZXN1bHRGdW5jID0gYHZhciAke05fVFJBTlNGT1JNX0ZVTkNfTkFNRX09JHtuRnVuY31gO1xuICAgIGNvbnN0IGNhbGxlckZ1bmMgPSBgJHtOX1RSQU5TRk9STV9GVU5DX05BTUV9KCR7Tl9BUkdVTUVOVH0pO2A7XG4gICAgcmV0dXJuIHJlc3VsdEZ1bmMgKyBjYWxsZXJGdW5jO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pO1xuXG5jb25zdCBleHRyYWN0TlRyYW5zZm9ybVdpdGhOYW1lID0gKGV4cG9ydHMubjIgPSBib2R5ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBuRnVuY05hbWUgPSBnZXRGdW5jTmFtZShib2R5LCBOX1RSQU5TRk9STV9OQU1FX1JFR0VYUFMpO1xuICAgIGNvbnN0IGZ1bmNQYXR0ZXJuID0gYCgke25GdW5jTmFtZS5yZXBsYWNlKC9cXCQvZywgXCJcXFxcJFwiKX09ZnVuY3Rpb25cXFxcKFthLXpBLVowLTlfXStcXFxcKVxcXFx7Lis/XFxcXH0pYDtcbiAgICBjb25zdCBuVHJhbnNmb3JtRnVuYyA9IGB2YXIgJHttYXRjaEdyb3VwMShmdW5jUGF0dGVybiwgYm9keSl9O2A7XG4gICAgY29uc3QgY2FsbGVyRnVuYyA9IGAke25GdW5jTmFtZX0oJHtOX0FSR1VNRU5UfSk7YDtcbiAgICByZXR1cm4gblRyYW5zZm9ybUZ1bmMgKyBjYWxsZXJGdW5jO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0pO1xuXG5sZXQgblRyYW5zZm9ybVdhcm5pbmcgPSBmYWxzZTtcbmNvbnN0IGV4dHJhY3ROVHJhbnNmb3JtID0gYm9keSA9PiB7XG4gIC8vIEZhc3RlcjogZXh0cmFjdE5UcmFuc2Zvcm1GdW5jXG4gIGNvbnN0IG5UcmFuc2Zvcm1GdW5jID0gZ2V0RXh0cmFjdEZ1bmN0aW9ucyhbZXh0cmFjdE5UcmFuc2Zvcm1GdW5jLCBleHRyYWN0TlRyYW5zZm9ybVdpdGhOYW1lXSwgYm9keSwgY29kZSA9PlxuICAgIGNvZGUucmVwbGFjZSgvaWZcXCh0eXBlb2YgXFxTKz09PVwidW5kZWZpbmVkXCJcXClyZXR1cm4gXFxTKzsvLCBcIlwiKSxcbiAgKTtcbiAgaWYgKCFuVHJhbnNmb3JtRnVuYyAmJiAhblRyYW5zZm9ybVdhcm5pbmcpIHtcbiAgICAvLyBUaGlzIGlzIG9wdGlvbmFsLCBzbyB3ZSBjYW4gY29udGludWUgaWYgaXQncyBub3QgZm91bmQsIGJ1dCBpdCB3aWxsIGJvdHRsZW5lY2sgdGhlIGRvd25sb2FkLlxuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiXFx4MWJbMzNtV0FSTklORzpcXHgxQlswbSBDb3VsZCBub3QgcGFyc2UgbiB0cmFuc2Zvcm0gZnVuY3Rpb24uXFxuXCIgK1xuICAgICAgICBgUGxlYXNlIHJlcG9ydCB0aGlzIGlzc3VlIHdpdGggdGhlIFwiJHt1dGlscy5zYXZlRGVidWdGaWxlKFxuICAgICAgICAgIFwiYmFzZS5qc1wiLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICl9XCIgZmlsZSBvbiBodHRwczovL2dpdGh1Yi5jb20vZGlzdHViZWpzL3l0ZGwtY29yZS9pc3N1ZXMvMTQ0LmAsXG4gICAgKTtcbiAgICBuVHJhbnNmb3JtV2FybmluZyA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIG5UcmFuc2Zvcm1GdW5jO1xufTtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgYWN0aW9ucyB0aGF0IHNob3VsZCBiZSB0YWtlbiB0byBkZWNpcGhlciBhIHNpZ25hdHVyZVxuICogYW5kIHRyYW5zZm9ybSB0aGUgbiBwYXJhbWV0ZXJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYm9keVxuICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fVxuICovXG5leHBvcnRzLmV4dHJhY3RGdW5jdGlvbnMgPSBib2R5ID0+IFtleHRyYWN0RGVjaXBoZXIoYm9keSksIGV4dHJhY3ROVHJhbnNmb3JtKGJvZHkpXTtcblxuLyoqXG4gKiBBcHBseSBkZWNpcGhlciBhbmQgbi10cmFuc2Zvcm0gdG8gaW5kaXZpZHVhbCBmb3JtYXRcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZm9ybWF0XG4gKiBAcGFyYW0ge3ZtLlNjcmlwdH0gZGVjaXBoZXJTY3JpcHRcbiAqIEBwYXJhbSB7dm0uU2NyaXB0fSBuVHJhbnNmb3JtU2NyaXB0XG4gKi9cbmV4cG9ydHMuc2V0RG93bmxvYWRVUkwgPSAoZm9ybWF0LCBkZWNpcGhlclNjcmlwdCwgblRyYW5zZm9ybVNjcmlwdCkgPT4ge1xuICBpZiAoIWRlY2lwaGVyU2NyaXB0KSByZXR1cm47XG4gIGNvbnN0IGRlY2lwaGVyID0gdXJsID0+IHtcbiAgICBjb25zdCBhcmdzID0gcXVlcnlzdHJpbmcucGFyc2UodXJsKTtcbiAgICBpZiAoIWFyZ3MucykgcmV0dXJuIGFyZ3MudXJsO1xuICAgIGNvbnN0IGNvbXBvbmVudHMgPSBuZXcgVVJMKGRlY29kZVVSSUNvbXBvbmVudChhcmdzLnVybCkpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7fTtcbiAgICBjb250ZXh0W0RFQ0lQSEVSX0FSR1VNRU5UXSA9IGRlY29kZVVSSUNvbXBvbmVudChhcmdzLnMpO1xuICAgIGNvbXBvbmVudHMuc2VhcmNoUGFyYW1zLnNldChhcmdzLnNwIHx8IFwic2lnXCIsIGRlY2lwaGVyU2NyaXB0LnJ1bkluTmV3Q29udGV4dChjb250ZXh0KSk7XG4gICAgcmV0dXJuIGNvbXBvbmVudHMudG9TdHJpbmcoKTtcbiAgfTtcbiAgY29uc3QgblRyYW5zZm9ybSA9IHVybCA9PiB7XG4gICAgY29uc3QgY29tcG9uZW50cyA9IG5ldyBVUkwoZGVjb2RlVVJJQ29tcG9uZW50KHVybCkpO1xuICAgIGNvbnN0IG4gPSBjb21wb25lbnRzLnNlYXJjaFBhcmFtcy5nZXQoXCJuXCIpO1xuICAgIGlmICghbiB8fCAhblRyYW5zZm9ybVNjcmlwdCkgcmV0dXJuIHVybDtcbiAgICBjb25zdCBjb250ZXh0ID0ge307XG4gICAgY29udGV4dFtOX0FSR1VNRU5UXSA9IG47XG4gICAgY29tcG9uZW50cy5zZWFyY2hQYXJhbXMuc2V0KFwiblwiLCBuVHJhbnNmb3JtU2NyaXB0LnJ1bkluTmV3Q29udGV4dChjb250ZXh0KSk7XG4gICAgcmV0dXJuIGNvbXBvbmVudHMudG9TdHJpbmcoKTtcbiAgfTtcbiAgY29uc3QgY2lwaGVyID0gIWZvcm1hdC51cmw7XG4gIGNvbnN0IHVybCA9IGZvcm1hdC51cmwgfHwgZm9ybWF0LnNpZ25hdHVyZUNpcGhlciB8fCBmb3JtYXQuY2lwaGVyO1xuICBmb3JtYXQudXJsID0gblRyYW5zZm9ybShjaXBoZXIgPyBkZWNpcGhlcih1cmwpIDogdXJsKTtcbiAgZGVsZXRlIGZvcm1hdC5zaWduYXR1cmVDaXBoZXI7XG4gIGRlbGV0ZSBmb3JtYXQuY2lwaGVyO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIGRlY2lwaGVyIGFuZCBuIHBhcmFtZXRlciB0cmFuc2Zvcm1zIHRvIGFsbCBmb3JtYXQgVVJMJ3MuXG4gKlxuICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pn0gZm9ybWF0c1xuICogQHBhcmFtIHtzdHJpbmd9IGh0bWw1cGxheWVyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5leHBvcnRzLmRlY2lwaGVyRm9ybWF0cyA9IGFzeW5jIChmb3JtYXRzLCBodG1sNXBsYXllciwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBkZWNpcGhlcmVkRm9ybWF0cyA9IHt9O1xuICBjb25zdCBbZGVjaXBoZXJTY3JpcHQsIG5UcmFuc2Zvcm1TY3JpcHRdID0gYXdhaXQgZXhwb3J0cy5nZXRGdW5jdGlvbnMoaHRtbDVwbGF5ZXIsIG9wdGlvbnMpO1xuICBmb3JtYXRzLmZvckVhY2goZm9ybWF0ID0+IHtcbiAgICBleHBvcnRzLnNldERvd25sb2FkVVJMKGZvcm1hdCwgZGVjaXBoZXJTY3JpcHQsIG5UcmFuc2Zvcm1TY3JpcHQpO1xuICAgIGRlY2lwaGVyZWRGb3JtYXRzW2Zvcm1hdC51cmxdID0gZm9ybWF0O1xuICB9KTtcbiAgcmV0dXJuIGRlY2lwaGVyZWRGb3JtYXRzO1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/sig.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/url-utils.js":
/*!**********************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/url-utils.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("/**\n * Get video ID.\n *\n * There are a few type of video URL formats.\n *  - https://www.youtube.com/watch?v=VIDEO_ID\n *  - https://m.youtube.com/watch?v=VIDEO_ID\n *  - https://youtu.be/VIDEO_ID\n *  - https://www.youtube.com/v/VIDEO_ID\n *  - https://www.youtube.com/embed/VIDEO_ID\n *  - https://music.youtube.com/watch?v=VIDEO_ID\n *  - https://gaming.youtube.com/watch?v=VIDEO_ID\n *\n * @param {string} link\n * @return {string}\n * @throws {Error} If unable to find a id\n * @throws {TypeError} If videoid doesn't match specs\n */\nconst validQueryDomains = new Set([\n  \"youtube.com\",\n  \"www.youtube.com\",\n  \"m.youtube.com\",\n  \"music.youtube.com\",\n  \"gaming.youtube.com\",\n]);\nconst validPathDomains = /^https?:\\/\\/(youtu\\.be\\/|(www\\.)?youtube\\.com\\/(embed|v|shorts|live)\\/)/;\nexports.getURLVideoID = link => {\n  const parsed = new URL(link.trim());\n  let id = parsed.searchParams.get(\"v\");\n  if (validPathDomains.test(link.trim()) && !id) {\n    const paths = parsed.pathname.split(\"/\");\n    id = parsed.host === \"youtu.be\" ? paths[1] : paths[2];\n  } else if (parsed.hostname && !validQueryDomains.has(parsed.hostname)) {\n    throw Error(\"Not a YouTube domain\");\n  }\n  if (!id) {\n    throw Error(`No video id found: \"${link}\"`);\n  }\n  id = id.substring(0, 11);\n  if (!exports.validateID(id)) {\n    throw TypeError(`Video id (${id}) does not match expected ` + `format (${idRegex.toString()})`);\n  }\n  return id;\n};\n\n/**\n * Gets video ID either from a url or by checking if the given string\n * matches the video ID format.\n *\n * @param {string} str\n * @returns {string}\n * @throws {Error} If unable to find a id\n * @throws {TypeError} If videoid doesn't match specs\n */\nconst urlRegex = /^https?:\\/\\//;\nexports.getVideoID = str => {\n  if (exports.validateID(str)) {\n    return str;\n  } else if (urlRegex.test(str.trim())) {\n    return exports.getURLVideoID(str);\n  } else {\n    throw Error(`No video id found: ${str}`);\n  }\n};\n\n/**\n * Returns true if given id satifies YouTube's id format.\n *\n * @param {string} id\n * @return {boolean}\n */\nconst idRegex = /^[a-zA-Z0-9-_]{11}$/;\nexports.validateID = id => idRegex.test(id.trim());\n\n/**\n * Checks wether the input string includes a valid id.\n *\n * @param {string} string\n * @returns {boolean}\n */\nexports.validateURL = string => {\n  try {\n    exports.getURLVideoID(string);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi91cmwtdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWixZQUFZLE9BQU87QUFDbkIsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxLQUFLO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxHQUFHLHlDQUF5QyxtQkFBbUI7QUFDaEc7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYixZQUFZLE9BQU87QUFDbkIsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSixzQ0FBc0MsSUFBSTtBQUMxQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQSxnQ0FBZ0MsR0FBRztBQUNuQyxrQkFBa0I7O0FBRWxCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxCdXJha1xcRG9jdW1lbnRzXFxHaXRIdWJcXHlvdXR1YmUtZG93bmxvYWRlclxcbm9kZV9tb2R1bGVzXFxAZGlzdHViZVxceXRkbC1jb3JlXFxsaWJcXHVybC11dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdldCB2aWRlbyBJRC5cbiAqXG4gKiBUaGVyZSBhcmUgYSBmZXcgdHlwZSBvZiB2aWRlbyBVUkwgZm9ybWF0cy5cbiAqICAtIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9VklERU9fSURcbiAqICAtIGh0dHBzOi8vbS55b3V0dWJlLmNvbS93YXRjaD92PVZJREVPX0lEXG4gKiAgLSBodHRwczovL3lvdXR1LmJlL1ZJREVPX0lEXG4gKiAgLSBodHRwczovL3d3dy55b3V0dWJlLmNvbS92L1ZJREVPX0lEXG4gKiAgLSBodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC9WSURFT19JRFxuICogIC0gaHR0cHM6Ly9tdXNpYy55b3V0dWJlLmNvbS93YXRjaD92PVZJREVPX0lEXG4gKiAgLSBodHRwczovL2dhbWluZy55b3V0dWJlLmNvbS93YXRjaD92PVZJREVPX0lEXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGxpbmtcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB1bmFibGUgdG8gZmluZCBhIGlkXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIHZpZGVvaWQgZG9lc24ndCBtYXRjaCBzcGVjc1xuICovXG5jb25zdCB2YWxpZFF1ZXJ5RG9tYWlucyA9IG5ldyBTZXQoW1xuICBcInlvdXR1YmUuY29tXCIsXG4gIFwid3d3LnlvdXR1YmUuY29tXCIsXG4gIFwibS55b3V0dWJlLmNvbVwiLFxuICBcIm11c2ljLnlvdXR1YmUuY29tXCIsXG4gIFwiZ2FtaW5nLnlvdXR1YmUuY29tXCIsXG5dKTtcbmNvbnN0IHZhbGlkUGF0aERvbWFpbnMgPSAvXmh0dHBzPzpcXC9cXC8oeW91dHVcXC5iZVxcL3wod3d3XFwuKT95b3V0dWJlXFwuY29tXFwvKGVtYmVkfHZ8c2hvcnRzfGxpdmUpXFwvKS87XG5leHBvcnRzLmdldFVSTFZpZGVvSUQgPSBsaW5rID0+IHtcbiAgY29uc3QgcGFyc2VkID0gbmV3IFVSTChsaW5rLnRyaW0oKSk7XG4gIGxldCBpZCA9IHBhcnNlZC5zZWFyY2hQYXJhbXMuZ2V0KFwidlwiKTtcbiAgaWYgKHZhbGlkUGF0aERvbWFpbnMudGVzdChsaW5rLnRyaW0oKSkgJiYgIWlkKSB7XG4gICAgY29uc3QgcGF0aHMgPSBwYXJzZWQucGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xuICAgIGlkID0gcGFyc2VkLmhvc3QgPT09IFwieW91dHUuYmVcIiA/IHBhdGhzWzFdIDogcGF0aHNbMl07XG4gIH0gZWxzZSBpZiAocGFyc2VkLmhvc3RuYW1lICYmICF2YWxpZFF1ZXJ5RG9tYWlucy5oYXMocGFyc2VkLmhvc3RuYW1lKSkge1xuICAgIHRocm93IEVycm9yKFwiTm90IGEgWW91VHViZSBkb21haW5cIik7XG4gIH1cbiAgaWYgKCFpZCkge1xuICAgIHRocm93IEVycm9yKGBObyB2aWRlbyBpZCBmb3VuZDogXCIke2xpbmt9XCJgKTtcbiAgfVxuICBpZCA9IGlkLnN1YnN0cmluZygwLCAxMSk7XG4gIGlmICghZXhwb3J0cy52YWxpZGF0ZUlEKGlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcihgVmlkZW8gaWQgKCR7aWR9KSBkb2VzIG5vdCBtYXRjaCBleHBlY3RlZCBgICsgYGZvcm1hdCAoJHtpZFJlZ2V4LnRvU3RyaW5nKCl9KWApO1xuICB9XG4gIHJldHVybiBpZDtcbn07XG5cbi8qKlxuICogR2V0cyB2aWRlbyBJRCBlaXRoZXIgZnJvbSBhIHVybCBvciBieSBjaGVja2luZyBpZiB0aGUgZ2l2ZW4gc3RyaW5nXG4gKiBtYXRjaGVzIHRoZSB2aWRlbyBJRCBmb3JtYXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHJldHVybnMge3N0cmluZ31cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB1bmFibGUgdG8gZmluZCBhIGlkXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIHZpZGVvaWQgZG9lc24ndCBtYXRjaCBzcGVjc1xuICovXG5jb25zdCB1cmxSZWdleCA9IC9eaHR0cHM/OlxcL1xcLy87XG5leHBvcnRzLmdldFZpZGVvSUQgPSBzdHIgPT4ge1xuICBpZiAoZXhwb3J0cy52YWxpZGF0ZUlEKHN0cikpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9IGVsc2UgaWYgKHVybFJlZ2V4LnRlc3Qoc3RyLnRyaW0oKSkpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5nZXRVUkxWaWRlb0lEKHN0cik7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgRXJyb3IoYE5vIHZpZGVvIGlkIGZvdW5kOiAke3N0cn1gKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgZ2l2ZW4gaWQgc2F0aWZpZXMgWW91VHViZSdzIGlkIGZvcm1hdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGlkUmVnZXggPSAvXlthLXpBLVowLTktX117MTF9JC87XG5leHBvcnRzLnZhbGlkYXRlSUQgPSBpZCA9PiBpZFJlZ2V4LnRlc3QoaWQudHJpbSgpKTtcblxuLyoqXG4gKiBDaGVja3Mgd2V0aGVyIHRoZSBpbnB1dCBzdHJpbmcgaW5jbHVkZXMgYSB2YWxpZCBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0cy52YWxpZGF0ZVVSTCA9IHN0cmluZyA9PiB7XG4gIHRyeSB7XG4gICAgZXhwb3J0cy5nZXRVUkxWaWRlb0lEKHN0cmluZyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/url-utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/lib/utils.js":
/*!******************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/lib/utils.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("const { request } = __webpack_require__(/*! undici */ \"(rsc)/./node_modules/undici/index.js\");\nconst { writeFileSync } = __webpack_require__(/*! fs */ \"fs\");\nconst AGENT = __webpack_require__(/*! ./agent */ \"(rsc)/./node_modules/@distube/ytdl-core/lib/agent.js\");\n\n/**\n * Extract string inbetween another.\n *\n * @param {string} haystack\n * @param {string} left\n * @param {string} right\n * @returns {string}\n */\nconst between = (exports.between = (haystack, left, right) => {\n  let pos;\n  if (left instanceof RegExp) {\n    const match = haystack.match(left);\n    if (!match) {\n      return \"\";\n    }\n    pos = match.index + match[0].length;\n  } else {\n    pos = haystack.indexOf(left);\n    if (pos === -1) {\n      return \"\";\n    }\n    pos += left.length;\n  }\n  haystack = haystack.slice(pos);\n  pos = haystack.indexOf(right);\n  if (pos === -1) {\n    return \"\";\n  }\n  haystack = haystack.slice(0, pos);\n  return haystack;\n});\n\nexports.tryParseBetween = (body, left, right, prepend = \"\", append = \"\") => {\n  try {\n    let data = between(body, left, right);\n    if (!data) return null;\n    return JSON.parse(`${prepend}${data}${append}`);\n  } catch (e) {\n    return null;\n  }\n};\n\n/**\n * Get a number from an abbreviated number string.\n *\n * @param {string} string\n * @returns {number}\n */\nexports.parseAbbreviatedNumber = string => {\n  const match = string\n    .replace(\",\", \".\")\n    .replace(\" \", \"\")\n    .match(/([\\d,.]+)([MK]?)/);\n  if (match) {\n    let [, num, multi] = match;\n    num = parseFloat(num);\n    return Math.round(multi === \"M\" ? num * 1000000 : multi === \"K\" ? num * 1000 : num);\n  }\n  return null;\n};\n\n/**\n * Escape sequences for cutAfterJS\n * @param {string} start the character string the escape sequence\n * @param {string} end the character string to stop the escape seequence\n * @param {undefined|Regex} startPrefix a regex to check against the preceding 10 characters\n */\nconst ESCAPING_SEQUENZES = [\n  // Strings\n  { start: '\"', end: '\"' },\n  { start: \"'\", end: \"'\" },\n  { start: \"`\", end: \"`\" },\n  // RegeEx\n  { start: \"/\", end: \"/\", startPrefix: /(^|[[{:;,/])\\s?$/ },\n];\n\n/**\n * Match begin and end braces of input JS, return only JS\n *\n * @param {string} mixedJson\n * @returns {string}\n */\nexports.cutAfterJS = mixedJson => {\n  // Define the general open and closing tag\n  let open, close;\n  if (mixedJson[0] === \"[\") {\n    open = \"[\";\n    close = \"]\";\n  } else if (mixedJson[0] === \"{\") {\n    open = \"{\";\n    close = \"}\";\n  }\n\n  if (!open) {\n    throw new Error(`Can't cut unsupported JSON (need to begin with [ or { ) but got: ${mixedJson[0]}`);\n  }\n\n  // States if the loop is currently inside an escaped js object\n  let isEscapedObject = null;\n\n  // States if the current character is treated as escaped or not\n  let isEscaped = false;\n\n  // Current open brackets to be closed\n  let counter = 0;\n\n  let i;\n  // Go through all characters from the start\n  for (i = 0; i < mixedJson.length; i++) {\n    // End of current escaped object\n    if (!isEscaped && isEscapedObject !== null && mixedJson[i] === isEscapedObject.end) {\n      isEscapedObject = null;\n      continue;\n      // Might be the start of a new escaped object\n    } else if (!isEscaped && isEscapedObject === null) {\n      for (const escaped of ESCAPING_SEQUENZES) {\n        if (mixedJson[i] !== escaped.start) continue;\n        // Test startPrefix against last 10 characters\n        if (!escaped.startPrefix || mixedJson.substring(i - 10, i).match(escaped.startPrefix)) {\n          isEscapedObject = escaped;\n          break;\n        }\n      }\n      // Continue if we found a new escaped object\n      if (isEscapedObject !== null) {\n        continue;\n      }\n    }\n\n    // Toggle the isEscaped boolean for every backslash\n    // Reset for every regular character\n    isEscaped = mixedJson[i] === \"\\\\\" && !isEscaped;\n\n    if (isEscapedObject !== null) continue;\n\n    if (mixedJson[i] === open) {\n      counter++;\n    } else if (mixedJson[i] === close) {\n      counter--;\n    }\n\n    // All brackets have been closed, thus end of JSON is reached\n    if (counter === 0) {\n      // Return the cut JSON\n      return mixedJson.substring(0, i + 1);\n    }\n  }\n\n  // We ran through the whole string and ended up with an unclosed bracket\n  throw Error(\"Can't cut unsupported JSON (no matching closing bracket found)\");\n};\n\nclass UnrecoverableError extends Error {}\n/**\n * Checks if there is a playability error.\n *\n * @param {Object} player_response\n * @returns {!Error}\n */\nexports.playError = player_response => {\n  const playability = player_response && player_response.playabilityStatus;\n  if (!playability) return null;\n  if ([\"ERROR\", \"LOGIN_REQUIRED\"].includes(playability.status)) {\n    return new UnrecoverableError(playability.reason || (playability.messages && playability.messages[0]));\n  }\n  if (playability.status === \"LIVE_STREAM_OFFLINE\") {\n    return new UnrecoverableError(playability.reason || \"The live stream is offline.\");\n  }\n  if (playability.status === \"UNPLAYABLE\") {\n    return new UnrecoverableError(playability.reason || \"This video is unavailable.\");\n  }\n  return null;\n};\n\n// Undici request\nexports.request = async (url, options = {}) => {\n  let { requestOptions, rewriteRequest } = options;\n\n  if (typeof rewriteRequest === \"function\") {\n    const request = rewriteRequest(url, requestOptions);\n    requestOptions = request.requestOptions;\n    url = request.url;\n  }\n\n  const req = await request(url, requestOptions);\n  const code = req.statusCode.toString();\n  if (code.startsWith(\"2\")) {\n    if (req.headers[\"content-type\"].includes(\"application/json\")) return req.body.json();\n    return req.body.text();\n  }\n  if (code.startsWith(\"3\")) return exports.request(req.headers.location, options);\n  const e = new Error(`Status code: ${code}`);\n  e.statusCode = req.statusCode;\n  throw e;\n};\n\n/**\n * Temporary helper to help deprecating a few properties.\n *\n * @param {Object} obj\n * @param {string} prop\n * @param {Object} value\n * @param {string} oldPath\n * @param {string} newPath\n */\nexports.deprecate = (obj, prop, value, oldPath, newPath) => {\n  Object.defineProperty(obj, prop, {\n    get: () => {\n      console.warn(`\\`${oldPath}\\` will be removed in a near future release, ` + `use \\`${newPath}\\` instead.`);\n      return value;\n    },\n  });\n};\n\n// Check for updates.\nconst pkg = __webpack_require__(/*! ../package.json */ \"(rsc)/./node_modules/@distube/ytdl-core/package.json\");\nconst UPDATE_INTERVAL = 1000 * 60 * 60 * 12;\nlet updateWarnTimes = 0;\nexports.lastUpdateCheck = 0;\nexports.checkForUpdates = () => {\n  if (\n    !process.env.YTDL_NO_UPDATE &&\n    !pkg.version.startsWith(\"0.0.0-\") &&\n    Date.now() - exports.lastUpdateCheck >= UPDATE_INTERVAL\n  ) {\n    exports.lastUpdateCheck = Date.now();\n    return exports\n      .request(\"https://api.github.com/repos/distubejs/ytdl-core/contents/package.json\", {\n        requestOptions: {\n          headers: {\n            \"User-Agent\":\n              \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.3\",\n          },\n        },\n      })\n      .then(\n        response => {\n          const buf = Buffer.from(response.content, response.encoding);\n          const pkgFile = JSON.parse(buf.toString(\"ascii\"));\n          if (pkgFile.version !== pkg.version && updateWarnTimes++ < 5) {\n            // eslint-disable-next-line max-len\n            console.warn(\n              '\\x1b[33mWARNING:\\x1B[0m @distube/ytdl-core is out of date! Update with \"npm install @distube/ytdl-core@latest\".',\n            );\n          }\n        },\n        err => {\n          console.warn(\"Error checking for updates:\", err.message);\n          console.warn(\"You can disable this check by setting the `YTDL_NO_UPDATE` env variable.\");\n        },\n      );\n  }\n  return null;\n};\n\n/**\n * Gets random IPv6 Address from a block\n *\n * @param {string} ip the IPv6 block in CIDR-Notation\n * @returns {string}\n */\nconst getRandomIPv6 = (exports.getRandomIPv6 = ip => {\n  // Start with a fast Regex-Check\n  if (!isIPv6(ip)) throw Error(\"Invalid IPv6 format\");\n  // Start by splitting and normalizing addr and mask\n  const [rawAddr, rawMask] = ip.split(\"/\");\n  let base10Mask = parseInt(rawMask);\n  if (!base10Mask || base10Mask > 128 || base10Mask < 24) throw Error(\"Invalid IPv6 subnet\");\n  const base10addr = normalizeIP(rawAddr);\n  // Get random addr to pad with\n  // using Math.random since we're not requiring high level of randomness\n  const randomAddr = new Array(8).fill(1).map(() => Math.floor(Math.random() * 0xffff));\n\n  // Merge base10addr with randomAddr\n  const mergedAddr = randomAddr.map((randomItem, idx) => {\n    // Calculate the amount of static bits\n    const staticBits = Math.min(base10Mask, 16);\n    // Adjust the bitmask with the staticBits\n    base10Mask -= staticBits;\n    // Calculate the bitmask\n    // lsb makes the calculation way more complicated\n    const mask = 0xffff - (2 ** (16 - staticBits) - 1);\n    // Combine base10addr and random\n    return (base10addr[idx] & mask) + (randomItem & (mask ^ 0xffff));\n  });\n  // Return new addr\n  return mergedAddr.map(x => x.toString(\"16\")).join(\":\");\n});\n\n// eslint-disable-next-line max-len\nconst IPV6_REGEX =\n  /^(([0-9a-f]{1,4}:)(:[0-9a-f]{1,4}){1,6}|([0-9a-f]{1,4}:){1,2}(:[0-9a-f]{1,4}){1,5}|([0-9a-f]{1,4}:){1,3}(:[0-9a-f]{1,4}){1,4}|([0-9a-f]{1,4}:){1,4}(:[0-9a-f]{1,4}){1,3}|([0-9a-f]{1,4}:){1,5}(:[0-9a-f]{1,4}){1,2}|([0-9a-f]{1,4}:){1,6}(:[0-9a-f]{1,4})|([0-9a-f]{1,4}:){1,7}(([0-9a-f]{1,4})|:))\\/(1[0-1]\\d|12[0-8]|\\d{1,2})$/;\n/**\n * Quick check for a valid IPv6\n * The Regex only accepts a subset of all IPv6 Addresses\n *\n * @param {string} ip the IPv6 block in CIDR-Notation to test\n * @returns {boolean} true if valid\n */\nconst isIPv6 = (exports.isIPv6 = ip => IPV6_REGEX.test(ip));\n\n/**\n * Normalise an IP Address\n *\n * @param {string} ip the IPv6 Addr\n * @returns {number[]} the 8 parts of the IPv6 as Integers\n */\nconst normalizeIP = (exports.normalizeIP = ip => {\n  // Split by fill position\n  const parts = ip.split(\"::\").map(x => x.split(\":\"));\n  // Normalize start and end\n  const partStart = parts[0] || [];\n  const partEnd = parts[1] || [];\n  partEnd.reverse();\n  // Placeholder for full ip\n  const fullIP = new Array(8).fill(0);\n  // Fill in start and end parts\n  for (let i = 0; i < Math.min(partStart.length, 8); i++) {\n    fullIP[i] = parseInt(partStart[i], 16) || 0;\n  }\n  for (let i = 0; i < Math.min(partEnd.length, 8); i++) {\n    fullIP[7 - i] = parseInt(partEnd[i], 16) || 0;\n  }\n  return fullIP;\n});\n\nexports.saveDebugFile = (name, body) => {\n  const filename = `${+new Date()}-${name}`;\n  writeFileSync(filename, body);\n  return filename;\n};\n\nconst findPropKeyInsensitive = (obj, prop) =>\n  Object.keys(obj).find(p => p.toLowerCase() === prop.toLowerCase()) || null;\n\nexports.getPropInsensitive = (obj, prop) => {\n  const key = findPropKeyInsensitive(obj, prop);\n  return key && obj[key];\n};\n\nexports.setPropInsensitive = (obj, prop, value) => {\n  const key = findPropKeyInsensitive(obj, prop);\n  obj[key || prop] = value;\n  return key;\n};\n\nlet oldCookieWarning = true;\nlet oldDispatcherWarning = true;\nexports.applyDefaultAgent = options => {\n  if (!options.agent) {\n    const { jar } = AGENT.defaultAgent;\n    const c = exports.getPropInsensitive(options.requestOptions.headers, \"cookie\");\n    if (c) {\n      jar.removeAllCookiesSync();\n      AGENT.addCookiesFromString(jar, c);\n      if (oldCookieWarning) {\n        oldCookieWarning = false;\n        console.warn(\n          \"\\x1b[33mWARNING:\\x1B[0m Using old cookie format, \" +\n            \"please use the new one instead. (https://github.com/distubejs/ytdl-core#cookies-support)\",\n        );\n      }\n    }\n    if (options.requestOptions.dispatcher && oldDispatcherWarning) {\n      oldDispatcherWarning = false;\n      console.warn(\n        \"\\x1b[33mWARNING:\\x1B[0m Your dispatcher is overridden by `ytdl.Agent`. \" +\n          \"To implement your own, check out the documentation. \" +\n          \"(https://github.com/distubejs/ytdl-core#how-to-implement-ytdlagent-with-your-own-dispatcher)\",\n      );\n    }\n    options.agent = AGENT.defaultAgent;\n  }\n};\n\nlet oldLocalAddressWarning = true;\nexports.applyOldLocalAddress = options => {\n  if (\n    !options.requestOptions ||\n    !options.requestOptions.localAddress ||\n    options.requestOptions.localAddress === options.agent.localAddress\n  )\n    return;\n  options.agent = AGENT.createAgent(undefined, { localAddress: options.requestOptions.localAddress });\n  if (oldLocalAddressWarning) {\n    oldLocalAddressWarning = false;\n    console.warn(\n      \"\\x1b[33mWARNING:\\x1B[0m Using old localAddress option, \" +\n        \"please add it to the agent options instead. (https://github.com/distubejs/ytdl-core#ip-rotation)\",\n    );\n  }\n};\n\nlet oldIpRotationsWarning = true;\nexports.applyIPv6Rotations = options => {\n  if (options.IPv6Block) {\n    options.requestOptions = Object.assign({}, options.requestOptions, {\n      localAddress: getRandomIPv6(options.IPv6Block),\n    });\n    if (oldIpRotationsWarning) {\n      oldIpRotationsWarning = false;\n      oldLocalAddressWarning = false;\n      console.warn(\n        \"\\x1b[33mWARNING:\\x1B[0m IPv6Block option is deprecated, \" +\n          \"please create your own ip rotation instead. (https://github.com/distubejs/ytdl-core#ip-rotation)\",\n      );\n    }\n  }\n};\n\nexports.applyDefaultHeaders = options => {\n  options.requestOptions = Object.assign({}, options.requestOptions);\n  options.requestOptions.headers = Object.assign(\n    {},\n    {\n      // eslint-disable-next-line max-len\n      \"User-Agent\":\n        \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.101 Safari/537.36\",\n    },\n    options.requestOptions.headers,\n  );\n};\n\nexports.generateClientPlaybackNonce = length => {\n  const CPN_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n  return Array.from({ length }, () => CPN_CHARS[Math.floor(Math.random() * CPN_CHARS.length)]).join(\"\");\n};\n\nexports.applyPlayerClients = options => {\n  if (!options.playerClients || options.playerClients.length === 0) {\n    options.playerClients = [\"WEB\", \"WEB_CREATOR\", \"IOS\"];\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGRpc3R1YmUveXRkbC1jb3JlL2xpYi91dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxRQUFRLFVBQVUsRUFBRSxtQkFBTyxDQUFDLG9EQUFRO0FBQ3BDLFFBQVEsZ0JBQWdCLEVBQUUsbUJBQU8sQ0FBQyxjQUFJO0FBQ3RDLGNBQWMsbUJBQU8sQ0FBQyxxRUFBUzs7QUFFL0I7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0EsaUJBQWlCLGVBQWU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsUUFBUSxFQUFFLEtBQUssRUFBRSxPQUFPO0FBQ2pELElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLElBQUksc0JBQXNCO0FBQzFCLElBQUksc0JBQXNCO0FBQzFCLElBQUksc0JBQXNCO0FBQzFCO0FBQ0EsSUFBSSwwQ0FBMEMsRUFBRSxXQUFXO0FBQzNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNEJBQTRCO0FBQ2hDLGFBQWE7QUFDYixjQUFjO0FBQ2Q7O0FBRUE7QUFDQSwyRUFBMkUsYUFBYSxhQUFhO0FBQ3JHOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLHNCQUFzQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLDJCQUEyQjtBQUMxQyxRQUFRLGlDQUFpQzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxLQUFLO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUSwwREFBMEQsUUFBUTtBQUNsRztBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxZQUFZLG1CQUFPLENBQUMsNkVBQWlCO0FBQ3JDO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHVCQUF1QjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU87QUFDcEQsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSx1QkFBdUIscUJBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLGVBQWUsSUFBSSxhQUFhLElBQUksRUFBRSxJQUFJLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEVBQUUsSUFBSSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxFQUFFLElBQUksV0FBVyxJQUFJLEdBQUcsSUFBSSxXQUFXLElBQUksRUFBRSxJQUFJLFdBQVcsSUFBSSxHQUFHLElBQUksV0FBVyxJQUFJLEVBQUUsSUFBSSxXQUFXLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSxZQUFZLElBQUksR0FBRyxJQUFJLFdBQVcsSUFBSSw0QkFBNEIsSUFBSTtBQUNqVTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxnQkFBZ0IsY0FBYzs7QUFFOUI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsVUFBVTtBQUN2QjtBQUNBLHFCQUFxQixtQkFBbUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1DQUFtQztBQUNyRDtBQUNBO0FBQ0Esa0JBQWtCLGlDQUFpQztBQUNuRDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELHFCQUFxQjtBQUNyQixzQkFBc0IsWUFBWSxHQUFHLEtBQUs7QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxtREFBbUQ7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLDZDQUE2QztBQUM3QztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0IsMkNBQTJDO0FBQzNDO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxPQUFPO0FBQzlDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DO0FBQ25DO0FBQ0Esc0JBQXNCLFFBQVE7QUFDOUI7O0FBRUEsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEJ1cmFrXFxEb2N1bWVudHNcXEdpdEh1YlxceW91dHViZS1kb3dubG9hZGVyXFxub2RlX21vZHVsZXNcXEBkaXN0dWJlXFx5dGRsLWNvcmVcXGxpYlxcdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyByZXF1ZXN0IH0gPSByZXF1aXJlKFwidW5kaWNpXCIpO1xuY29uc3QgeyB3cml0ZUZpbGVTeW5jIH0gPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBBR0VOVCA9IHJlcXVpcmUoXCIuL2FnZW50XCIpO1xuXG4vKipcbiAqIEV4dHJhY3Qgc3RyaW5nIGluYmV0d2VlbiBhbm90aGVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXlzdGFja1xuICogQHBhcmFtIHtzdHJpbmd9IGxlZnRcbiAqIEBwYXJhbSB7c3RyaW5nfSByaWdodFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuY29uc3QgYmV0d2VlbiA9IChleHBvcnRzLmJldHdlZW4gPSAoaGF5c3RhY2ssIGxlZnQsIHJpZ2h0KSA9PiB7XG4gIGxldCBwb3M7XG4gIGlmIChsZWZ0IGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBoYXlzdGFjay5tYXRjaChsZWZ0KTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgcG9zID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7XG4gIH0gZWxzZSB7XG4gICAgcG9zID0gaGF5c3RhY2suaW5kZXhPZihsZWZ0KTtcbiAgICBpZiAocG9zID09PSAtMSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHBvcyArPSBsZWZ0Lmxlbmd0aDtcbiAgfVxuICBoYXlzdGFjayA9IGhheXN0YWNrLnNsaWNlKHBvcyk7XG4gIHBvcyA9IGhheXN0YWNrLmluZGV4T2YocmlnaHQpO1xuICBpZiAocG9zID09PSAtMSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGhheXN0YWNrID0gaGF5c3RhY2suc2xpY2UoMCwgcG9zKTtcbiAgcmV0dXJuIGhheXN0YWNrO1xufSk7XG5cbmV4cG9ydHMudHJ5UGFyc2VCZXR3ZWVuID0gKGJvZHksIGxlZnQsIHJpZ2h0LCBwcmVwZW5kID0gXCJcIiwgYXBwZW5kID0gXCJcIikgPT4ge1xuICB0cnkge1xuICAgIGxldCBkYXRhID0gYmV0d2Vlbihib2R5LCBsZWZ0LCByaWdodCk7XG4gICAgaWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShgJHtwcmVwZW5kfSR7ZGF0YX0ke2FwcGVuZH1gKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCBhIG51bWJlciBmcm9tIGFuIGFiYnJldmlhdGVkIG51bWJlciBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0cy5wYXJzZUFiYnJldmlhdGVkTnVtYmVyID0gc3RyaW5nID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBzdHJpbmdcbiAgICAucmVwbGFjZShcIixcIiwgXCIuXCIpXG4gICAgLnJlcGxhY2UoXCIgXCIsIFwiXCIpXG4gICAgLm1hdGNoKC8oW1xcZCwuXSspKFtNS10/KS8pO1xuICBpZiAobWF0Y2gpIHtcbiAgICBsZXQgWywgbnVtLCBtdWx0aV0gPSBtYXRjaDtcbiAgICBudW0gPSBwYXJzZUZsb2F0KG51bSk7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXVsdGkgPT09IFwiTVwiID8gbnVtICogMTAwMDAwMCA6IG11bHRpID09PSBcIktcIiA/IG51bSAqIDEwMDAgOiBudW0pO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBFc2NhcGUgc2VxdWVuY2VzIGZvciBjdXRBZnRlckpTXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhcnQgdGhlIGNoYXJhY3RlciBzdHJpbmcgdGhlIGVzY2FwZSBzZXF1ZW5jZVxuICogQHBhcmFtIHtzdHJpbmd9IGVuZCB0aGUgY2hhcmFjdGVyIHN0cmluZyB0byBzdG9wIHRoZSBlc2NhcGUgc2VlcXVlbmNlXG4gKiBAcGFyYW0ge3VuZGVmaW5lZHxSZWdleH0gc3RhcnRQcmVmaXggYSByZWdleCB0byBjaGVjayBhZ2FpbnN0IHRoZSBwcmVjZWRpbmcgMTAgY2hhcmFjdGVyc1xuICovXG5jb25zdCBFU0NBUElOR19TRVFVRU5aRVMgPSBbXG4gIC8vIFN0cmluZ3NcbiAgeyBzdGFydDogJ1wiJywgZW5kOiAnXCInIH0sXG4gIHsgc3RhcnQ6IFwiJ1wiLCBlbmQ6IFwiJ1wiIH0sXG4gIHsgc3RhcnQ6IFwiYFwiLCBlbmQ6IFwiYFwiIH0sXG4gIC8vIFJlZ2VFeFxuICB7IHN0YXJ0OiBcIi9cIiwgZW5kOiBcIi9cIiwgc3RhcnRQcmVmaXg6IC8oXnxbW3s6OywvXSlcXHM/JC8gfSxcbl07XG5cbi8qKlxuICogTWF0Y2ggYmVnaW4gYW5kIGVuZCBicmFjZXMgb2YgaW5wdXQgSlMsIHJldHVybiBvbmx5IEpTXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1peGVkSnNvblxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0cy5jdXRBZnRlckpTID0gbWl4ZWRKc29uID0+IHtcbiAgLy8gRGVmaW5lIHRoZSBnZW5lcmFsIG9wZW4gYW5kIGNsb3NpbmcgdGFnXG4gIGxldCBvcGVuLCBjbG9zZTtcbiAgaWYgKG1peGVkSnNvblswXSA9PT0gXCJbXCIpIHtcbiAgICBvcGVuID0gXCJbXCI7XG4gICAgY2xvc2UgPSBcIl1cIjtcbiAgfSBlbHNlIGlmIChtaXhlZEpzb25bMF0gPT09IFwie1wiKSB7XG4gICAgb3BlbiA9IFwie1wiO1xuICAgIGNsb3NlID0gXCJ9XCI7XG4gIH1cblxuICBpZiAoIW9wZW4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGN1dCB1bnN1cHBvcnRlZCBKU09OIChuZWVkIHRvIGJlZ2luIHdpdGggWyBvciB7ICkgYnV0IGdvdDogJHttaXhlZEpzb25bMF19YCk7XG4gIH1cblxuICAvLyBTdGF0ZXMgaWYgdGhlIGxvb3AgaXMgY3VycmVudGx5IGluc2lkZSBhbiBlc2NhcGVkIGpzIG9iamVjdFxuICBsZXQgaXNFc2NhcGVkT2JqZWN0ID0gbnVsbDtcblxuICAvLyBTdGF0ZXMgaWYgdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGlzIHRyZWF0ZWQgYXMgZXNjYXBlZCBvciBub3RcbiAgbGV0IGlzRXNjYXBlZCA9IGZhbHNlO1xuXG4gIC8vIEN1cnJlbnQgb3BlbiBicmFja2V0cyB0byBiZSBjbG9zZWRcbiAgbGV0IGNvdW50ZXIgPSAwO1xuXG4gIGxldCBpO1xuICAvLyBHbyB0aHJvdWdoIGFsbCBjaGFyYWN0ZXJzIGZyb20gdGhlIHN0YXJ0XG4gIGZvciAoaSA9IDA7IGkgPCBtaXhlZEpzb24ubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBFbmQgb2YgY3VycmVudCBlc2NhcGVkIG9iamVjdFxuICAgIGlmICghaXNFc2NhcGVkICYmIGlzRXNjYXBlZE9iamVjdCAhPT0gbnVsbCAmJiBtaXhlZEpzb25baV0gPT09IGlzRXNjYXBlZE9iamVjdC5lbmQpIHtcbiAgICAgIGlzRXNjYXBlZE9iamVjdCA9IG51bGw7XG4gICAgICBjb250aW51ZTtcbiAgICAgIC8vIE1pZ2h0IGJlIHRoZSBzdGFydCBvZiBhIG5ldyBlc2NhcGVkIG9iamVjdFxuICAgIH0gZWxzZSBpZiAoIWlzRXNjYXBlZCAmJiBpc0VzY2FwZWRPYmplY3QgPT09IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgZXNjYXBlZCBvZiBFU0NBUElOR19TRVFVRU5aRVMpIHtcbiAgICAgICAgaWYgKG1peGVkSnNvbltpXSAhPT0gZXNjYXBlZC5zdGFydCkgY29udGludWU7XG4gICAgICAgIC8vIFRlc3Qgc3RhcnRQcmVmaXggYWdhaW5zdCBsYXN0IDEwIGNoYXJhY3RlcnNcbiAgICAgICAgaWYgKCFlc2NhcGVkLnN0YXJ0UHJlZml4IHx8IG1peGVkSnNvbi5zdWJzdHJpbmcoaSAtIDEwLCBpKS5tYXRjaChlc2NhcGVkLnN0YXJ0UHJlZml4KSkge1xuICAgICAgICAgIGlzRXNjYXBlZE9iamVjdCA9IGVzY2FwZWQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENvbnRpbnVlIGlmIHdlIGZvdW5kIGEgbmV3IGVzY2FwZWQgb2JqZWN0XG4gICAgICBpZiAoaXNFc2NhcGVkT2JqZWN0ICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRvZ2dsZSB0aGUgaXNFc2NhcGVkIGJvb2xlYW4gZm9yIGV2ZXJ5IGJhY2tzbGFzaFxuICAgIC8vIFJlc2V0IGZvciBldmVyeSByZWd1bGFyIGNoYXJhY3RlclxuICAgIGlzRXNjYXBlZCA9IG1peGVkSnNvbltpXSA9PT0gXCJcXFxcXCIgJiYgIWlzRXNjYXBlZDtcblxuICAgIGlmIChpc0VzY2FwZWRPYmplY3QgIT09IG51bGwpIGNvbnRpbnVlO1xuXG4gICAgaWYgKG1peGVkSnNvbltpXSA9PT0gb3Blbikge1xuICAgICAgY291bnRlcisrO1xuICAgIH0gZWxzZSBpZiAobWl4ZWRKc29uW2ldID09PSBjbG9zZSkge1xuICAgICAgY291bnRlci0tO1xuICAgIH1cblxuICAgIC8vIEFsbCBicmFja2V0cyBoYXZlIGJlZW4gY2xvc2VkLCB0aHVzIGVuZCBvZiBKU09OIGlzIHJlYWNoZWRcbiAgICBpZiAoY291bnRlciA9PT0gMCkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBjdXQgSlNPTlxuICAgICAgcmV0dXJuIG1peGVkSnNvbi5zdWJzdHJpbmcoMCwgaSArIDEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdlIHJhbiB0aHJvdWdoIHRoZSB3aG9sZSBzdHJpbmcgYW5kIGVuZGVkIHVwIHdpdGggYW4gdW5jbG9zZWQgYnJhY2tldFxuICB0aHJvdyBFcnJvcihcIkNhbid0IGN1dCB1bnN1cHBvcnRlZCBKU09OIChubyBtYXRjaGluZyBjbG9zaW5nIGJyYWNrZXQgZm91bmQpXCIpO1xufTtcblxuY2xhc3MgVW5yZWNvdmVyYWJsZUVycm9yIGV4dGVuZHMgRXJyb3Ige31cbi8qKlxuICogQ2hlY2tzIGlmIHRoZXJlIGlzIGEgcGxheWFiaWxpdHkgZXJyb3IuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBsYXllcl9yZXNwb25zZVxuICogQHJldHVybnMgeyFFcnJvcn1cbiAqL1xuZXhwb3J0cy5wbGF5RXJyb3IgPSBwbGF5ZXJfcmVzcG9uc2UgPT4ge1xuICBjb25zdCBwbGF5YWJpbGl0eSA9IHBsYXllcl9yZXNwb25zZSAmJiBwbGF5ZXJfcmVzcG9uc2UucGxheWFiaWxpdHlTdGF0dXM7XG4gIGlmICghcGxheWFiaWxpdHkpIHJldHVybiBudWxsO1xuICBpZiAoW1wiRVJST1JcIiwgXCJMT0dJTl9SRVFVSVJFRFwiXS5pbmNsdWRlcyhwbGF5YWJpbGl0eS5zdGF0dXMpKSB7XG4gICAgcmV0dXJuIG5ldyBVbnJlY292ZXJhYmxlRXJyb3IocGxheWFiaWxpdHkucmVhc29uIHx8IChwbGF5YWJpbGl0eS5tZXNzYWdlcyAmJiBwbGF5YWJpbGl0eS5tZXNzYWdlc1swXSkpO1xuICB9XG4gIGlmIChwbGF5YWJpbGl0eS5zdGF0dXMgPT09IFwiTElWRV9TVFJFQU1fT0ZGTElORVwiKSB7XG4gICAgcmV0dXJuIG5ldyBVbnJlY292ZXJhYmxlRXJyb3IocGxheWFiaWxpdHkucmVhc29uIHx8IFwiVGhlIGxpdmUgc3RyZWFtIGlzIG9mZmxpbmUuXCIpO1xuICB9XG4gIGlmIChwbGF5YWJpbGl0eS5zdGF0dXMgPT09IFwiVU5QTEFZQUJMRVwiKSB7XG4gICAgcmV0dXJuIG5ldyBVbnJlY292ZXJhYmxlRXJyb3IocGxheWFiaWxpdHkucmVhc29uIHx8IFwiVGhpcyB2aWRlbyBpcyB1bmF2YWlsYWJsZS5cIik7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBVbmRpY2kgcmVxdWVzdFxuZXhwb3J0cy5yZXF1ZXN0ID0gYXN5bmMgKHVybCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGxldCB7IHJlcXVlc3RPcHRpb25zLCByZXdyaXRlUmVxdWVzdCB9ID0gb3B0aW9ucztcblxuICBpZiAodHlwZW9mIHJld3JpdGVSZXF1ZXN0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gcmV3cml0ZVJlcXVlc3QodXJsLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgcmVxdWVzdE9wdGlvbnMgPSByZXF1ZXN0LnJlcXVlc3RPcHRpb25zO1xuICAgIHVybCA9IHJlcXVlc3QudXJsO1xuICB9XG5cbiAgY29uc3QgcmVxID0gYXdhaXQgcmVxdWVzdCh1cmwsIHJlcXVlc3RPcHRpb25zKTtcbiAgY29uc3QgY29kZSA9IHJlcS5zdGF0dXNDb2RlLnRvU3RyaW5nKCk7XG4gIGlmIChjb2RlLnN0YXJ0c1dpdGgoXCIyXCIpKSB7XG4gICAgaWYgKHJlcS5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkgcmV0dXJuIHJlcS5ib2R5Lmpzb24oKTtcbiAgICByZXR1cm4gcmVxLmJvZHkudGV4dCgpO1xuICB9XG4gIGlmIChjb2RlLnN0YXJ0c1dpdGgoXCIzXCIpKSByZXR1cm4gZXhwb3J0cy5yZXF1ZXN0KHJlcS5oZWFkZXJzLmxvY2F0aW9uLCBvcHRpb25zKTtcbiAgY29uc3QgZSA9IG5ldyBFcnJvcihgU3RhdHVzIGNvZGU6ICR7Y29kZX1gKTtcbiAgZS5zdGF0dXNDb2RlID0gcmVxLnN0YXR1c0NvZGU7XG4gIHRocm93IGU7XG59O1xuXG4vKipcbiAqIFRlbXBvcmFyeSBoZWxwZXIgdG8gaGVscCBkZXByZWNhdGluZyBhIGZldyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBvbGRQYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3UGF0aFxuICovXG5leHBvcnRzLmRlcHJlY2F0ZSA9IChvYmosIHByb3AsIHZhbHVlLCBvbGRQYXRoLCBuZXdQYXRoKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIHtcbiAgICBnZXQ6ICgpID0+IHtcbiAgICAgIGNvbnNvbGUud2FybihgXFxgJHtvbGRQYXRofVxcYCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBuZWFyIGZ1dHVyZSByZWxlYXNlLCBgICsgYHVzZSBcXGAke25ld1BhdGh9XFxgIGluc3RlYWQuYCk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgfSk7XG59O1xuXG4vLyBDaGVjayBmb3IgdXBkYXRlcy5cbmNvbnN0IHBrZyA9IHJlcXVpcmUoXCIuLi9wYWNrYWdlLmpzb25cIik7XG5jb25zdCBVUERBVEVfSU5URVJWQUwgPSAxMDAwICogNjAgKiA2MCAqIDEyO1xubGV0IHVwZGF0ZVdhcm5UaW1lcyA9IDA7XG5leHBvcnRzLmxhc3RVcGRhdGVDaGVjayA9IDA7XG5leHBvcnRzLmNoZWNrRm9yVXBkYXRlcyA9ICgpID0+IHtcbiAgaWYgKFxuICAgICFwcm9jZXNzLmVudi5ZVERMX05PX1VQREFURSAmJlxuICAgICFwa2cudmVyc2lvbi5zdGFydHNXaXRoKFwiMC4wLjAtXCIpICYmXG4gICAgRGF0ZS5ub3coKSAtIGV4cG9ydHMubGFzdFVwZGF0ZUNoZWNrID49IFVQREFURV9JTlRFUlZBTFxuICApIHtcbiAgICBleHBvcnRzLmxhc3RVcGRhdGVDaGVjayA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuIGV4cG9ydHNcbiAgICAgIC5yZXF1ZXN0KFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9kaXN0dWJlanMveXRkbC1jb3JlL2NvbnRlbnRzL3BhY2thZ2UuanNvblwiLCB7XG4gICAgICAgIHJlcXVlc3RPcHRpb25zOiB7XG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJVc2VyLUFnZW50XCI6XG4gICAgICAgICAgICAgIFwiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyOS4wLjAuMCBTYWZhcmkvNTM3LjNcIixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICByZXNwb25zZSA9PiB7XG4gICAgICAgICAgY29uc3QgYnVmID0gQnVmZmVyLmZyb20ocmVzcG9uc2UuY29udGVudCwgcmVzcG9uc2UuZW5jb2RpbmcpO1xuICAgICAgICAgIGNvbnN0IHBrZ0ZpbGUgPSBKU09OLnBhcnNlKGJ1Zi50b1N0cmluZyhcImFzY2lpXCIpKTtcbiAgICAgICAgICBpZiAocGtnRmlsZS52ZXJzaW9uICE9PSBwa2cudmVyc2lvbiAmJiB1cGRhdGVXYXJuVGltZXMrKyA8IDUpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICdcXHgxYlszM21XQVJOSU5HOlxceDFCWzBtIEBkaXN0dWJlL3l0ZGwtY29yZSBpcyBvdXQgb2YgZGF0ZSEgVXBkYXRlIHdpdGggXCJucG0gaW5zdGFsbCBAZGlzdHViZS95dGRsLWNvcmVAbGF0ZXN0XCIuJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIkVycm9yIGNoZWNraW5nIGZvciB1cGRhdGVzOlwiLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiWW91IGNhbiBkaXNhYmxlIHRoaXMgY2hlY2sgYnkgc2V0dGluZyB0aGUgYFlURExfTk9fVVBEQVRFYCBlbnYgdmFyaWFibGUuXCIpO1xuICAgICAgICB9LFxuICAgICAgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogR2V0cyByYW5kb20gSVB2NiBBZGRyZXNzIGZyb20gYSBibG9ja1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpcCB0aGUgSVB2NiBibG9jayBpbiBDSURSLU5vdGF0aW9uXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCBnZXRSYW5kb21JUHY2ID0gKGV4cG9ydHMuZ2V0UmFuZG9tSVB2NiA9IGlwID0+IHtcbiAgLy8gU3RhcnQgd2l0aCBhIGZhc3QgUmVnZXgtQ2hlY2tcbiAgaWYgKCFpc0lQdjYoaXApKSB0aHJvdyBFcnJvcihcIkludmFsaWQgSVB2NiBmb3JtYXRcIik7XG4gIC8vIFN0YXJ0IGJ5IHNwbGl0dGluZyBhbmQgbm9ybWFsaXppbmcgYWRkciBhbmQgbWFza1xuICBjb25zdCBbcmF3QWRkciwgcmF3TWFza10gPSBpcC5zcGxpdChcIi9cIik7XG4gIGxldCBiYXNlMTBNYXNrID0gcGFyc2VJbnQocmF3TWFzayk7XG4gIGlmICghYmFzZTEwTWFzayB8fCBiYXNlMTBNYXNrID4gMTI4IHx8IGJhc2UxME1hc2sgPCAyNCkgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIElQdjYgc3VibmV0XCIpO1xuICBjb25zdCBiYXNlMTBhZGRyID0gbm9ybWFsaXplSVAocmF3QWRkcik7XG4gIC8vIEdldCByYW5kb20gYWRkciB0byBwYWQgd2l0aFxuICAvLyB1c2luZyBNYXRoLnJhbmRvbSBzaW5jZSB3ZSdyZSBub3QgcmVxdWlyaW5nIGhpZ2ggbGV2ZWwgb2YgcmFuZG9tbmVzc1xuICBjb25zdCByYW5kb21BZGRyID0gbmV3IEFycmF5KDgpLmZpbGwoMSkubWFwKCgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4ZmZmZikpO1xuXG4gIC8vIE1lcmdlIGJhc2UxMGFkZHIgd2l0aCByYW5kb21BZGRyXG4gIGNvbnN0IG1lcmdlZEFkZHIgPSByYW5kb21BZGRyLm1hcCgocmFuZG9tSXRlbSwgaWR4KSA9PiB7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBhbW91bnQgb2Ygc3RhdGljIGJpdHNcbiAgICBjb25zdCBzdGF0aWNCaXRzID0gTWF0aC5taW4oYmFzZTEwTWFzaywgMTYpO1xuICAgIC8vIEFkanVzdCB0aGUgYml0bWFzayB3aXRoIHRoZSBzdGF0aWNCaXRzXG4gICAgYmFzZTEwTWFzayAtPSBzdGF0aWNCaXRzO1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgYml0bWFza1xuICAgIC8vIGxzYiBtYWtlcyB0aGUgY2FsY3VsYXRpb24gd2F5IG1vcmUgY29tcGxpY2F0ZWRcbiAgICBjb25zdCBtYXNrID0gMHhmZmZmIC0gKDIgKiogKDE2IC0gc3RhdGljQml0cykgLSAxKTtcbiAgICAvLyBDb21iaW5lIGJhc2UxMGFkZHIgYW5kIHJhbmRvbVxuICAgIHJldHVybiAoYmFzZTEwYWRkcltpZHhdICYgbWFzaykgKyAocmFuZG9tSXRlbSAmIChtYXNrIF4gMHhmZmZmKSk7XG4gIH0pO1xuICAvLyBSZXR1cm4gbmV3IGFkZHJcbiAgcmV0dXJuIG1lcmdlZEFkZHIubWFwKHggPT4geC50b1N0cmluZyhcIjE2XCIpKS5qb2luKFwiOlwiKTtcbn0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuY29uc3QgSVBWNl9SRUdFWCA9XG4gIC9eKChbMC05YS1mXXsxLDR9OikoOlswLTlhLWZdezEsNH0pezEsNn18KFswLTlhLWZdezEsNH06KXsxLDJ9KDpbMC05YS1mXXsxLDR9KXsxLDV9fChbMC05YS1mXXsxLDR9Oil7MSwzfSg6WzAtOWEtZl17MSw0fSl7MSw0fXwoWzAtOWEtZl17MSw0fTopezEsNH0oOlswLTlhLWZdezEsNH0pezEsM318KFswLTlhLWZdezEsNH06KXsxLDV9KDpbMC05YS1mXXsxLDR9KXsxLDJ9fChbMC05YS1mXXsxLDR9Oil7MSw2fSg6WzAtOWEtZl17MSw0fSl8KFswLTlhLWZdezEsNH06KXsxLDd9KChbMC05YS1mXXsxLDR9KXw6KSlcXC8oMVswLTFdXFxkfDEyWzAtOF18XFxkezEsMn0pJC87XG4vKipcbiAqIFF1aWNrIGNoZWNrIGZvciBhIHZhbGlkIElQdjZcbiAqIFRoZSBSZWdleCBvbmx5IGFjY2VwdHMgYSBzdWJzZXQgb2YgYWxsIElQdjYgQWRkcmVzc2VzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlwIHRoZSBJUHY2IGJsb2NrIGluIENJRFItTm90YXRpb24gdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdmFsaWRcbiAqL1xuY29uc3QgaXNJUHY2ID0gKGV4cG9ydHMuaXNJUHY2ID0gaXAgPT4gSVBWNl9SRUdFWC50ZXN0KGlwKSk7XG5cbi8qKlxuICogTm9ybWFsaXNlIGFuIElQIEFkZHJlc3NcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaXAgdGhlIElQdjYgQWRkclxuICogQHJldHVybnMge251bWJlcltdfSB0aGUgOCBwYXJ0cyBvZiB0aGUgSVB2NiBhcyBJbnRlZ2Vyc1xuICovXG5jb25zdCBub3JtYWxpemVJUCA9IChleHBvcnRzLm5vcm1hbGl6ZUlQID0gaXAgPT4ge1xuICAvLyBTcGxpdCBieSBmaWxsIHBvc2l0aW9uXG4gIGNvbnN0IHBhcnRzID0gaXAuc3BsaXQoXCI6OlwiKS5tYXAoeCA9PiB4LnNwbGl0KFwiOlwiKSk7XG4gIC8vIE5vcm1hbGl6ZSBzdGFydCBhbmQgZW5kXG4gIGNvbnN0IHBhcnRTdGFydCA9IHBhcnRzWzBdIHx8IFtdO1xuICBjb25zdCBwYXJ0RW5kID0gcGFydHNbMV0gfHwgW107XG4gIHBhcnRFbmQucmV2ZXJzZSgpO1xuICAvLyBQbGFjZWhvbGRlciBmb3IgZnVsbCBpcFxuICBjb25zdCBmdWxsSVAgPSBuZXcgQXJyYXkoOCkuZmlsbCgwKTtcbiAgLy8gRmlsbCBpbiBzdGFydCBhbmQgZW5kIHBhcnRzXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4ocGFydFN0YXJ0Lmxlbmd0aCwgOCk7IGkrKykge1xuICAgIGZ1bGxJUFtpXSA9IHBhcnNlSW50KHBhcnRTdGFydFtpXSwgMTYpIHx8IDA7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1pbihwYXJ0RW5kLmxlbmd0aCwgOCk7IGkrKykge1xuICAgIGZ1bGxJUFs3IC0gaV0gPSBwYXJzZUludChwYXJ0RW5kW2ldLCAxNikgfHwgMDtcbiAgfVxuICByZXR1cm4gZnVsbElQO1xufSk7XG5cbmV4cG9ydHMuc2F2ZURlYnVnRmlsZSA9IChuYW1lLCBib2R5KSA9PiB7XG4gIGNvbnN0IGZpbGVuYW1lID0gYCR7K25ldyBEYXRlKCl9LSR7bmFtZX1gO1xuICB3cml0ZUZpbGVTeW5jKGZpbGVuYW1lLCBib2R5KTtcbiAgcmV0dXJuIGZpbGVuYW1lO1xufTtcblxuY29uc3QgZmluZFByb3BLZXlJbnNlbnNpdGl2ZSA9IChvYmosIHByb3ApID0+XG4gIE9iamVjdC5rZXlzKG9iaikuZmluZChwID0+IHAudG9Mb3dlckNhc2UoKSA9PT0gcHJvcC50b0xvd2VyQ2FzZSgpKSB8fCBudWxsO1xuXG5leHBvcnRzLmdldFByb3BJbnNlbnNpdGl2ZSA9IChvYmosIHByb3ApID0+IHtcbiAgY29uc3Qga2V5ID0gZmluZFByb3BLZXlJbnNlbnNpdGl2ZShvYmosIHByb3ApO1xuICByZXR1cm4ga2V5ICYmIG9ialtrZXldO1xufTtcblxuZXhwb3J0cy5zZXRQcm9wSW5zZW5zaXRpdmUgPSAob2JqLCBwcm9wLCB2YWx1ZSkgPT4ge1xuICBjb25zdCBrZXkgPSBmaW5kUHJvcEtleUluc2Vuc2l0aXZlKG9iaiwgcHJvcCk7XG4gIG9ialtrZXkgfHwgcHJvcF0gPSB2YWx1ZTtcbiAgcmV0dXJuIGtleTtcbn07XG5cbmxldCBvbGRDb29raWVXYXJuaW5nID0gdHJ1ZTtcbmxldCBvbGREaXNwYXRjaGVyV2FybmluZyA9IHRydWU7XG5leHBvcnRzLmFwcGx5RGVmYXVsdEFnZW50ID0gb3B0aW9ucyA9PiB7XG4gIGlmICghb3B0aW9ucy5hZ2VudCkge1xuICAgIGNvbnN0IHsgamFyIH0gPSBBR0VOVC5kZWZhdWx0QWdlbnQ7XG4gICAgY29uc3QgYyA9IGV4cG9ydHMuZ2V0UHJvcEluc2Vuc2l0aXZlKG9wdGlvbnMucmVxdWVzdE9wdGlvbnMuaGVhZGVycywgXCJjb29raWVcIik7XG4gICAgaWYgKGMpIHtcbiAgICAgIGphci5yZW1vdmVBbGxDb29raWVzU3luYygpO1xuICAgICAgQUdFTlQuYWRkQ29va2llc0Zyb21TdHJpbmcoamFyLCBjKTtcbiAgICAgIGlmIChvbGRDb29raWVXYXJuaW5nKSB7XG4gICAgICAgIG9sZENvb2tpZVdhcm5pbmcgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiXFx4MWJbMzNtV0FSTklORzpcXHgxQlswbSBVc2luZyBvbGQgY29va2llIGZvcm1hdCwgXCIgK1xuICAgICAgICAgICAgXCJwbGVhc2UgdXNlIHRoZSBuZXcgb25lIGluc3RlYWQuIChodHRwczovL2dpdGh1Yi5jb20vZGlzdHViZWpzL3l0ZGwtY29yZSNjb29raWVzLXN1cHBvcnQpXCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnJlcXVlc3RPcHRpb25zLmRpc3BhdGNoZXIgJiYgb2xkRGlzcGF0Y2hlcldhcm5pbmcpIHtcbiAgICAgIG9sZERpc3BhdGNoZXJXYXJuaW5nID0gZmFsc2U7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiXFx4MWJbMzNtV0FSTklORzpcXHgxQlswbSBZb3VyIGRpc3BhdGNoZXIgaXMgb3ZlcnJpZGRlbiBieSBgeXRkbC5BZ2VudGAuIFwiICtcbiAgICAgICAgICBcIlRvIGltcGxlbWVudCB5b3VyIG93biwgY2hlY2sgb3V0IHRoZSBkb2N1bWVudGF0aW9uLiBcIiArXG4gICAgICAgICAgXCIoaHR0cHM6Ly9naXRodWIuY29tL2Rpc3R1YmVqcy95dGRsLWNvcmUjaG93LXRvLWltcGxlbWVudC15dGRsYWdlbnQtd2l0aC15b3VyLW93bi1kaXNwYXRjaGVyKVwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgb3B0aW9ucy5hZ2VudCA9IEFHRU5ULmRlZmF1bHRBZ2VudDtcbiAgfVxufTtcblxubGV0IG9sZExvY2FsQWRkcmVzc1dhcm5pbmcgPSB0cnVlO1xuZXhwb3J0cy5hcHBseU9sZExvY2FsQWRkcmVzcyA9IG9wdGlvbnMgPT4ge1xuICBpZiAoXG4gICAgIW9wdGlvbnMucmVxdWVzdE9wdGlvbnMgfHxcbiAgICAhb3B0aW9ucy5yZXF1ZXN0T3B0aW9ucy5sb2NhbEFkZHJlc3MgfHxcbiAgICBvcHRpb25zLnJlcXVlc3RPcHRpb25zLmxvY2FsQWRkcmVzcyA9PT0gb3B0aW9ucy5hZ2VudC5sb2NhbEFkZHJlc3NcbiAgKVxuICAgIHJldHVybjtcbiAgb3B0aW9ucy5hZ2VudCA9IEFHRU5ULmNyZWF0ZUFnZW50KHVuZGVmaW5lZCwgeyBsb2NhbEFkZHJlc3M6IG9wdGlvbnMucmVxdWVzdE9wdGlvbnMubG9jYWxBZGRyZXNzIH0pO1xuICBpZiAob2xkTG9jYWxBZGRyZXNzV2FybmluZykge1xuICAgIG9sZExvY2FsQWRkcmVzc1dhcm5pbmcgPSBmYWxzZTtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIlxceDFiWzMzbVdBUk5JTkc6XFx4MUJbMG0gVXNpbmcgb2xkIGxvY2FsQWRkcmVzcyBvcHRpb24sIFwiICtcbiAgICAgICAgXCJwbGVhc2UgYWRkIGl0IHRvIHRoZSBhZ2VudCBvcHRpb25zIGluc3RlYWQuIChodHRwczovL2dpdGh1Yi5jb20vZGlzdHViZWpzL3l0ZGwtY29yZSNpcC1yb3RhdGlvbilcIixcbiAgICApO1xuICB9XG59O1xuXG5sZXQgb2xkSXBSb3RhdGlvbnNXYXJuaW5nID0gdHJ1ZTtcbmV4cG9ydHMuYXBwbHlJUHY2Um90YXRpb25zID0gb3B0aW9ucyA9PiB7XG4gIGlmIChvcHRpb25zLklQdjZCbG9jaykge1xuICAgIG9wdGlvbnMucmVxdWVzdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLnJlcXVlc3RPcHRpb25zLCB7XG4gICAgICBsb2NhbEFkZHJlc3M6IGdldFJhbmRvbUlQdjYob3B0aW9ucy5JUHY2QmxvY2spLFxuICAgIH0pO1xuICAgIGlmIChvbGRJcFJvdGF0aW9uc1dhcm5pbmcpIHtcbiAgICAgIG9sZElwUm90YXRpb25zV2FybmluZyA9IGZhbHNlO1xuICAgICAgb2xkTG9jYWxBZGRyZXNzV2FybmluZyA9IGZhbHNlO1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIlxceDFiWzMzbVdBUk5JTkc6XFx4MUJbMG0gSVB2NkJsb2NrIG9wdGlvbiBpcyBkZXByZWNhdGVkLCBcIiArXG4gICAgICAgICAgXCJwbGVhc2UgY3JlYXRlIHlvdXIgb3duIGlwIHJvdGF0aW9uIGluc3RlYWQuIChodHRwczovL2dpdGh1Yi5jb20vZGlzdHViZWpzL3l0ZGwtY29yZSNpcC1yb3RhdGlvbilcIixcbiAgICAgICk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnRzLmFwcGx5RGVmYXVsdEhlYWRlcnMgPSBvcHRpb25zID0+IHtcbiAgb3B0aW9ucy5yZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMucmVxdWVzdE9wdGlvbnMpO1xuICBvcHRpb25zLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKFxuICAgIHt9LFxuICAgIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICBcIlVzZXItQWdlbnRcIjpcbiAgICAgICAgXCJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODcuMC40MjgwLjEwMSBTYWZhcmkvNTM3LjM2XCIsXG4gICAgfSxcbiAgICBvcHRpb25zLnJlcXVlc3RPcHRpb25zLmhlYWRlcnMsXG4gICk7XG59O1xuXG5leHBvcnRzLmdlbmVyYXRlQ2xpZW50UGxheWJhY2tOb25jZSA9IGxlbmd0aCA9PiB7XG4gIGNvbnN0IENQTl9DSEFSUyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktX1wiO1xuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoKSA9PiBDUE5fQ0hBUlNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogQ1BOX0NIQVJTLmxlbmd0aCldKS5qb2luKFwiXCIpO1xufTtcblxuZXhwb3J0cy5hcHBseVBsYXllckNsaWVudHMgPSBvcHRpb25zID0+IHtcbiAgaWYgKCFvcHRpb25zLnBsYXllckNsaWVudHMgfHwgb3B0aW9ucy5wbGF5ZXJDbGllbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIG9wdGlvbnMucGxheWVyQ2xpZW50cyA9IFtcIldFQlwiLCBcIldFQl9DUkVBVE9SXCIsIFwiSU9TXCJdO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@distube/ytdl-core/lib/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@distube/ytdl-core/package.json":
/*!******************************************************!*\
  !*** ./node_modules/@distube/ytdl-core/package.json ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"name":"@distube/ytdl-core","description":"DisTube fork of ytdl-core. YouTube video downloader in pure javascript.","keywords":["youtube","video","download","distube"],"version":"4.15.8","repository":{"type":"git","url":"git://github.com/distubejs/ytdl-core.git"},"author":"Skick (https://github.com/skick1234)","contributors":["fent <fentbox@gmail.com> (https://github.com/fent)","Tobias Kutscha (https://github.com/TimeForANinja)","Andrew Kelley (https://github.com/andrewrk)","Mauricio Allende (https://github.com/mallendeo)","Rodrigo Altamirano (https://github.com/raltamirano)","Jim Buck (https://github.com/JimmyBoh)","Pawel Rucinski (https://github.com/Roki100)","Alexander Paolini (https://github.com/Million900o)"],"main":"./lib/index.js","types":"./typings/index.d.ts","files":["lib","typings"],"dependencies":{"http-cookie-agent":"^6.0.8","https-proxy-agent":"^7.0.6","m3u8stream":"^0.8.6","miniget":"^4.2.3","sax":"^1.4.1","tough-cookie":"^4.1.4","undici":"five"},"devDependencies":{"@types/node":"^22.10.2","prettier":"^3.4.2","typescript":"^5.7.2"},"engines":{"node":">=14.0"},"license":"MIT","funding":"https://github.com/distubejs/ytdl-core?sponsor","scripts":{"prettier":"prettier --write \\"**/*.{js,json,yml,md,ts}\\""}}');

/***/ })

};
;